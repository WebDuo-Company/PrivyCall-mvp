(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))s(o);new MutationObserver(o=>{for(const f of o)if(f.type==="childList")for(const d of f.addedNodes)d.tagName==="LINK"&&d.rel==="modulepreload"&&s(d)}).observe(document,{childList:!0,subtree:!0});function i(o){const f={};return o.integrity&&(f.integrity=o.integrity),o.referrerPolicy&&(f.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?f.credentials="include":o.crossOrigin==="anonymous"?f.credentials="omit":f.credentials="same-origin",f}function s(o){if(o.ep)return;o.ep=!0;const f=i(o);fetch(o.href,f)}})();var Uh={exports:{}},jl={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ay;function z0(){if(Ay)return jl;Ay=1;var r=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function i(s,o,f){var d=null;if(f!==void 0&&(d=""+f),o.key!==void 0&&(d=""+o.key),"key"in o){f={};for(var g in o)g!=="key"&&(f[g]=o[g])}else f=o;return o=f.ref,{$$typeof:r,type:s,key:d,ref:o!==void 0?o:null,props:f}}return jl.Fragment=e,jl.jsx=i,jl.jsxs=i,jl}var Sy;function k0(){return Sy||(Sy=1,Uh.exports=z0()),Uh.exports}var tn=k0(),Lh={exports:{}},Tt={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var by;function B0(){if(by)return Tt;by=1;var r=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),f=Symbol.for("react.consumer"),d=Symbol.for("react.context"),g=Symbol.for("react.forward_ref"),v=Symbol.for("react.suspense"),_=Symbol.for("react.memo"),A=Symbol.for("react.lazy"),V=Symbol.iterator;function I(C){return C===null||typeof C!="object"?null:(C=V&&C[V]||C["@@iterator"],typeof C=="function"?C:null)}var G={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},J=Object.assign,$={};function Z(C,X,nt){this.props=C,this.context=X,this.refs=$,this.updater=nt||G}Z.prototype.isReactComponent={},Z.prototype.setState=function(C,X){if(typeof C!="object"&&typeof C!="function"&&C!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,C,X,"setState")},Z.prototype.forceUpdate=function(C){this.updater.enqueueForceUpdate(this,C,"forceUpdate")};function dt(){}dt.prototype=Z.prototype;function ct(C,X,nt){this.props=C,this.context=X,this.refs=$,this.updater=nt||G}var lt=ct.prototype=new dt;lt.constructor=ct,J(lt,Z.prototype),lt.isPureReactComponent=!0;var Rt=Array.isArray,ot={H:null,A:null,T:null,S:null,V:null},Ut=Object.prototype.hasOwnProperty;function N(C,X,nt,W,ft,St){return nt=St.ref,{$$typeof:r,type:C,key:X,ref:nt!==void 0?nt:null,props:St}}function S(C,X){return N(C.type,X,void 0,void 0,void 0,C.props)}function w(C){return typeof C=="object"&&C!==null&&C.$$typeof===r}function O(C){var X={"=":"=0",":":"=2"};return"$"+C.replace(/[=:]/g,function(nt){return X[nt]})}var M=/\/+/g;function U(C,X){return typeof C=="object"&&C!==null&&C.key!=null?O(""+C.key):X.toString(36)}function R(){}function Me(C){switch(C.status){case"fulfilled":return C.value;case"rejected":throw C.reason;default:switch(typeof C.status=="string"?C.then(R,R):(C.status="pending",C.then(function(X){C.status==="pending"&&(C.status="fulfilled",C.value=X)},function(X){C.status==="pending"&&(C.status="rejected",C.reason=X)})),C.status){case"fulfilled":return C.value;case"rejected":throw C.reason}}throw C}function ie(C,X,nt,W,ft){var St=typeof C;(St==="undefined"||St==="boolean")&&(C=null);var _t=!1;if(C===null)_t=!0;else switch(St){case"bigint":case"string":case"number":_t=!0;break;case"object":switch(C.$$typeof){case r:case e:_t=!0;break;case A:return _t=C._init,ie(_t(C._payload),X,nt,W,ft)}}if(_t)return ft=ft(C),_t=W===""?"."+U(C,0):W,Rt(ft)?(nt="",_t!=null&&(nt=_t.replace(M,"$&/")+"/"),ie(ft,X,nt,"",function(kn){return kn})):ft!=null&&(w(ft)&&(ft=S(ft,nt+(ft.key==null||C&&C.key===ft.key?"":(""+ft.key).replace(M,"$&/")+"/")+_t)),X.push(ft)),1;_t=0;var Re=W===""?".":W+":";if(Rt(C))for(var Xt=0;Xt<C.length;Xt++)W=C[Xt],St=Re+U(W,Xt),_t+=ie(W,X,nt,St,ft);else if(Xt=I(C),typeof Xt=="function")for(C=Xt.call(C),Xt=0;!(W=C.next()).done;)W=W.value,St=Re+U(W,Xt++),_t+=ie(W,X,nt,St,ft);else if(St==="object"){if(typeof C.then=="function")return ie(Me(C),X,nt,W,ft);throw X=String(C),Error("Objects are not valid as a React child (found: "+(X==="[object Object]"?"object with keys {"+Object.keys(C).join(", ")+"}":X)+"). If you meant to render a collection of children, use an array instead.")}return _t}function j(C,X,nt){if(C==null)return C;var W=[],ft=0;return ie(C,W,"","",function(St){return X.call(nt,St,ft++)}),W}function et(C){if(C._status===-1){var X=C._result;X=X(),X.then(function(nt){(C._status===0||C._status===-1)&&(C._status=1,C._result=nt)},function(nt){(C._status===0||C._status===-1)&&(C._status=2,C._result=nt)}),C._status===-1&&(C._status=0,C._result=X)}if(C._status===1)return C._result.default;throw C._result}var ut=typeof reportError=="function"?reportError:function(C){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var X=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof C=="object"&&C!==null&&typeof C.message=="string"?String(C.message):String(C),error:C});if(!window.dispatchEvent(X))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",C);return}console.error(C)};function Pt(){}return Tt.Children={map:j,forEach:function(C,X,nt){j(C,function(){X.apply(this,arguments)},nt)},count:function(C){var X=0;return j(C,function(){X++}),X},toArray:function(C){return j(C,function(X){return X})||[]},only:function(C){if(!w(C))throw Error("React.Children.only expected to receive a single React element child.");return C}},Tt.Component=Z,Tt.Fragment=i,Tt.Profiler=o,Tt.PureComponent=ct,Tt.StrictMode=s,Tt.Suspense=v,Tt.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=ot,Tt.__COMPILER_RUNTIME={__proto__:null,c:function(C){return ot.H.useMemoCache(C)}},Tt.cache=function(C){return function(){return C.apply(null,arguments)}},Tt.cloneElement=function(C,X,nt){if(C==null)throw Error("The argument must be a React element, but you passed "+C+".");var W=J({},C.props),ft=C.key,St=void 0;if(X!=null)for(_t in X.ref!==void 0&&(St=void 0),X.key!==void 0&&(ft=""+X.key),X)!Ut.call(X,_t)||_t==="key"||_t==="__self"||_t==="__source"||_t==="ref"&&X.ref===void 0||(W[_t]=X[_t]);var _t=arguments.length-2;if(_t===1)W.children=nt;else if(1<_t){for(var Re=Array(_t),Xt=0;Xt<_t;Xt++)Re[Xt]=arguments[Xt+2];W.children=Re}return N(C.type,ft,void 0,void 0,St,W)},Tt.createContext=function(C){return C={$$typeof:d,_currentValue:C,_currentValue2:C,_threadCount:0,Provider:null,Consumer:null},C.Provider=C,C.Consumer={$$typeof:f,_context:C},C},Tt.createElement=function(C,X,nt){var W,ft={},St=null;if(X!=null)for(W in X.key!==void 0&&(St=""+X.key),X)Ut.call(X,W)&&W!=="key"&&W!=="__self"&&W!=="__source"&&(ft[W]=X[W]);var _t=arguments.length-2;if(_t===1)ft.children=nt;else if(1<_t){for(var Re=Array(_t),Xt=0;Xt<_t;Xt++)Re[Xt]=arguments[Xt+2];ft.children=Re}if(C&&C.defaultProps)for(W in _t=C.defaultProps,_t)ft[W]===void 0&&(ft[W]=_t[W]);return N(C,St,void 0,void 0,null,ft)},Tt.createRef=function(){return{current:null}},Tt.forwardRef=function(C){return{$$typeof:g,render:C}},Tt.isValidElement=w,Tt.lazy=function(C){return{$$typeof:A,_payload:{_status:-1,_result:C},_init:et}},Tt.memo=function(C,X){return{$$typeof:_,type:C,compare:X===void 0?null:X}},Tt.startTransition=function(C){var X=ot.T,nt={};ot.T=nt;try{var W=C(),ft=ot.S;ft!==null&&ft(nt,W),typeof W=="object"&&W!==null&&typeof W.then=="function"&&W.then(Pt,ut)}catch(St){ut(St)}finally{ot.T=X}},Tt.unstable_useCacheRefresh=function(){return ot.H.useCacheRefresh()},Tt.use=function(C){return ot.H.use(C)},Tt.useActionState=function(C,X,nt){return ot.H.useActionState(C,X,nt)},Tt.useCallback=function(C,X){return ot.H.useCallback(C,X)},Tt.useContext=function(C){return ot.H.useContext(C)},Tt.useDebugValue=function(){},Tt.useDeferredValue=function(C,X){return ot.H.useDeferredValue(C,X)},Tt.useEffect=function(C,X,nt){var W=ot.H;if(typeof nt=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return W.useEffect(C,X)},Tt.useId=function(){return ot.H.useId()},Tt.useImperativeHandle=function(C,X,nt){return ot.H.useImperativeHandle(C,X,nt)},Tt.useInsertionEffect=function(C,X){return ot.H.useInsertionEffect(C,X)},Tt.useLayoutEffect=function(C,X){return ot.H.useLayoutEffect(C,X)},Tt.useMemo=function(C,X){return ot.H.useMemo(C,X)},Tt.useOptimistic=function(C,X){return ot.H.useOptimistic(C,X)},Tt.useReducer=function(C,X,nt){return ot.H.useReducer(C,X,nt)},Tt.useRef=function(C){return ot.H.useRef(C)},Tt.useState=function(C){return ot.H.useState(C)},Tt.useSyncExternalStore=function(C,X,nt){return ot.H.useSyncExternalStore(C,X,nt)},Tt.useTransition=function(){return ot.H.useTransition()},Tt.version="19.1.1",Tt}var Ry;function Sd(){return Ry||(Ry=1,Lh.exports=B0()),Lh.exports}var mr=Sd(),Ph={exports:{}},Hl={},zh={exports:{}},kh={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var wy;function q0(){return wy||(wy=1,(function(r){function e(j,et){var ut=j.length;j.push(et);t:for(;0<ut;){var Pt=ut-1>>>1,C=j[Pt];if(0<o(C,et))j[Pt]=et,j[ut]=C,ut=Pt;else break t}}function i(j){return j.length===0?null:j[0]}function s(j){if(j.length===0)return null;var et=j[0],ut=j.pop();if(ut!==et){j[0]=ut;t:for(var Pt=0,C=j.length,X=C>>>1;Pt<X;){var nt=2*(Pt+1)-1,W=j[nt],ft=nt+1,St=j[ft];if(0>o(W,ut))ft<C&&0>o(St,W)?(j[Pt]=St,j[ft]=ut,Pt=ft):(j[Pt]=W,j[nt]=ut,Pt=nt);else if(ft<C&&0>o(St,ut))j[Pt]=St,j[ft]=ut,Pt=ft;else break t}}return et}function o(j,et){var ut=j.sortIndex-et.sortIndex;return ut!==0?ut:j.id-et.id}if(r.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var f=performance;r.unstable_now=function(){return f.now()}}else{var d=Date,g=d.now();r.unstable_now=function(){return d.now()-g}}var v=[],_=[],A=1,V=null,I=3,G=!1,J=!1,$=!1,Z=!1,dt=typeof setTimeout=="function"?setTimeout:null,ct=typeof clearTimeout=="function"?clearTimeout:null,lt=typeof setImmediate<"u"?setImmediate:null;function Rt(j){for(var et=i(_);et!==null;){if(et.callback===null)s(_);else if(et.startTime<=j)s(_),et.sortIndex=et.expirationTime,e(v,et);else break;et=i(_)}}function ot(j){if($=!1,Rt(j),!J)if(i(v)!==null)J=!0,Ut||(Ut=!0,U());else{var et=i(_);et!==null&&ie(ot,et.startTime-j)}}var Ut=!1,N=-1,S=5,w=-1;function O(){return Z?!0:!(r.unstable_now()-w<S)}function M(){if(Z=!1,Ut){var j=r.unstable_now();w=j;var et=!0;try{t:{J=!1,$&&($=!1,ct(N),N=-1),G=!0;var ut=I;try{e:{for(Rt(j),V=i(v);V!==null&&!(V.expirationTime>j&&O());){var Pt=V.callback;if(typeof Pt=="function"){V.callback=null,I=V.priorityLevel;var C=Pt(V.expirationTime<=j);if(j=r.unstable_now(),typeof C=="function"){V.callback=C,Rt(j),et=!0;break e}V===i(v)&&s(v),Rt(j)}else s(v);V=i(v)}if(V!==null)et=!0;else{var X=i(_);X!==null&&ie(ot,X.startTime-j),et=!1}}break t}finally{V=null,I=ut,G=!1}et=void 0}}finally{et?U():Ut=!1}}}var U;if(typeof lt=="function")U=function(){lt(M)};else if(typeof MessageChannel<"u"){var R=new MessageChannel,Me=R.port2;R.port1.onmessage=M,U=function(){Me.postMessage(null)}}else U=function(){dt(M,0)};function ie(j,et){N=dt(function(){j(r.unstable_now())},et)}r.unstable_IdlePriority=5,r.unstable_ImmediatePriority=1,r.unstable_LowPriority=4,r.unstable_NormalPriority=3,r.unstable_Profiling=null,r.unstable_UserBlockingPriority=2,r.unstable_cancelCallback=function(j){j.callback=null},r.unstable_forceFrameRate=function(j){0>j||125<j?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):S=0<j?Math.floor(1e3/j):5},r.unstable_getCurrentPriorityLevel=function(){return I},r.unstable_next=function(j){switch(I){case 1:case 2:case 3:var et=3;break;default:et=I}var ut=I;I=et;try{return j()}finally{I=ut}},r.unstable_requestPaint=function(){Z=!0},r.unstable_runWithPriority=function(j,et){switch(j){case 1:case 2:case 3:case 4:case 5:break;default:j=3}var ut=I;I=j;try{return et()}finally{I=ut}},r.unstable_scheduleCallback=function(j,et,ut){var Pt=r.unstable_now();switch(typeof ut=="object"&&ut!==null?(ut=ut.delay,ut=typeof ut=="number"&&0<ut?Pt+ut:Pt):ut=Pt,j){case 1:var C=-1;break;case 2:C=250;break;case 5:C=1073741823;break;case 4:C=1e4;break;default:C=5e3}return C=ut+C,j={id:A++,callback:et,priorityLevel:j,startTime:ut,expirationTime:C,sortIndex:-1},ut>Pt?(j.sortIndex=ut,e(_,j),i(v)===null&&j===i(_)&&($?(ct(N),N=-1):$=!0,ie(ot,ut-Pt))):(j.sortIndex=C,e(v,j),J||G||(J=!0,Ut||(Ut=!0,U()))),j},r.unstable_shouldYield=O,r.unstable_wrapCallback=function(j){var et=I;return function(){var ut=I;I=et;try{return j.apply(this,arguments)}finally{I=ut}}}})(kh)),kh}var Cy;function j0(){return Cy||(Cy=1,zh.exports=q0()),zh.exports}var Bh={exports:{}},He={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Dy;function H0(){if(Dy)return He;Dy=1;var r=Sd();function e(v){var _="https://react.dev/errors/"+v;if(1<arguments.length){_+="?args[]="+encodeURIComponent(arguments[1]);for(var A=2;A<arguments.length;A++)_+="&args[]="+encodeURIComponent(arguments[A])}return"Minified React error #"+v+"; visit "+_+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function i(){}var s={d:{f:i,r:function(){throw Error(e(522))},D:i,C:i,L:i,m:i,X:i,S:i,M:i},p:0,findDOMNode:null},o=Symbol.for("react.portal");function f(v,_,A){var V=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:o,key:V==null?null:""+V,children:v,containerInfo:_,implementation:A}}var d=r.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function g(v,_){if(v==="font")return"";if(typeof _=="string")return _==="use-credentials"?_:""}return He.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=s,He.createPortal=function(v,_){var A=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!_||_.nodeType!==1&&_.nodeType!==9&&_.nodeType!==11)throw Error(e(299));return f(v,_,null,A)},He.flushSync=function(v){var _=d.T,A=s.p;try{if(d.T=null,s.p=2,v)return v()}finally{d.T=_,s.p=A,s.d.f()}},He.preconnect=function(v,_){typeof v=="string"&&(_?(_=_.crossOrigin,_=typeof _=="string"?_==="use-credentials"?_:"":void 0):_=null,s.d.C(v,_))},He.prefetchDNS=function(v){typeof v=="string"&&s.d.D(v)},He.preinit=function(v,_){if(typeof v=="string"&&_&&typeof _.as=="string"){var A=_.as,V=g(A,_.crossOrigin),I=typeof _.integrity=="string"?_.integrity:void 0,G=typeof _.fetchPriority=="string"?_.fetchPriority:void 0;A==="style"?s.d.S(v,typeof _.precedence=="string"?_.precedence:void 0,{crossOrigin:V,integrity:I,fetchPriority:G}):A==="script"&&s.d.X(v,{crossOrigin:V,integrity:I,fetchPriority:G,nonce:typeof _.nonce=="string"?_.nonce:void 0})}},He.preinitModule=function(v,_){if(typeof v=="string")if(typeof _=="object"&&_!==null){if(_.as==null||_.as==="script"){var A=g(_.as,_.crossOrigin);s.d.M(v,{crossOrigin:A,integrity:typeof _.integrity=="string"?_.integrity:void 0,nonce:typeof _.nonce=="string"?_.nonce:void 0})}}else _==null&&s.d.M(v)},He.preload=function(v,_){if(typeof v=="string"&&typeof _=="object"&&_!==null&&typeof _.as=="string"){var A=_.as,V=g(A,_.crossOrigin);s.d.L(v,A,{crossOrigin:V,integrity:typeof _.integrity=="string"?_.integrity:void 0,nonce:typeof _.nonce=="string"?_.nonce:void 0,type:typeof _.type=="string"?_.type:void 0,fetchPriority:typeof _.fetchPriority=="string"?_.fetchPriority:void 0,referrerPolicy:typeof _.referrerPolicy=="string"?_.referrerPolicy:void 0,imageSrcSet:typeof _.imageSrcSet=="string"?_.imageSrcSet:void 0,imageSizes:typeof _.imageSizes=="string"?_.imageSizes:void 0,media:typeof _.media=="string"?_.media:void 0})}},He.preloadModule=function(v,_){if(typeof v=="string")if(_){var A=g(_.as,_.crossOrigin);s.d.m(v,{as:typeof _.as=="string"&&_.as!=="script"?_.as:void 0,crossOrigin:A,integrity:typeof _.integrity=="string"?_.integrity:void 0})}else s.d.m(v)},He.requestFormReset=function(v){s.d.r(v)},He.unstable_batchedUpdates=function(v,_){return v(_)},He.useFormState=function(v,_,A){return d.H.useFormState(v,_,A)},He.useFormStatus=function(){return d.H.useHostTransitionStatus()},He.version="19.1.1",He}var Iy;function G0(){if(Iy)return Bh.exports;Iy=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(e){console.error(e)}}return r(),Bh.exports=H0(),Bh.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Vy;function F0(){if(Vy)return Hl;Vy=1;var r=j0(),e=Sd(),i=G0();function s(t){var n="https://react.dev/errors/"+t;if(1<arguments.length){n+="?args[]="+encodeURIComponent(arguments[1]);for(var a=2;a<arguments.length;a++)n+="&args[]="+encodeURIComponent(arguments[a])}return"Minified React error #"+t+"; visit "+n+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function f(t){var n=t,a=t;if(t.alternate)for(;n.return;)n=n.return;else{t=n;do n=t,(n.flags&4098)!==0&&(a=n.return),t=n.return;while(t)}return n.tag===3?a:null}function d(t){if(t.tag===13){var n=t.memoizedState;if(n===null&&(t=t.alternate,t!==null&&(n=t.memoizedState)),n!==null)return n.dehydrated}return null}function g(t){if(f(t)!==t)throw Error(s(188))}function v(t){var n=t.alternate;if(!n){if(n=f(t),n===null)throw Error(s(188));return n!==t?null:t}for(var a=t,l=n;;){var c=a.return;if(c===null)break;var h=c.alternate;if(h===null){if(l=c.return,l!==null){a=l;continue}break}if(c.child===h.child){for(h=c.child;h;){if(h===a)return g(c),t;if(h===l)return g(c),n;h=h.sibling}throw Error(s(188))}if(a.return!==l.return)a=c,l=h;else{for(var y=!1,E=c.child;E;){if(E===a){y=!0,a=c,l=h;break}if(E===l){y=!0,l=c,a=h;break}E=E.sibling}if(!y){for(E=h.child;E;){if(E===a){y=!0,a=h,l=c;break}if(E===l){y=!0,l=h,a=c;break}E=E.sibling}if(!y)throw Error(s(189))}}if(a.alternate!==l)throw Error(s(190))}if(a.tag!==3)throw Error(s(188));return a.stateNode.current===a?t:n}function _(t){var n=t.tag;if(n===5||n===26||n===27||n===6)return t;for(t=t.child;t!==null;){if(n=_(t),n!==null)return n;t=t.sibling}return null}var A=Object.assign,V=Symbol.for("react.element"),I=Symbol.for("react.transitional.element"),G=Symbol.for("react.portal"),J=Symbol.for("react.fragment"),$=Symbol.for("react.strict_mode"),Z=Symbol.for("react.profiler"),dt=Symbol.for("react.provider"),ct=Symbol.for("react.consumer"),lt=Symbol.for("react.context"),Rt=Symbol.for("react.forward_ref"),ot=Symbol.for("react.suspense"),Ut=Symbol.for("react.suspense_list"),N=Symbol.for("react.memo"),S=Symbol.for("react.lazy"),w=Symbol.for("react.activity"),O=Symbol.for("react.memo_cache_sentinel"),M=Symbol.iterator;function U(t){return t===null||typeof t!="object"?null:(t=M&&t[M]||t["@@iterator"],typeof t=="function"?t:null)}var R=Symbol.for("react.client.reference");function Me(t){if(t==null)return null;if(typeof t=="function")return t.$$typeof===R?null:t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case J:return"Fragment";case Z:return"Profiler";case $:return"StrictMode";case ot:return"Suspense";case Ut:return"SuspenseList";case w:return"Activity"}if(typeof t=="object")switch(t.$$typeof){case G:return"Portal";case lt:return(t.displayName||"Context")+".Provider";case ct:return(t._context.displayName||"Context")+".Consumer";case Rt:var n=t.render;return t=t.displayName,t||(t=n.displayName||n.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case N:return n=t.displayName||null,n!==null?n:Me(t.type)||"Memo";case S:n=t._payload,t=t._init;try{return Me(t(n))}catch{}}return null}var ie=Array.isArray,j=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,et=i.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ut={pending:!1,data:null,method:null,action:null},Pt=[],C=-1;function X(t){return{current:t}}function nt(t){0>C||(t.current=Pt[C],Pt[C]=null,C--)}function W(t,n){C++,Pt[C]=t.current,t.current=n}var ft=X(null),St=X(null),_t=X(null),Re=X(null);function Xt(t,n){switch(W(_t,n),W(St,t),W(ft,null),n.nodeType){case 9:case 11:t=(t=n.documentElement)&&(t=t.namespaceURI)?Zp(t):0;break;default:if(t=n.tagName,n=n.namespaceURI)n=Zp(n),t=$p(n,t);else switch(t){case"svg":t=1;break;case"math":t=2;break;default:t=0}}nt(ft),W(ft,t)}function kn(){nt(ft),nt(St),nt(_t)}function Bi(t){t.memoizedState!==null&&W(Re,t);var n=ft.current,a=$p(n,t.type);n!==a&&(W(St,t),W(ft,a))}function ci(t){St.current===t&&(nt(ft),nt(St)),Re.current===t&&(nt(Re),Pl._currentValue=ut)}var Oa=Object.prototype.hasOwnProperty,Ma=r.unstable_scheduleCallback,Na=r.unstable_cancelCallback,xs=r.unstable_shouldYield,po=r.unstable_requestPaint,pn=r.unstable_now,xc=r.unstable_getCurrentPriorityLevel,Us=r.unstable_ImmediatePriority,wr=r.unstable_UserBlockingPriority,xa=r.unstable_NormalPriority,Uc=r.unstable_LowPriority,Cr=r.unstable_IdlePriority,Ls=r.log,yo=r.unstable_setDisableYieldValue,ae=null,qt=null;function rn(t){if(typeof Ls=="function"&&yo(t),qt&&typeof qt.setStrictMode=="function")try{qt.setStrictMode(ae,t)}catch{}}var qe=Math.clz32?Math.clz32:Ua,_o=Math.log,Lc=Math.LN2;function Ua(t){return t>>>=0,t===0?32:31-(_o(t)/Lc|0)|0}var La=256,Pa=4194304;function Vn(t){var n=t&42;if(n!==0)return n;switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return t&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return t}}function Dr(t,n,a){var l=t.pendingLanes;if(l===0)return 0;var c=0,h=t.suspendedLanes,y=t.pingedLanes;t=t.warmLanes;var E=l&134217727;return E!==0?(l=E&~h,l!==0?c=Vn(l):(y&=E,y!==0?c=Vn(y):a||(a=E&~t,a!==0&&(c=Vn(a))))):(E=l&~h,E!==0?c=Vn(E):y!==0?c=Vn(y):a||(a=l&~t,a!==0&&(c=Vn(a)))),c===0?0:n!==0&&n!==c&&(n&h)===0&&(h=c&-c,a=n&-n,h>=a||h===32&&(a&4194048)!==0)?n:c}function za(t,n){return(t.pendingLanes&~(t.suspendedLanes&~t.pingedLanes)&n)===0}function Ps(t,n){switch(t){case 1:case 2:case 4:case 8:case 64:return n+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function zs(){var t=La;return La<<=1,(La&4194048)===0&&(La=256),t}function ks(){var t=Pa;return Pa<<=1,(Pa&62914560)===0&&(Pa=4194304),t}function fi(t){for(var n=[],a=0;31>a;a++)n.push(t);return n}function hi(t,n){t.pendingLanes|=n,n!==268435456&&(t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0)}function Bs(t,n,a,l,c,h){var y=t.pendingLanes;t.pendingLanes=a,t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0,t.expiredLanes&=a,t.entangledLanes&=a,t.errorRecoveryDisabledLanes&=a,t.shellSuspendCounter=0;var E=t.entanglements,b=t.expirationTimes,z=t.hiddenUpdates;for(a=y&~a;0<a;){var H=31-qe(a),Q=1<<H;E[H]=0,b[H]=-1;var k=z[H];if(k!==null)for(z[H]=null,H=0;H<k.length;H++){var B=k[H];B!==null&&(B.lane&=-536870913)}a&=~Q}l!==0&&Bn(t,l,0),h!==0&&c===0&&t.tag!==0&&(t.suspendedLanes|=h&~(y&~n))}function Bn(t,n,a){t.pendingLanes|=n,t.suspendedLanes&=~n;var l=31-qe(n);t.entangledLanes|=n,t.entanglements[l]=t.entanglements[l]|1073741824|a&4194090}function qs(t,n){var a=t.entangledLanes|=n;for(t=t.entanglements;a;){var l=31-qe(a),c=1<<l;c&n|t[l]&n&&(t[l]|=n),a&=~c}}function qi(t){switch(t){case 2:t=1;break;case 8:t=4;break;case 32:t=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:t=128;break;case 268435456:t=134217728;break;default:t=0}return t}function Ir(t){return t&=-t,2<t?8<t?(t&134217727)!==0?32:268435456:8:2}function ji(){var t=et.p;return t!==0?t:(t=window.event,t===void 0?32:py(t.type))}function vo(t,n){var a=et.p;try{return et.p=t,n()}finally{et.p=a}}var Wt=Math.random().toString(36).slice(2),_e="__reactFiber$"+Wt,he="__reactProps$"+Wt,yn="__reactContainer$"+Wt,js="__reactEvents$"+Wt,Pc="__reactListeners$"+Wt,Hi="__reactHandles$"+Wt,Eo="__reactResources$"+Wt,ka="__reactMarker$"+Wt;function Gi(t){delete t[_e],delete t[he],delete t[js],delete t[Pc],delete t[Hi]}function di(t){var n=t[_e];if(n)return n;for(var a=t.parentNode;a;){if(n=a[yn]||a[_e]){if(a=n.alternate,n.child!==null||a!==null&&a.child!==null)for(t=ey(t);t!==null;){if(a=t[_e])return a;t=ey(t)}return n}t=a,a=t.parentNode}return null}function qn(t){if(t=t[_e]||t[yn]){var n=t.tag;if(n===5||n===6||n===13||n===26||n===27||n===3)return t}return null}function jn(t){var n=t.tag;if(n===5||n===26||n===27||n===6)return t.stateNode;throw Error(s(33))}function Ye(t){var n=t[Eo];return n||(n=t[Eo]={hoistableStyles:new Map,hoistableScripts:new Map}),n}function le(t){t[ka]=!0}var Hs=new Set,Vr={};function On(t,n){mi(t,n),mi(t+"Capture",n)}function mi(t,n){for(Vr[t]=n,t=0;t<n.length;t++)Hs.add(n[t])}var To=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Ao={},Ba={};function So(t){return Oa.call(Ba,t)?!0:Oa.call(Ao,t)?!1:To.test(t)?Ba[t]=!0:(Ao[t]=!0,!1)}function Fi(t,n,a){if(So(n))if(a===null)t.removeAttribute(n);else{switch(typeof a){case"undefined":case"function":case"symbol":t.removeAttribute(n);return;case"boolean":var l=n.toLowerCase().slice(0,5);if(l!=="data-"&&l!=="aria-"){t.removeAttribute(n);return}}t.setAttribute(n,""+a)}}function Hn(t,n,a){if(a===null)t.removeAttribute(n);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(n);return}t.setAttribute(n,""+a)}}function Ne(t,n,a,l){if(l===null)t.removeAttribute(a);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(a);return}t.setAttributeNS(n,a,""+l)}}var qa,bo;function gi(t){if(qa===void 0)try{throw Error()}catch(a){var n=a.stack.trim().match(/\n( *(at )?)/);qa=n&&n[1]||"",bo=-1<a.stack.indexOf(`
    at`)?" (<anonymous>)":-1<a.stack.indexOf("@")?"@unknown:0:0":""}return`
`+qa+t+bo}var Or=!1;function Mr(t,n){if(!t||Or)return"";Or=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var l={DetermineComponentFrameRoot:function(){try{if(n){var Q=function(){throw Error()};if(Object.defineProperty(Q.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(Q,[])}catch(B){var k=B}Reflect.construct(t,[],Q)}else{try{Q.call()}catch(B){k=B}t.call(Q.prototype)}}else{try{throw Error()}catch(B){k=B}(Q=t())&&typeof Q.catch=="function"&&Q.catch(function(){})}}catch(B){if(B&&k&&typeof B.stack=="string")return[B.stack,k.stack]}return[null,null]}};l.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var c=Object.getOwnPropertyDescriptor(l.DetermineComponentFrameRoot,"name");c&&c.configurable&&Object.defineProperty(l.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var h=l.DetermineComponentFrameRoot(),y=h[0],E=h[1];if(y&&E){var b=y.split(`
`),z=E.split(`
`);for(c=l=0;l<b.length&&!b[l].includes("DetermineComponentFrameRoot");)l++;for(;c<z.length&&!z[c].includes("DetermineComponentFrameRoot");)c++;if(l===b.length||c===z.length)for(l=b.length-1,c=z.length-1;1<=l&&0<=c&&b[l]!==z[c];)c--;for(;1<=l&&0<=c;l--,c--)if(b[l]!==z[c]){if(l!==1||c!==1)do if(l--,c--,0>c||b[l]!==z[c]){var H=`
`+b[l].replace(" at new "," at ");return t.displayName&&H.includes("<anonymous>")&&(H=H.replace("<anonymous>",t.displayName)),H}while(1<=l&&0<=c);break}}}finally{Or=!1,Error.prepareStackTrace=a}return(a=t?t.displayName||t.name:"")?gi(a):""}function Gs(t){switch(t.tag){case 26:case 27:case 5:return gi(t.type);case 16:return gi("Lazy");case 13:return gi("Suspense");case 19:return gi("SuspenseList");case 0:case 15:return Mr(t.type,!1);case 11:return Mr(t.type.render,!1);case 1:return Mr(t.type,!0);case 31:return gi("Activity");default:return""}}function Nr(t){try{var n="";do n+=Gs(t),t=t.return;while(t);return n}catch(a){return`
Error generating stack: `+a.message+`
`+a.stack}}function Ke(t){switch(typeof t){case"bigint":case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function Fs(t){var n=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(n==="checkbox"||n==="radio")}function zc(t){var n=Fs(t)?"checked":"value",a=Object.getOwnPropertyDescriptor(t.constructor.prototype,n),l=""+t[n];if(!t.hasOwnProperty(n)&&typeof a<"u"&&typeof a.get=="function"&&typeof a.set=="function"){var c=a.get,h=a.set;return Object.defineProperty(t,n,{configurable:!0,get:function(){return c.call(this)},set:function(y){l=""+y,h.call(this,y)}}),Object.defineProperty(t,n,{enumerable:a.enumerable}),{getValue:function(){return l},setValue:function(y){l=""+y},stopTracking:function(){t._valueTracker=null,delete t[n]}}}}function xr(t){t._valueTracker||(t._valueTracker=zc(t))}function Qs(t){if(!t)return!1;var n=t._valueTracker;if(!n)return!0;var a=n.getValue(),l="";return t&&(l=Fs(t)?t.checked?"true":"false":t.value),t=l,t!==a?(n.setValue(t),!0):!1}function ja(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}var kc=/[\n"\\]/g;function de(t){return t.replace(kc,function(n){return"\\"+n.charCodeAt(0).toString(16)+" "})}function sn(t,n,a,l,c,h,y,E){t.name="",y!=null&&typeof y!="function"&&typeof y!="symbol"&&typeof y!="boolean"?t.type=y:t.removeAttribute("type"),n!=null?y==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+Ke(n)):t.value!==""+Ke(n)&&(t.value=""+Ke(n)):y!=="submit"&&y!=="reset"||t.removeAttribute("value"),n!=null?Qi(t,y,Ke(n)):a!=null?Qi(t,y,Ke(a)):l!=null&&t.removeAttribute("value"),c==null&&h!=null&&(t.defaultChecked=!!h),c!=null&&(t.checked=c&&typeof c!="function"&&typeof c!="symbol"),E!=null&&typeof E!="function"&&typeof E!="symbol"&&typeof E!="boolean"?t.name=""+Ke(E):t.removeAttribute("name")}function Ha(t,n,a,l,c,h,y,E){if(h!=null&&typeof h!="function"&&typeof h!="symbol"&&typeof h!="boolean"&&(t.type=h),n!=null||a!=null){if(!(h!=="submit"&&h!=="reset"||n!=null))return;a=a!=null?""+Ke(a):"",n=n!=null?""+Ke(n):a,E||n===t.value||(t.value=n),t.defaultValue=n}l=l??c,l=typeof l!="function"&&typeof l!="symbol"&&!!l,t.checked=E?t.checked:!!l,t.defaultChecked=!!l,y!=null&&typeof y!="function"&&typeof y!="symbol"&&typeof y!="boolean"&&(t.name=y)}function Qi(t,n,a){n==="number"&&ja(t.ownerDocument)===t||t.defaultValue===""+a||(t.defaultValue=""+a)}function pi(t,n,a,l){if(t=t.options,n){n={};for(var c=0;c<a.length;c++)n["$"+a[c]]=!0;for(a=0;a<t.length;a++)c=n.hasOwnProperty("$"+t[a].value),t[a].selected!==c&&(t[a].selected=c),c&&l&&(t[a].defaultSelected=!0)}else{for(a=""+Ke(a),n=null,c=0;c<t.length;c++){if(t[c].value===a){t[c].selected=!0,l&&(t[c].defaultSelected=!0);return}n!==null||t[c].disabled||(n=t[c])}n!==null&&(n.selected=!0)}}function Gt(t,n,a){if(n!=null&&(n=""+Ke(n),n!==t.value&&(t.value=n),a==null)){t.defaultValue!==n&&(t.defaultValue=n);return}t.defaultValue=a!=null?""+Ke(a):""}function Ga(t,n,a,l){if(n==null){if(l!=null){if(a!=null)throw Error(s(92));if(ie(l)){if(1<l.length)throw Error(s(93));l=l[0]}a=l}a==null&&(a=""),n=a}a=Ke(n),t.defaultValue=a,l=t.textContent,l===a&&l!==""&&l!==null&&(t.value=l)}function _n(t,n){if(n){var a=t.firstChild;if(a&&a===t.lastChild&&a.nodeType===3){a.nodeValue=n;return}}t.textContent=n}var Fa=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Ro(t,n,a){var l=n.indexOf("--")===0;a==null||typeof a=="boolean"||a===""?l?t.setProperty(n,""):n==="float"?t.cssFloat="":t[n]="":l?t.setProperty(n,a):typeof a!="number"||a===0||Fa.has(n)?n==="float"?t.cssFloat=a:t[n]=(""+a).trim():t[n]=a+"px"}function Ys(t,n,a){if(n!=null&&typeof n!="object")throw Error(s(62));if(t=t.style,a!=null){for(var l in a)!a.hasOwnProperty(l)||n!=null&&n.hasOwnProperty(l)||(l.indexOf("--")===0?t.setProperty(l,""):l==="float"?t.cssFloat="":t[l]="");for(var c in n)l=n[c],n.hasOwnProperty(c)&&a[c]!==l&&Ro(t,c,l)}else for(var h in n)n.hasOwnProperty(h)&&Ro(t,h,n[h])}function Ks(t){if(t.indexOf("-")===-1)return!1;switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Bc=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),qc=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Ur(t){return qc.test(""+t)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":t}var yi=null;function vn(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var _i=null,vi=null;function Xs(t){var n=qn(t);if(n&&(t=n.stateNode)){var a=t[he]||null;t:switch(t=n.stateNode,n.type){case"input":if(sn(t,a.value,a.defaultValue,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name),n=a.name,a.type==="radio"&&n!=null){for(a=t;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll('input[name="'+de(""+n)+'"][type="radio"]'),n=0;n<a.length;n++){var l=a[n];if(l!==t&&l.form===t.form){var c=l[he]||null;if(!c)throw Error(s(90));sn(l,c.value,c.defaultValue,c.defaultValue,c.checked,c.defaultChecked,c.type,c.name)}}for(n=0;n<a.length;n++)l=a[n],l.form===t.form&&Qs(l)}break t;case"textarea":Gt(t,a.value,a.defaultValue);break t;case"select":n=a.value,n!=null&&pi(t,!!a.multiple,n,!1)}}}var Gn=!1;function wo(t,n,a){if(Gn)return t(n,a);Gn=!0;try{var l=t(n);return l}finally{if(Gn=!1,(_i!==null||vi!==null)&&(vu(),_i&&(n=_i,t=vi,vi=_i=null,Xs(n),t)))for(n=0;n<t.length;n++)Xs(t[n])}}function Qa(t,n){var a=t.stateNode;if(a===null)return null;var l=a[he]||null;if(l===null)return null;a=l[n];t:switch(n){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(l=!l.disabled)||(t=t.type,l=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!l;break t;default:t=!1}if(t)return null;if(a&&typeof a!="function")throw Error(s(231,n,typeof a));return a}var Mn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),En=!1;if(Mn)try{var Ya={};Object.defineProperty(Ya,"passive",{get:function(){En=!0}}),window.addEventListener("test",Ya,Ya),window.removeEventListener("test",Ya,Ya)}catch{En=!1}var Fn=null,Yi=null,Ei=null;function Zs(){if(Ei)return Ei;var t,n=Yi,a=n.length,l,c="value"in Fn?Fn.value:Fn.textContent,h=c.length;for(t=0;t<a&&n[t]===c[t];t++);var y=a-t;for(l=1;l<=y&&n[a-l]===c[h-l];l++);return Ei=c.slice(t,1<l?1-l:void 0)}function Qn(t){var n=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&n===13&&(t=13)):t=n,t===10&&(t=13),32<=t||t===13?t:0}function Yn(){return!0}function $s(){return!1}function we(t){function n(a,l,c,h,y){this._reactName=a,this._targetInst=c,this.type=l,this.nativeEvent=h,this.target=y,this.currentTarget=null;for(var E in t)t.hasOwnProperty(E)&&(a=t[E],this[E]=a?a(h):h[E]);return this.isDefaultPrevented=(h.defaultPrevented!=null?h.defaultPrevented:h.returnValue===!1)?Yn:$s,this.isPropagationStopped=$s,this}return A(n.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=Yn)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=Yn)},persist:function(){},isPersistent:Yn}),n}var kt={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Lr=we(kt),Ka=A({},kt,{view:0,detail:0}),Co=we(Ka),Pr,zr,Kn,Xa=A({},Ka,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Ja,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Kn&&(Kn&&t.type==="mousemove"?(Pr=t.screenX-Kn.screenX,zr=t.screenY-Kn.screenY):zr=Pr=0,Kn=t),Pr)},movementY:function(t){return"movementY"in t?t.movementY:zr}}),Tn=we(Xa),Do=A({},Xa,{dataTransfer:0}),jc=we(Do),Za=A({},Ka,{relatedTarget:0}),kr=we(Za),Js=A({},kt,{animationName:0,elapsedTime:0,pseudoElement:0}),Br=we(Js),Io=A({},kt,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),qr=we(Io),Hc=A({},kt,{data:0}),Ws=we(Hc),$a={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Vo={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Oo={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function tl(t){var n=this.nativeEvent;return n.getModifierState?n.getModifierState(t):(t=Oo[t])?!!n[t]:!1}function Ja(){return tl}var Mo=A({},Ka,{key:function(t){if(t.key){var n=$a[t.key]||t.key;if(n!=="Unidentified")return n}return t.type==="keypress"?(t=Qn(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?Vo[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Ja,charCode:function(t){return t.type==="keypress"?Qn(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Qn(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),jr=we(Mo),No=A({},Xa,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),el=we(No),Ti=A({},Ka,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Ja}),xo=we(Ti),Uo=A({},kt,{propertyName:0,elapsedTime:0,pseudoElement:0}),Lo=we(Uo),Po=A({},Xa,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),Hr=we(Po),Xe=A({},kt,{newState:0,oldState:0}),zo=we(Xe),ko=[9,13,27,32],Xn=Mn&&"CompositionEvent"in window,u=null;Mn&&"documentMode"in document&&(u=document.documentMode);var m=Mn&&"TextEvent"in window&&!u,p=Mn&&(!Xn||u&&8<u&&11>=u),T=" ",L=!1;function q(t,n){switch(t){case"keyup":return ko.indexOf(n.keyCode)!==-1;case"keydown":return n.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function tt(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Vt=!1;function ve(t,n){switch(t){case"compositionend":return tt(n);case"keypress":return n.which!==32?null:(L=!0,T);case"textInput":return t=n.data,t===T&&L?null:t;default:return null}}function Ot(t,n){if(Vt)return t==="compositionend"||!Xn&&q(t,n)?(t=Zs(),Ei=Yi=Fn=null,Vt=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(n.ctrlKey||n.altKey||n.metaKey)||n.ctrlKey&&n.altKey){if(n.char&&1<n.char.length)return n.char;if(n.which)return String.fromCharCode(n.which)}return null;case"compositionend":return p&&n.locale!=="ko"?null:n.data;default:return null}}var Ce={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Ee(t){var n=t&&t.nodeName&&t.nodeName.toLowerCase();return n==="input"?!!Ce[t.type]:n==="textarea"}function Ai(t,n,a,l){_i?vi?vi.push(l):vi=[l]:_i=l,n=Ru(n,"onChange"),0<n.length&&(a=new Lr("onChange","change",null,a,l),t.push({event:a,listeners:n}))}var xe=null,Zn=null;function nl(t){Fp(t,0)}function Bo(t){var n=jn(t);if(Qs(n))return t}function hm(t,n){if(t==="change")return n}var dm=!1;if(Mn){var Gc;if(Mn){var Fc="oninput"in document;if(!Fc){var mm=document.createElement("div");mm.setAttribute("oninput","return;"),Fc=typeof mm.oninput=="function"}Gc=Fc}else Gc=!1;dm=Gc&&(!document.documentMode||9<document.documentMode)}function gm(){xe&&(xe.detachEvent("onpropertychange",pm),Zn=xe=null)}function pm(t){if(t.propertyName==="value"&&Bo(Zn)){var n=[];Ai(n,Zn,t,vn(t)),wo(nl,n)}}function mT(t,n,a){t==="focusin"?(gm(),xe=n,Zn=a,xe.attachEvent("onpropertychange",pm)):t==="focusout"&&gm()}function gT(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Bo(Zn)}function pT(t,n){if(t==="click")return Bo(n)}function yT(t,n){if(t==="input"||t==="change")return Bo(n)}function _T(t,n){return t===n&&(t!==0||1/t===1/n)||t!==t&&n!==n}var ln=typeof Object.is=="function"?Object.is:_T;function il(t,n){if(ln(t,n))return!0;if(typeof t!="object"||t===null||typeof n!="object"||n===null)return!1;var a=Object.keys(t),l=Object.keys(n);if(a.length!==l.length)return!1;for(l=0;l<a.length;l++){var c=a[l];if(!Oa.call(n,c)||!ln(t[c],n[c]))return!1}return!0}function ym(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function _m(t,n){var a=ym(t);t=0;for(var l;a;){if(a.nodeType===3){if(l=t+a.textContent.length,t<=n&&l>=n)return{node:a,offset:n-t};t=l}t:{for(;a;){if(a.nextSibling){a=a.nextSibling;break t}a=a.parentNode}a=void 0}a=ym(a)}}function vm(t,n){return t&&n?t===n?!0:t&&t.nodeType===3?!1:n&&n.nodeType===3?vm(t,n.parentNode):"contains"in t?t.contains(n):t.compareDocumentPosition?!!(t.compareDocumentPosition(n)&16):!1:!1}function Em(t){t=t!=null&&t.ownerDocument!=null&&t.ownerDocument.defaultView!=null?t.ownerDocument.defaultView:window;for(var n=ja(t.document);n instanceof t.HTMLIFrameElement;){try{var a=typeof n.contentWindow.location.href=="string"}catch{a=!1}if(a)t=n.contentWindow;else break;n=ja(t.document)}return n}function Qc(t){var n=t&&t.nodeName&&t.nodeName.toLowerCase();return n&&(n==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||n==="textarea"||t.contentEditable==="true")}var vT=Mn&&"documentMode"in document&&11>=document.documentMode,Gr=null,Yc=null,al=null,Kc=!1;function Tm(t,n,a){var l=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;Kc||Gr==null||Gr!==ja(l)||(l=Gr,"selectionStart"in l&&Qc(l)?l={start:l.selectionStart,end:l.selectionEnd}:(l=(l.ownerDocument&&l.ownerDocument.defaultView||window).getSelection(),l={anchorNode:l.anchorNode,anchorOffset:l.anchorOffset,focusNode:l.focusNode,focusOffset:l.focusOffset}),al&&il(al,l)||(al=l,l=Ru(Yc,"onSelect"),0<l.length&&(n=new Lr("onSelect","select",null,n,a),t.push({event:n,listeners:l}),n.target=Gr)))}function Wa(t,n){var a={};return a[t.toLowerCase()]=n.toLowerCase(),a["Webkit"+t]="webkit"+n,a["Moz"+t]="moz"+n,a}var Fr={animationend:Wa("Animation","AnimationEnd"),animationiteration:Wa("Animation","AnimationIteration"),animationstart:Wa("Animation","AnimationStart"),transitionrun:Wa("Transition","TransitionRun"),transitionstart:Wa("Transition","TransitionStart"),transitioncancel:Wa("Transition","TransitionCancel"),transitionend:Wa("Transition","TransitionEnd")},Xc={},Am={};Mn&&(Am=document.createElement("div").style,"AnimationEvent"in window||(delete Fr.animationend.animation,delete Fr.animationiteration.animation,delete Fr.animationstart.animation),"TransitionEvent"in window||delete Fr.transitionend.transition);function tr(t){if(Xc[t])return Xc[t];if(!Fr[t])return t;var n=Fr[t],a;for(a in n)if(n.hasOwnProperty(a)&&a in Am)return Xc[t]=n[a];return t}var Sm=tr("animationend"),bm=tr("animationiteration"),Rm=tr("animationstart"),ET=tr("transitionrun"),TT=tr("transitionstart"),AT=tr("transitioncancel"),wm=tr("transitionend"),Cm=new Map,Zc="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Zc.push("scrollEnd");function Nn(t,n){Cm.set(t,n),On(n,[t])}var Dm=new WeakMap;function An(t,n){if(typeof t=="object"&&t!==null){var a=Dm.get(t);return a!==void 0?a:(n={value:t,source:n,stack:Nr(n)},Dm.set(t,n),n)}return{value:t,source:n,stack:Nr(n)}}var Sn=[],Qr=0,$c=0;function qo(){for(var t=Qr,n=$c=Qr=0;n<t;){var a=Sn[n];Sn[n++]=null;var l=Sn[n];Sn[n++]=null;var c=Sn[n];Sn[n++]=null;var h=Sn[n];if(Sn[n++]=null,l!==null&&c!==null){var y=l.pending;y===null?c.next=c:(c.next=y.next,y.next=c),l.pending=c}h!==0&&Im(a,c,h)}}function jo(t,n,a,l){Sn[Qr++]=t,Sn[Qr++]=n,Sn[Qr++]=a,Sn[Qr++]=l,$c|=l,t.lanes|=l,t=t.alternate,t!==null&&(t.lanes|=l)}function Jc(t,n,a,l){return jo(t,n,a,l),Ho(t)}function Yr(t,n){return jo(t,null,null,n),Ho(t)}function Im(t,n,a){t.lanes|=a;var l=t.alternate;l!==null&&(l.lanes|=a);for(var c=!1,h=t.return;h!==null;)h.childLanes|=a,l=h.alternate,l!==null&&(l.childLanes|=a),h.tag===22&&(t=h.stateNode,t===null||t._visibility&1||(c=!0)),t=h,h=h.return;return t.tag===3?(h=t.stateNode,c&&n!==null&&(c=31-qe(a),t=h.hiddenUpdates,l=t[c],l===null?t[c]=[n]:l.push(n),n.lane=a|536870912),h):null}function Ho(t){if(50<Il)throw Il=0,rh=null,Error(s(185));for(var n=t.return;n!==null;)t=n,n=t.return;return t.tag===3?t.stateNode:null}var Kr={};function ST(t,n,a,l){this.tag=t,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=n,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=l,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function on(t,n,a,l){return new ST(t,n,a,l)}function Wc(t){return t=t.prototype,!(!t||!t.isReactComponent)}function Si(t,n){var a=t.alternate;return a===null?(a=on(t.tag,n,t.key,t.mode),a.elementType=t.elementType,a.type=t.type,a.stateNode=t.stateNode,a.alternate=t,t.alternate=a):(a.pendingProps=n,a.type=t.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=t.flags&65011712,a.childLanes=t.childLanes,a.lanes=t.lanes,a.child=t.child,a.memoizedProps=t.memoizedProps,a.memoizedState=t.memoizedState,a.updateQueue=t.updateQueue,n=t.dependencies,a.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext},a.sibling=t.sibling,a.index=t.index,a.ref=t.ref,a.refCleanup=t.refCleanup,a}function Vm(t,n){t.flags&=65011714;var a=t.alternate;return a===null?(t.childLanes=0,t.lanes=n,t.child=null,t.subtreeFlags=0,t.memoizedProps=null,t.memoizedState=null,t.updateQueue=null,t.dependencies=null,t.stateNode=null):(t.childLanes=a.childLanes,t.lanes=a.lanes,t.child=a.child,t.subtreeFlags=0,t.deletions=null,t.memoizedProps=a.memoizedProps,t.memoizedState=a.memoizedState,t.updateQueue=a.updateQueue,t.type=a.type,n=a.dependencies,t.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext}),t}function Go(t,n,a,l,c,h){var y=0;if(l=t,typeof t=="function")Wc(t)&&(y=1);else if(typeof t=="string")y=R0(t,a,ft.current)?26:t==="html"||t==="head"||t==="body"?27:5;else t:switch(t){case w:return t=on(31,a,n,c),t.elementType=w,t.lanes=h,t;case J:return er(a.children,c,h,n);case $:y=8,c|=24;break;case Z:return t=on(12,a,n,c|2),t.elementType=Z,t.lanes=h,t;case ot:return t=on(13,a,n,c),t.elementType=ot,t.lanes=h,t;case Ut:return t=on(19,a,n,c),t.elementType=Ut,t.lanes=h,t;default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case dt:case lt:y=10;break t;case ct:y=9;break t;case Rt:y=11;break t;case N:y=14;break t;case S:y=16,l=null;break t}y=29,a=Error(s(130,t===null?"null":typeof t,"")),l=null}return n=on(y,a,n,c),n.elementType=t,n.type=l,n.lanes=h,n}function er(t,n,a,l){return t=on(7,t,l,n),t.lanes=a,t}function tf(t,n,a){return t=on(6,t,null,n),t.lanes=a,t}function ef(t,n,a){return n=on(4,t.children!==null?t.children:[],t.key,n),n.lanes=a,n.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},n}var Xr=[],Zr=0,Fo=null,Qo=0,bn=[],Rn=0,nr=null,bi=1,Ri="";function ir(t,n){Xr[Zr++]=Qo,Xr[Zr++]=Fo,Fo=t,Qo=n}function Om(t,n,a){bn[Rn++]=bi,bn[Rn++]=Ri,bn[Rn++]=nr,nr=t;var l=bi;t=Ri;var c=32-qe(l)-1;l&=~(1<<c),a+=1;var h=32-qe(n)+c;if(30<h){var y=c-c%5;h=(l&(1<<y)-1).toString(32),l>>=y,c-=y,bi=1<<32-qe(n)+c|a<<c|l,Ri=h+t}else bi=1<<h|a<<c|l,Ri=t}function nf(t){t.return!==null&&(ir(t,1),Om(t,1,0))}function af(t){for(;t===Fo;)Fo=Xr[--Zr],Xr[Zr]=null,Qo=Xr[--Zr],Xr[Zr]=null;for(;t===nr;)nr=bn[--Rn],bn[Rn]=null,Ri=bn[--Rn],bn[Rn]=null,bi=bn[--Rn],bn[Rn]=null}var Ze=null,re=null,zt=!1,ar=null,$n=!1,rf=Error(s(519));function rr(t){var n=Error(s(418,""));throw ll(An(n,t)),rf}function Mm(t){var n=t.stateNode,a=t.type,l=t.memoizedProps;switch(n[_e]=t,n[he]=l,a){case"dialog":Ct("cancel",n),Ct("close",n);break;case"iframe":case"object":case"embed":Ct("load",n);break;case"video":case"audio":for(a=0;a<Ol.length;a++)Ct(Ol[a],n);break;case"source":Ct("error",n);break;case"img":case"image":case"link":Ct("error",n),Ct("load",n);break;case"details":Ct("toggle",n);break;case"input":Ct("invalid",n),Ha(n,l.value,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name,!0),xr(n);break;case"select":Ct("invalid",n);break;case"textarea":Ct("invalid",n),Ga(n,l.value,l.defaultValue,l.children),xr(n)}a=l.children,typeof a!="string"&&typeof a!="number"&&typeof a!="bigint"||n.textContent===""+a||l.suppressHydrationWarning===!0||Xp(n.textContent,a)?(l.popover!=null&&(Ct("beforetoggle",n),Ct("toggle",n)),l.onScroll!=null&&Ct("scroll",n),l.onScrollEnd!=null&&Ct("scrollend",n),l.onClick!=null&&(n.onclick=wu),n=!0):n=!1,n||rr(t)}function Nm(t){for(Ze=t.return;Ze;)switch(Ze.tag){case 5:case 13:$n=!1;return;case 27:case 3:$n=!0;return;default:Ze=Ze.return}}function rl(t){if(t!==Ze)return!1;if(!zt)return Nm(t),zt=!0,!1;var n=t.tag,a;if((a=n!==3&&n!==27)&&((a=n===5)&&(a=t.type,a=!(a!=="form"&&a!=="button")||Th(t.type,t.memoizedProps)),a=!a),a&&re&&rr(t),Nm(t),n===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(s(317));t:{for(t=t.nextSibling,n=0;t;){if(t.nodeType===8)if(a=t.data,a==="/$"){if(n===0){re=Un(t.nextSibling);break t}n--}else a!=="$"&&a!=="$!"&&a!=="$?"||n++;t=t.nextSibling}re=null}}else n===27?(n=re,ua(t.type)?(t=Rh,Rh=null,re=t):re=n):re=Ze?Un(t.stateNode.nextSibling):null;return!0}function sl(){re=Ze=null,zt=!1}function xm(){var t=ar;return t!==null&&(We===null?We=t:We.push.apply(We,t),ar=null),t}function ll(t){ar===null?ar=[t]:ar.push(t)}var sf=X(null),sr=null,wi=null;function Ki(t,n,a){W(sf,n._currentValue),n._currentValue=a}function Ci(t){t._currentValue=sf.current,nt(sf)}function lf(t,n,a){for(;t!==null;){var l=t.alternate;if((t.childLanes&n)!==n?(t.childLanes|=n,l!==null&&(l.childLanes|=n)):l!==null&&(l.childLanes&n)!==n&&(l.childLanes|=n),t===a)break;t=t.return}}function of(t,n,a,l){var c=t.child;for(c!==null&&(c.return=t);c!==null;){var h=c.dependencies;if(h!==null){var y=c.child;h=h.firstContext;t:for(;h!==null;){var E=h;h=c;for(var b=0;b<n.length;b++)if(E.context===n[b]){h.lanes|=a,E=h.alternate,E!==null&&(E.lanes|=a),lf(h.return,a,t),l||(y=null);break t}h=E.next}}else if(c.tag===18){if(y=c.return,y===null)throw Error(s(341));y.lanes|=a,h=y.alternate,h!==null&&(h.lanes|=a),lf(y,a,t),y=null}else y=c.child;if(y!==null)y.return=c;else for(y=c;y!==null;){if(y===t){y=null;break}if(c=y.sibling,c!==null){c.return=y.return,y=c;break}y=y.return}c=y}}function ol(t,n,a,l){t=null;for(var c=n,h=!1;c!==null;){if(!h){if((c.flags&524288)!==0)h=!0;else if((c.flags&262144)!==0)break}if(c.tag===10){var y=c.alternate;if(y===null)throw Error(s(387));if(y=y.memoizedProps,y!==null){var E=c.type;ln(c.pendingProps.value,y.value)||(t!==null?t.push(E):t=[E])}}else if(c===Re.current){if(y=c.alternate,y===null)throw Error(s(387));y.memoizedState.memoizedState!==c.memoizedState.memoizedState&&(t!==null?t.push(Pl):t=[Pl])}c=c.return}t!==null&&of(n,t,a,l),n.flags|=262144}function Yo(t){for(t=t.firstContext;t!==null;){if(!ln(t.context._currentValue,t.memoizedValue))return!0;t=t.next}return!1}function lr(t){sr=t,wi=null,t=t.dependencies,t!==null&&(t.firstContext=null)}function je(t){return Um(sr,t)}function Ko(t,n){return sr===null&&lr(t),Um(t,n)}function Um(t,n){var a=n._currentValue;if(n={context:n,memoizedValue:a,next:null},wi===null){if(t===null)throw Error(s(308));wi=n,t.dependencies={lanes:0,firstContext:n},t.flags|=524288}else wi=wi.next=n;return a}var bT=typeof AbortController<"u"?AbortController:function(){var t=[],n=this.signal={aborted:!1,addEventListener:function(a,l){t.push(l)}};this.abort=function(){n.aborted=!0,t.forEach(function(a){return a()})}},RT=r.unstable_scheduleCallback,wT=r.unstable_NormalPriority,Te={$$typeof:lt,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function uf(){return{controller:new bT,data:new Map,refCount:0}}function ul(t){t.refCount--,t.refCount===0&&RT(wT,function(){t.controller.abort()})}var cl=null,cf=0,$r=0,Jr=null;function CT(t,n){if(cl===null){var a=cl=[];cf=0,$r=hh(),Jr={status:"pending",value:void 0,then:function(l){a.push(l)}}}return cf++,n.then(Lm,Lm),n}function Lm(){if(--cf===0&&cl!==null){Jr!==null&&(Jr.status="fulfilled");var t=cl;cl=null,$r=0,Jr=null;for(var n=0;n<t.length;n++)(0,t[n])()}}function DT(t,n){var a=[],l={status:"pending",value:null,reason:null,then:function(c){a.push(c)}};return t.then(function(){l.status="fulfilled",l.value=n;for(var c=0;c<a.length;c++)(0,a[c])(n)},function(c){for(l.status="rejected",l.reason=c,c=0;c<a.length;c++)(0,a[c])(void 0)}),l}var Pm=j.S;j.S=function(t,n){typeof n=="object"&&n!==null&&typeof n.then=="function"&&CT(t,n),Pm!==null&&Pm(t,n)};var or=X(null);function ff(){var t=or.current;return t!==null?t:Zt.pooledCache}function Xo(t,n){n===null?W(or,or.current):W(or,n.pool)}function zm(){var t=ff();return t===null?null:{parent:Te._currentValue,pool:t}}var fl=Error(s(460)),km=Error(s(474)),Zo=Error(s(542)),hf={then:function(){}};function Bm(t){return t=t.status,t==="fulfilled"||t==="rejected"}function $o(){}function qm(t,n,a){switch(a=t[a],a===void 0?t.push(n):a!==n&&(n.then($o,$o),n=a),n.status){case"fulfilled":return n.value;case"rejected":throw t=n.reason,Hm(t),t;default:if(typeof n.status=="string")n.then($o,$o);else{if(t=Zt,t!==null&&100<t.shellSuspendCounter)throw Error(s(482));t=n,t.status="pending",t.then(function(l){if(n.status==="pending"){var c=n;c.status="fulfilled",c.value=l}},function(l){if(n.status==="pending"){var c=n;c.status="rejected",c.reason=l}})}switch(n.status){case"fulfilled":return n.value;case"rejected":throw t=n.reason,Hm(t),t}throw hl=n,fl}}var hl=null;function jm(){if(hl===null)throw Error(s(459));var t=hl;return hl=null,t}function Hm(t){if(t===fl||t===Zo)throw Error(s(483))}var Xi=!1;function df(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function mf(t,n){t=t.updateQueue,n.updateQueue===t&&(n.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,callbacks:null})}function Zi(t){return{lane:t,tag:0,payload:null,callback:null,next:null}}function $i(t,n,a){var l=t.updateQueue;if(l===null)return null;if(l=l.shared,(jt&2)!==0){var c=l.pending;return c===null?n.next=n:(n.next=c.next,c.next=n),l.pending=n,n=Ho(t),Im(t,null,a),n}return jo(t,l,n,a),Ho(t)}function dl(t,n,a){if(n=n.updateQueue,n!==null&&(n=n.shared,(a&4194048)!==0)){var l=n.lanes;l&=t.pendingLanes,a|=l,n.lanes=a,qs(t,a)}}function gf(t,n){var a=t.updateQueue,l=t.alternate;if(l!==null&&(l=l.updateQueue,a===l)){var c=null,h=null;if(a=a.firstBaseUpdate,a!==null){do{var y={lane:a.lane,tag:a.tag,payload:a.payload,callback:null,next:null};h===null?c=h=y:h=h.next=y,a=a.next}while(a!==null);h===null?c=h=n:h=h.next=n}else c=h=n;a={baseState:l.baseState,firstBaseUpdate:c,lastBaseUpdate:h,shared:l.shared,callbacks:l.callbacks},t.updateQueue=a;return}t=a.lastBaseUpdate,t===null?a.firstBaseUpdate=n:t.next=n,a.lastBaseUpdate=n}var pf=!1;function ml(){if(pf){var t=Jr;if(t!==null)throw t}}function gl(t,n,a,l){pf=!1;var c=t.updateQueue;Xi=!1;var h=c.firstBaseUpdate,y=c.lastBaseUpdate,E=c.shared.pending;if(E!==null){c.shared.pending=null;var b=E,z=b.next;b.next=null,y===null?h=z:y.next=z,y=b;var H=t.alternate;H!==null&&(H=H.updateQueue,E=H.lastBaseUpdate,E!==y&&(E===null?H.firstBaseUpdate=z:E.next=z,H.lastBaseUpdate=b))}if(h!==null){var Q=c.baseState;y=0,H=z=b=null,E=h;do{var k=E.lane&-536870913,B=k!==E.lane;if(B?(Mt&k)===k:(l&k)===k){k!==0&&k===$r&&(pf=!0),H!==null&&(H=H.next={lane:0,tag:E.tag,payload:E.payload,callback:null,next:null});t:{var yt=t,mt=E;k=n;var Yt=a;switch(mt.tag){case 1:if(yt=mt.payload,typeof yt=="function"){Q=yt.call(Yt,Q,k);break t}Q=yt;break t;case 3:yt.flags=yt.flags&-65537|128;case 0:if(yt=mt.payload,k=typeof yt=="function"?yt.call(Yt,Q,k):yt,k==null)break t;Q=A({},Q,k);break t;case 2:Xi=!0}}k=E.callback,k!==null&&(t.flags|=64,B&&(t.flags|=8192),B=c.callbacks,B===null?c.callbacks=[k]:B.push(k))}else B={lane:k,tag:E.tag,payload:E.payload,callback:E.callback,next:null},H===null?(z=H=B,b=Q):H=H.next=B,y|=k;if(E=E.next,E===null){if(E=c.shared.pending,E===null)break;B=E,E=B.next,B.next=null,c.lastBaseUpdate=B,c.shared.pending=null}}while(!0);H===null&&(b=Q),c.baseState=b,c.firstBaseUpdate=z,c.lastBaseUpdate=H,h===null&&(c.shared.lanes=0),ra|=y,t.lanes=y,t.memoizedState=Q}}function Gm(t,n){if(typeof t!="function")throw Error(s(191,t));t.call(n)}function Fm(t,n){var a=t.callbacks;if(a!==null)for(t.callbacks=null,t=0;t<a.length;t++)Gm(a[t],n)}var Wr=X(null),Jo=X(0);function Qm(t,n){t=xi,W(Jo,t),W(Wr,n),xi=t|n.baseLanes}function yf(){W(Jo,xi),W(Wr,Wr.current)}function _f(){xi=Jo.current,nt(Wr),nt(Jo)}var Ji=0,At=null,Ft=null,me=null,Wo=!1,ts=!1,ur=!1,tu=0,pl=0,es=null,IT=0;function oe(){throw Error(s(321))}function vf(t,n){if(n===null)return!1;for(var a=0;a<n.length&&a<t.length;a++)if(!ln(t[a],n[a]))return!1;return!0}function Ef(t,n,a,l,c,h){return Ji=h,At=n,n.memoizedState=null,n.updateQueue=null,n.lanes=0,j.H=t===null||t.memoizedState===null?Ig:Vg,ur=!1,h=a(l,c),ur=!1,ts&&(h=Km(n,a,l,c)),Ym(t),h}function Ym(t){j.H=su;var n=Ft!==null&&Ft.next!==null;if(Ji=0,me=Ft=At=null,Wo=!1,pl=0,es=null,n)throw Error(s(300));t===null||De||(t=t.dependencies,t!==null&&Yo(t)&&(De=!0))}function Km(t,n,a,l){At=t;var c=0;do{if(ts&&(es=null),pl=0,ts=!1,25<=c)throw Error(s(301));if(c+=1,me=Ft=null,t.updateQueue!=null){var h=t.updateQueue;h.lastEffect=null,h.events=null,h.stores=null,h.memoCache!=null&&(h.memoCache.index=0)}j.H=LT,h=n(a,l)}while(ts);return h}function VT(){var t=j.H,n=t.useState()[0];return n=typeof n.then=="function"?yl(n):n,t=t.useState()[0],(Ft!==null?Ft.memoizedState:null)!==t&&(At.flags|=1024),n}function Tf(){var t=tu!==0;return tu=0,t}function Af(t,n,a){n.updateQueue=t.updateQueue,n.flags&=-2053,t.lanes&=~a}function Sf(t){if(Wo){for(t=t.memoizedState;t!==null;){var n=t.queue;n!==null&&(n.pending=null),t=t.next}Wo=!1}Ji=0,me=Ft=At=null,ts=!1,pl=tu=0,es=null}function $e(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return me===null?At.memoizedState=me=t:me=me.next=t,me}function ge(){if(Ft===null){var t=At.alternate;t=t!==null?t.memoizedState:null}else t=Ft.next;var n=me===null?At.memoizedState:me.next;if(n!==null)me=n,Ft=t;else{if(t===null)throw At.alternate===null?Error(s(467)):Error(s(310));Ft=t,t={memoizedState:Ft.memoizedState,baseState:Ft.baseState,baseQueue:Ft.baseQueue,queue:Ft.queue,next:null},me===null?At.memoizedState=me=t:me=me.next=t}return me}function bf(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function yl(t){var n=pl;return pl+=1,es===null&&(es=[]),t=qm(es,t,n),n=At,(me===null?n.memoizedState:me.next)===null&&(n=n.alternate,j.H=n===null||n.memoizedState===null?Ig:Vg),t}function eu(t){if(t!==null&&typeof t=="object"){if(typeof t.then=="function")return yl(t);if(t.$$typeof===lt)return je(t)}throw Error(s(438,String(t)))}function Rf(t){var n=null,a=At.updateQueue;if(a!==null&&(n=a.memoCache),n==null){var l=At.alternate;l!==null&&(l=l.updateQueue,l!==null&&(l=l.memoCache,l!=null&&(n={data:l.data.map(function(c){return c.slice()}),index:0})))}if(n==null&&(n={data:[],index:0}),a===null&&(a=bf(),At.updateQueue=a),a.memoCache=n,a=n.data[n.index],a===void 0)for(a=n.data[n.index]=Array(t),l=0;l<t;l++)a[l]=O;return n.index++,a}function Di(t,n){return typeof n=="function"?n(t):n}function nu(t){var n=ge();return wf(n,Ft,t)}function wf(t,n,a){var l=t.queue;if(l===null)throw Error(s(311));l.lastRenderedReducer=a;var c=t.baseQueue,h=l.pending;if(h!==null){if(c!==null){var y=c.next;c.next=h.next,h.next=y}n.baseQueue=c=h,l.pending=null}if(h=t.baseState,c===null)t.memoizedState=h;else{n=c.next;var E=y=null,b=null,z=n,H=!1;do{var Q=z.lane&-536870913;if(Q!==z.lane?(Mt&Q)===Q:(Ji&Q)===Q){var k=z.revertLane;if(k===0)b!==null&&(b=b.next={lane:0,revertLane:0,action:z.action,hasEagerState:z.hasEagerState,eagerState:z.eagerState,next:null}),Q===$r&&(H=!0);else if((Ji&k)===k){z=z.next,k===$r&&(H=!0);continue}else Q={lane:0,revertLane:z.revertLane,action:z.action,hasEagerState:z.hasEagerState,eagerState:z.eagerState,next:null},b===null?(E=b=Q,y=h):b=b.next=Q,At.lanes|=k,ra|=k;Q=z.action,ur&&a(h,Q),h=z.hasEagerState?z.eagerState:a(h,Q)}else k={lane:Q,revertLane:z.revertLane,action:z.action,hasEagerState:z.hasEagerState,eagerState:z.eagerState,next:null},b===null?(E=b=k,y=h):b=b.next=k,At.lanes|=Q,ra|=Q;z=z.next}while(z!==null&&z!==n);if(b===null?y=h:b.next=E,!ln(h,t.memoizedState)&&(De=!0,H&&(a=Jr,a!==null)))throw a;t.memoizedState=h,t.baseState=y,t.baseQueue=b,l.lastRenderedState=h}return c===null&&(l.lanes=0),[t.memoizedState,l.dispatch]}function Cf(t){var n=ge(),a=n.queue;if(a===null)throw Error(s(311));a.lastRenderedReducer=t;var l=a.dispatch,c=a.pending,h=n.memoizedState;if(c!==null){a.pending=null;var y=c=c.next;do h=t(h,y.action),y=y.next;while(y!==c);ln(h,n.memoizedState)||(De=!0),n.memoizedState=h,n.baseQueue===null&&(n.baseState=h),a.lastRenderedState=h}return[h,l]}function Xm(t,n,a){var l=At,c=ge(),h=zt;if(h){if(a===void 0)throw Error(s(407));a=a()}else a=n();var y=!ln((Ft||c).memoizedState,a);y&&(c.memoizedState=a,De=!0),c=c.queue;var E=Jm.bind(null,l,c,t);if(_l(2048,8,E,[t]),c.getSnapshot!==n||y||me!==null&&me.memoizedState.tag&1){if(l.flags|=2048,ns(9,iu(),$m.bind(null,l,c,a,n),null),Zt===null)throw Error(s(349));h||(Ji&124)!==0||Zm(l,n,a)}return a}function Zm(t,n,a){t.flags|=16384,t={getSnapshot:n,value:a},n=At.updateQueue,n===null?(n=bf(),At.updateQueue=n,n.stores=[t]):(a=n.stores,a===null?n.stores=[t]:a.push(t))}function $m(t,n,a,l){n.value=a,n.getSnapshot=l,Wm(n)&&tg(t)}function Jm(t,n,a){return a(function(){Wm(n)&&tg(t)})}function Wm(t){var n=t.getSnapshot;t=t.value;try{var a=n();return!ln(t,a)}catch{return!0}}function tg(t){var n=Yr(t,2);n!==null&&dn(n,t,2)}function Df(t){var n=$e();if(typeof t=="function"){var a=t;if(t=a(),ur){rn(!0);try{a()}finally{rn(!1)}}}return n.memoizedState=n.baseState=t,n.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Di,lastRenderedState:t},n}function eg(t,n,a,l){return t.baseState=a,wf(t,Ft,typeof l=="function"?l:Di)}function OT(t,n,a,l,c){if(ru(t))throw Error(s(485));if(t=n.action,t!==null){var h={payload:c,action:t,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(y){h.listeners.push(y)}};j.T!==null?a(!0):h.isTransition=!1,l(h),a=n.pending,a===null?(h.next=n.pending=h,ng(n,h)):(h.next=a.next,n.pending=a.next=h)}}function ng(t,n){var a=n.action,l=n.payload,c=t.state;if(n.isTransition){var h=j.T,y={};j.T=y;try{var E=a(c,l),b=j.S;b!==null&&b(y,E),ig(t,n,E)}catch(z){If(t,n,z)}finally{j.T=h}}else try{h=a(c,l),ig(t,n,h)}catch(z){If(t,n,z)}}function ig(t,n,a){a!==null&&typeof a=="object"&&typeof a.then=="function"?a.then(function(l){ag(t,n,l)},function(l){return If(t,n,l)}):ag(t,n,a)}function ag(t,n,a){n.status="fulfilled",n.value=a,rg(n),t.state=a,n=t.pending,n!==null&&(a=n.next,a===n?t.pending=null:(a=a.next,n.next=a,ng(t,a)))}function If(t,n,a){var l=t.pending;if(t.pending=null,l!==null){l=l.next;do n.status="rejected",n.reason=a,rg(n),n=n.next;while(n!==l)}t.action=null}function rg(t){t=t.listeners;for(var n=0;n<t.length;n++)(0,t[n])()}function sg(t,n){return n}function lg(t,n){if(zt){var a=Zt.formState;if(a!==null){t:{var l=At;if(zt){if(re){e:{for(var c=re,h=$n;c.nodeType!==8;){if(!h){c=null;break e}if(c=Un(c.nextSibling),c===null){c=null;break e}}h=c.data,c=h==="F!"||h==="F"?c:null}if(c){re=Un(c.nextSibling),l=c.data==="F!";break t}}rr(l)}l=!1}l&&(n=a[0])}}return a=$e(),a.memoizedState=a.baseState=n,l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:sg,lastRenderedState:n},a.queue=l,a=wg.bind(null,At,l),l.dispatch=a,l=Df(!1),h=xf.bind(null,At,!1,l.queue),l=$e(),c={state:n,dispatch:null,action:t,pending:null},l.queue=c,a=OT.bind(null,At,c,h,a),c.dispatch=a,l.memoizedState=t,[n,a,!1]}function og(t){var n=ge();return ug(n,Ft,t)}function ug(t,n,a){if(n=wf(t,n,sg)[0],t=nu(Di)[0],typeof n=="object"&&n!==null&&typeof n.then=="function")try{var l=yl(n)}catch(y){throw y===fl?Zo:y}else l=n;n=ge();var c=n.queue,h=c.dispatch;return a!==n.memoizedState&&(At.flags|=2048,ns(9,iu(),MT.bind(null,c,a),null)),[l,h,t]}function MT(t,n){t.action=n}function cg(t){var n=ge(),a=Ft;if(a!==null)return ug(n,a,t);ge(),n=n.memoizedState,a=ge();var l=a.queue.dispatch;return a.memoizedState=t,[n,l,!1]}function ns(t,n,a,l){return t={tag:t,create:a,deps:l,inst:n,next:null},n=At.updateQueue,n===null&&(n=bf(),At.updateQueue=n),a=n.lastEffect,a===null?n.lastEffect=t.next=t:(l=a.next,a.next=t,t.next=l,n.lastEffect=t),t}function iu(){return{destroy:void 0,resource:void 0}}function fg(){return ge().memoizedState}function au(t,n,a,l){var c=$e();l=l===void 0?null:l,At.flags|=t,c.memoizedState=ns(1|n,iu(),a,l)}function _l(t,n,a,l){var c=ge();l=l===void 0?null:l;var h=c.memoizedState.inst;Ft!==null&&l!==null&&vf(l,Ft.memoizedState.deps)?c.memoizedState=ns(n,h,a,l):(At.flags|=t,c.memoizedState=ns(1|n,h,a,l))}function hg(t,n){au(8390656,8,t,n)}function dg(t,n){_l(2048,8,t,n)}function mg(t,n){return _l(4,2,t,n)}function gg(t,n){return _l(4,4,t,n)}function pg(t,n){if(typeof n=="function"){t=t();var a=n(t);return function(){typeof a=="function"?a():n(null)}}if(n!=null)return t=t(),n.current=t,function(){n.current=null}}function yg(t,n,a){a=a!=null?a.concat([t]):null,_l(4,4,pg.bind(null,n,t),a)}function Vf(){}function _g(t,n){var a=ge();n=n===void 0?null:n;var l=a.memoizedState;return n!==null&&vf(n,l[1])?l[0]:(a.memoizedState=[t,n],t)}function vg(t,n){var a=ge();n=n===void 0?null:n;var l=a.memoizedState;if(n!==null&&vf(n,l[1]))return l[0];if(l=t(),ur){rn(!0);try{t()}finally{rn(!1)}}return a.memoizedState=[l,n],l}function Of(t,n,a){return a===void 0||(Ji&1073741824)!==0?t.memoizedState=n:(t.memoizedState=a,t=Ap(),At.lanes|=t,ra|=t,a)}function Eg(t,n,a,l){return ln(a,n)?a:Wr.current!==null?(t=Of(t,a,l),ln(t,n)||(De=!0),t):(Ji&42)===0?(De=!0,t.memoizedState=a):(t=Ap(),At.lanes|=t,ra|=t,n)}function Tg(t,n,a,l,c){var h=et.p;et.p=h!==0&&8>h?h:8;var y=j.T,E={};j.T=E,xf(t,!1,n,a);try{var b=c(),z=j.S;if(z!==null&&z(E,b),b!==null&&typeof b=="object"&&typeof b.then=="function"){var H=DT(b,l);vl(t,n,H,hn(t))}else vl(t,n,l,hn(t))}catch(Q){vl(t,n,{then:function(){},status:"rejected",reason:Q},hn())}finally{et.p=h,j.T=y}}function NT(){}function Mf(t,n,a,l){if(t.tag!==5)throw Error(s(476));var c=Ag(t).queue;Tg(t,c,n,ut,a===null?NT:function(){return Sg(t),a(l)})}function Ag(t){var n=t.memoizedState;if(n!==null)return n;n={memoizedState:ut,baseState:ut,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Di,lastRenderedState:ut},next:null};var a={};return n.next={memoizedState:a,baseState:a,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Di,lastRenderedState:a},next:null},t.memoizedState=n,t=t.alternate,t!==null&&(t.memoizedState=n),n}function Sg(t){var n=Ag(t).next.queue;vl(t,n,{},hn())}function Nf(){return je(Pl)}function bg(){return ge().memoizedState}function Rg(){return ge().memoizedState}function xT(t){for(var n=t.return;n!==null;){switch(n.tag){case 24:case 3:var a=hn();t=Zi(a);var l=$i(n,t,a);l!==null&&(dn(l,n,a),dl(l,n,a)),n={cache:uf()},t.payload=n;return}n=n.return}}function UT(t,n,a){var l=hn();a={lane:l,revertLane:0,action:a,hasEagerState:!1,eagerState:null,next:null},ru(t)?Cg(n,a):(a=Jc(t,n,a,l),a!==null&&(dn(a,t,l),Dg(a,n,l)))}function wg(t,n,a){var l=hn();vl(t,n,a,l)}function vl(t,n,a,l){var c={lane:l,revertLane:0,action:a,hasEagerState:!1,eagerState:null,next:null};if(ru(t))Cg(n,c);else{var h=t.alternate;if(t.lanes===0&&(h===null||h.lanes===0)&&(h=n.lastRenderedReducer,h!==null))try{var y=n.lastRenderedState,E=h(y,a);if(c.hasEagerState=!0,c.eagerState=E,ln(E,y))return jo(t,n,c,0),Zt===null&&qo(),!1}catch{}finally{}if(a=Jc(t,n,c,l),a!==null)return dn(a,t,l),Dg(a,n,l),!0}return!1}function xf(t,n,a,l){if(l={lane:2,revertLane:hh(),action:l,hasEagerState:!1,eagerState:null,next:null},ru(t)){if(n)throw Error(s(479))}else n=Jc(t,a,l,2),n!==null&&dn(n,t,2)}function ru(t){var n=t.alternate;return t===At||n!==null&&n===At}function Cg(t,n){ts=Wo=!0;var a=t.pending;a===null?n.next=n:(n.next=a.next,a.next=n),t.pending=n}function Dg(t,n,a){if((a&4194048)!==0){var l=n.lanes;l&=t.pendingLanes,a|=l,n.lanes=a,qs(t,a)}}var su={readContext:je,use:eu,useCallback:oe,useContext:oe,useEffect:oe,useImperativeHandle:oe,useLayoutEffect:oe,useInsertionEffect:oe,useMemo:oe,useReducer:oe,useRef:oe,useState:oe,useDebugValue:oe,useDeferredValue:oe,useTransition:oe,useSyncExternalStore:oe,useId:oe,useHostTransitionStatus:oe,useFormState:oe,useActionState:oe,useOptimistic:oe,useMemoCache:oe,useCacheRefresh:oe},Ig={readContext:je,use:eu,useCallback:function(t,n){return $e().memoizedState=[t,n===void 0?null:n],t},useContext:je,useEffect:hg,useImperativeHandle:function(t,n,a){a=a!=null?a.concat([t]):null,au(4194308,4,pg.bind(null,n,t),a)},useLayoutEffect:function(t,n){return au(4194308,4,t,n)},useInsertionEffect:function(t,n){au(4,2,t,n)},useMemo:function(t,n){var a=$e();n=n===void 0?null:n;var l=t();if(ur){rn(!0);try{t()}finally{rn(!1)}}return a.memoizedState=[l,n],l},useReducer:function(t,n,a){var l=$e();if(a!==void 0){var c=a(n);if(ur){rn(!0);try{a(n)}finally{rn(!1)}}}else c=n;return l.memoizedState=l.baseState=c,t={pending:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:c},l.queue=t,t=t.dispatch=UT.bind(null,At,t),[l.memoizedState,t]},useRef:function(t){var n=$e();return t={current:t},n.memoizedState=t},useState:function(t){t=Df(t);var n=t.queue,a=wg.bind(null,At,n);return n.dispatch=a,[t.memoizedState,a]},useDebugValue:Vf,useDeferredValue:function(t,n){var a=$e();return Of(a,t,n)},useTransition:function(){var t=Df(!1);return t=Tg.bind(null,At,t.queue,!0,!1),$e().memoizedState=t,[!1,t]},useSyncExternalStore:function(t,n,a){var l=At,c=$e();if(zt){if(a===void 0)throw Error(s(407));a=a()}else{if(a=n(),Zt===null)throw Error(s(349));(Mt&124)!==0||Zm(l,n,a)}c.memoizedState=a;var h={value:a,getSnapshot:n};return c.queue=h,hg(Jm.bind(null,l,h,t),[t]),l.flags|=2048,ns(9,iu(),$m.bind(null,l,h,a,n),null),a},useId:function(){var t=$e(),n=Zt.identifierPrefix;if(zt){var a=Ri,l=bi;a=(l&~(1<<32-qe(l)-1)).toString(32)+a,n=""+n+"R"+a,a=tu++,0<a&&(n+="H"+a.toString(32)),n+=""}else a=IT++,n=""+n+"r"+a.toString(32)+"";return t.memoizedState=n},useHostTransitionStatus:Nf,useFormState:lg,useActionState:lg,useOptimistic:function(t){var n=$e();n.memoizedState=n.baseState=t;var a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return n.queue=a,n=xf.bind(null,At,!0,a),a.dispatch=n,[t,n]},useMemoCache:Rf,useCacheRefresh:function(){return $e().memoizedState=xT.bind(null,At)}},Vg={readContext:je,use:eu,useCallback:_g,useContext:je,useEffect:dg,useImperativeHandle:yg,useInsertionEffect:mg,useLayoutEffect:gg,useMemo:vg,useReducer:nu,useRef:fg,useState:function(){return nu(Di)},useDebugValue:Vf,useDeferredValue:function(t,n){var a=ge();return Eg(a,Ft.memoizedState,t,n)},useTransition:function(){var t=nu(Di)[0],n=ge().memoizedState;return[typeof t=="boolean"?t:yl(t),n]},useSyncExternalStore:Xm,useId:bg,useHostTransitionStatus:Nf,useFormState:og,useActionState:og,useOptimistic:function(t,n){var a=ge();return eg(a,Ft,t,n)},useMemoCache:Rf,useCacheRefresh:Rg},LT={readContext:je,use:eu,useCallback:_g,useContext:je,useEffect:dg,useImperativeHandle:yg,useInsertionEffect:mg,useLayoutEffect:gg,useMemo:vg,useReducer:Cf,useRef:fg,useState:function(){return Cf(Di)},useDebugValue:Vf,useDeferredValue:function(t,n){var a=ge();return Ft===null?Of(a,t,n):Eg(a,Ft.memoizedState,t,n)},useTransition:function(){var t=Cf(Di)[0],n=ge().memoizedState;return[typeof t=="boolean"?t:yl(t),n]},useSyncExternalStore:Xm,useId:bg,useHostTransitionStatus:Nf,useFormState:cg,useActionState:cg,useOptimistic:function(t,n){var a=ge();return Ft!==null?eg(a,Ft,t,n):(a.baseState=t,[t,a.queue.dispatch])},useMemoCache:Rf,useCacheRefresh:Rg},is=null,El=0;function lu(t){var n=El;return El+=1,is===null&&(is=[]),qm(is,t,n)}function Tl(t,n){n=n.props.ref,t.ref=n!==void 0?n:null}function ou(t,n){throw n.$$typeof===V?Error(s(525)):(t=Object.prototype.toString.call(n),Error(s(31,t==="[object Object]"?"object with keys {"+Object.keys(n).join(", ")+"}":t)))}function Og(t){var n=t._init;return n(t._payload)}function Mg(t){function n(x,D){if(t){var P=x.deletions;P===null?(x.deletions=[D],x.flags|=16):P.push(D)}}function a(x,D){if(!t)return null;for(;D!==null;)n(x,D),D=D.sibling;return null}function l(x){for(var D=new Map;x!==null;)x.key!==null?D.set(x.key,x):D.set(x.index,x),x=x.sibling;return D}function c(x,D){return x=Si(x,D),x.index=0,x.sibling=null,x}function h(x,D,P){return x.index=P,t?(P=x.alternate,P!==null?(P=P.index,P<D?(x.flags|=67108866,D):P):(x.flags|=67108866,D)):(x.flags|=1048576,D)}function y(x){return t&&x.alternate===null&&(x.flags|=67108866),x}function E(x,D,P,F){return D===null||D.tag!==6?(D=tf(P,x.mode,F),D.return=x,D):(D=c(D,P),D.return=x,D)}function b(x,D,P,F){var at=P.type;return at===J?H(x,D,P.props.children,F,P.key):D!==null&&(D.elementType===at||typeof at=="object"&&at!==null&&at.$$typeof===S&&Og(at)===D.type)?(D=c(D,P.props),Tl(D,P),D.return=x,D):(D=Go(P.type,P.key,P.props,null,x.mode,F),Tl(D,P),D.return=x,D)}function z(x,D,P,F){return D===null||D.tag!==4||D.stateNode.containerInfo!==P.containerInfo||D.stateNode.implementation!==P.implementation?(D=ef(P,x.mode,F),D.return=x,D):(D=c(D,P.children||[]),D.return=x,D)}function H(x,D,P,F,at){return D===null||D.tag!==7?(D=er(P,x.mode,F,at),D.return=x,D):(D=c(D,P),D.return=x,D)}function Q(x,D,P){if(typeof D=="string"&&D!==""||typeof D=="number"||typeof D=="bigint")return D=tf(""+D,x.mode,P),D.return=x,D;if(typeof D=="object"&&D!==null){switch(D.$$typeof){case I:return P=Go(D.type,D.key,D.props,null,x.mode,P),Tl(P,D),P.return=x,P;case G:return D=ef(D,x.mode,P),D.return=x,D;case S:var F=D._init;return D=F(D._payload),Q(x,D,P)}if(ie(D)||U(D))return D=er(D,x.mode,P,null),D.return=x,D;if(typeof D.then=="function")return Q(x,lu(D),P);if(D.$$typeof===lt)return Q(x,Ko(x,D),P);ou(x,D)}return null}function k(x,D,P,F){var at=D!==null?D.key:null;if(typeof P=="string"&&P!==""||typeof P=="number"||typeof P=="bigint")return at!==null?null:E(x,D,""+P,F);if(typeof P=="object"&&P!==null){switch(P.$$typeof){case I:return P.key===at?b(x,D,P,F):null;case G:return P.key===at?z(x,D,P,F):null;case S:return at=P._init,P=at(P._payload),k(x,D,P,F)}if(ie(P)||U(P))return at!==null?null:H(x,D,P,F,null);if(typeof P.then=="function")return k(x,D,lu(P),F);if(P.$$typeof===lt)return k(x,D,Ko(x,P),F);ou(x,P)}return null}function B(x,D,P,F,at){if(typeof F=="string"&&F!==""||typeof F=="number"||typeof F=="bigint")return x=x.get(P)||null,E(D,x,""+F,at);if(typeof F=="object"&&F!==null){switch(F.$$typeof){case I:return x=x.get(F.key===null?P:F.key)||null,b(D,x,F,at);case G:return x=x.get(F.key===null?P:F.key)||null,z(D,x,F,at);case S:var bt=F._init;return F=bt(F._payload),B(x,D,P,F,at)}if(ie(F)||U(F))return x=x.get(P)||null,H(D,x,F,at,null);if(typeof F.then=="function")return B(x,D,P,lu(F),at);if(F.$$typeof===lt)return B(x,D,P,Ko(D,F),at);ou(D,F)}return null}function yt(x,D,P,F){for(var at=null,bt=null,st=D,gt=D=0,Ve=null;st!==null&&gt<P.length;gt++){st.index>gt?(Ve=st,st=null):Ve=st.sibling;var Lt=k(x,st,P[gt],F);if(Lt===null){st===null&&(st=Ve);break}t&&st&&Lt.alternate===null&&n(x,st),D=h(Lt,D,gt),bt===null?at=Lt:bt.sibling=Lt,bt=Lt,st=Ve}if(gt===P.length)return a(x,st),zt&&ir(x,gt),at;if(st===null){for(;gt<P.length;gt++)st=Q(x,P[gt],F),st!==null&&(D=h(st,D,gt),bt===null?at=st:bt.sibling=st,bt=st);return zt&&ir(x,gt),at}for(st=l(st);gt<P.length;gt++)Ve=B(st,x,gt,P[gt],F),Ve!==null&&(t&&Ve.alternate!==null&&st.delete(Ve.key===null?gt:Ve.key),D=h(Ve,D,gt),bt===null?at=Ve:bt.sibling=Ve,bt=Ve);return t&&st.forEach(function(ma){return n(x,ma)}),zt&&ir(x,gt),at}function mt(x,D,P,F){if(P==null)throw Error(s(151));for(var at=null,bt=null,st=D,gt=D=0,Ve=null,Lt=P.next();st!==null&&!Lt.done;gt++,Lt=P.next()){st.index>gt?(Ve=st,st=null):Ve=st.sibling;var ma=k(x,st,Lt.value,F);if(ma===null){st===null&&(st=Ve);break}t&&st&&ma.alternate===null&&n(x,st),D=h(ma,D,gt),bt===null?at=ma:bt.sibling=ma,bt=ma,st=Ve}if(Lt.done)return a(x,st),zt&&ir(x,gt),at;if(st===null){for(;!Lt.done;gt++,Lt=P.next())Lt=Q(x,Lt.value,F),Lt!==null&&(D=h(Lt,D,gt),bt===null?at=Lt:bt.sibling=Lt,bt=Lt);return zt&&ir(x,gt),at}for(st=l(st);!Lt.done;gt++,Lt=P.next())Lt=B(st,x,gt,Lt.value,F),Lt!==null&&(t&&Lt.alternate!==null&&st.delete(Lt.key===null?gt:Lt.key),D=h(Lt,D,gt),bt===null?at=Lt:bt.sibling=Lt,bt=Lt);return t&&st.forEach(function(P0){return n(x,P0)}),zt&&ir(x,gt),at}function Yt(x,D,P,F){if(typeof P=="object"&&P!==null&&P.type===J&&P.key===null&&(P=P.props.children),typeof P=="object"&&P!==null){switch(P.$$typeof){case I:t:{for(var at=P.key;D!==null;){if(D.key===at){if(at=P.type,at===J){if(D.tag===7){a(x,D.sibling),F=c(D,P.props.children),F.return=x,x=F;break t}}else if(D.elementType===at||typeof at=="object"&&at!==null&&at.$$typeof===S&&Og(at)===D.type){a(x,D.sibling),F=c(D,P.props),Tl(F,P),F.return=x,x=F;break t}a(x,D);break}else n(x,D);D=D.sibling}P.type===J?(F=er(P.props.children,x.mode,F,P.key),F.return=x,x=F):(F=Go(P.type,P.key,P.props,null,x.mode,F),Tl(F,P),F.return=x,x=F)}return y(x);case G:t:{for(at=P.key;D!==null;){if(D.key===at)if(D.tag===4&&D.stateNode.containerInfo===P.containerInfo&&D.stateNode.implementation===P.implementation){a(x,D.sibling),F=c(D,P.children||[]),F.return=x,x=F;break t}else{a(x,D);break}else n(x,D);D=D.sibling}F=ef(P,x.mode,F),F.return=x,x=F}return y(x);case S:return at=P._init,P=at(P._payload),Yt(x,D,P,F)}if(ie(P))return yt(x,D,P,F);if(U(P)){if(at=U(P),typeof at!="function")throw Error(s(150));return P=at.call(P),mt(x,D,P,F)}if(typeof P.then=="function")return Yt(x,D,lu(P),F);if(P.$$typeof===lt)return Yt(x,D,Ko(x,P),F);ou(x,P)}return typeof P=="string"&&P!==""||typeof P=="number"||typeof P=="bigint"?(P=""+P,D!==null&&D.tag===6?(a(x,D.sibling),F=c(D,P),F.return=x,x=F):(a(x,D),F=tf(P,x.mode,F),F.return=x,x=F),y(x)):a(x,D)}return function(x,D,P,F){try{El=0;var at=Yt(x,D,P,F);return is=null,at}catch(st){if(st===fl||st===Zo)throw st;var bt=on(29,st,null,x.mode);return bt.lanes=F,bt.return=x,bt}finally{}}}var as=Mg(!0),Ng=Mg(!1),wn=X(null),Jn=null;function Wi(t){var n=t.alternate;W(Ae,Ae.current&1),W(wn,t),Jn===null&&(n===null||Wr.current!==null||n.memoizedState!==null)&&(Jn=t)}function xg(t){if(t.tag===22){if(W(Ae,Ae.current),W(wn,t),Jn===null){var n=t.alternate;n!==null&&n.memoizedState!==null&&(Jn=t)}}else ta()}function ta(){W(Ae,Ae.current),W(wn,wn.current)}function Ii(t){nt(wn),Jn===t&&(Jn=null),nt(Ae)}var Ae=X(0);function uu(t){for(var n=t;n!==null;){if(n.tag===13){var a=n.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||a.data==="$?"||bh(a)))return n}else if(n.tag===19&&n.memoizedProps.revealOrder!==void 0){if((n.flags&128)!==0)return n}else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return null;n=n.return}n.sibling.return=n.return,n=n.sibling}return null}function Uf(t,n,a,l){n=t.memoizedState,a=a(l,n),a=a==null?n:A({},n,a),t.memoizedState=a,t.lanes===0&&(t.updateQueue.baseState=a)}var Lf={enqueueSetState:function(t,n,a){t=t._reactInternals;var l=hn(),c=Zi(l);c.payload=n,a!=null&&(c.callback=a),n=$i(t,c,l),n!==null&&(dn(n,t,l),dl(n,t,l))},enqueueReplaceState:function(t,n,a){t=t._reactInternals;var l=hn(),c=Zi(l);c.tag=1,c.payload=n,a!=null&&(c.callback=a),n=$i(t,c,l),n!==null&&(dn(n,t,l),dl(n,t,l))},enqueueForceUpdate:function(t,n){t=t._reactInternals;var a=hn(),l=Zi(a);l.tag=2,n!=null&&(l.callback=n),n=$i(t,l,a),n!==null&&(dn(n,t,a),dl(n,t,a))}};function Ug(t,n,a,l,c,h,y){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(l,h,y):n.prototype&&n.prototype.isPureReactComponent?!il(a,l)||!il(c,h):!0}function Lg(t,n,a,l){t=n.state,typeof n.componentWillReceiveProps=="function"&&n.componentWillReceiveProps(a,l),typeof n.UNSAFE_componentWillReceiveProps=="function"&&n.UNSAFE_componentWillReceiveProps(a,l),n.state!==t&&Lf.enqueueReplaceState(n,n.state,null)}function cr(t,n){var a=n;if("ref"in n){a={};for(var l in n)l!=="ref"&&(a[l]=n[l])}if(t=t.defaultProps){a===n&&(a=A({},a));for(var c in t)a[c]===void 0&&(a[c]=t[c])}return a}var cu=typeof reportError=="function"?reportError:function(t){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var n=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof t=="object"&&t!==null&&typeof t.message=="string"?String(t.message):String(t),error:t});if(!window.dispatchEvent(n))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",t);return}console.error(t)};function Pg(t){cu(t)}function zg(t){console.error(t)}function kg(t){cu(t)}function fu(t,n){try{var a=t.onUncaughtError;a(n.value,{componentStack:n.stack})}catch(l){setTimeout(function(){throw l})}}function Bg(t,n,a){try{var l=t.onCaughtError;l(a.value,{componentStack:a.stack,errorBoundary:n.tag===1?n.stateNode:null})}catch(c){setTimeout(function(){throw c})}}function Pf(t,n,a){return a=Zi(a),a.tag=3,a.payload={element:null},a.callback=function(){fu(t,n)},a}function qg(t){return t=Zi(t),t.tag=3,t}function jg(t,n,a,l){var c=a.type.getDerivedStateFromError;if(typeof c=="function"){var h=l.value;t.payload=function(){return c(h)},t.callback=function(){Bg(n,a,l)}}var y=a.stateNode;y!==null&&typeof y.componentDidCatch=="function"&&(t.callback=function(){Bg(n,a,l),typeof c!="function"&&(sa===null?sa=new Set([this]):sa.add(this));var E=l.stack;this.componentDidCatch(l.value,{componentStack:E!==null?E:""})})}function PT(t,n,a,l,c){if(a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){if(n=a.alternate,n!==null&&ol(n,a,c,!0),a=wn.current,a!==null){switch(a.tag){case 13:return Jn===null?lh():a.alternate===null&&se===0&&(se=3),a.flags&=-257,a.flags|=65536,a.lanes=c,l===hf?a.flags|=16384:(n=a.updateQueue,n===null?a.updateQueue=new Set([l]):n.add(l),uh(t,l,c)),!1;case 22:return a.flags|=65536,l===hf?a.flags|=16384:(n=a.updateQueue,n===null?(n={transitions:null,markerInstances:null,retryQueue:new Set([l])},a.updateQueue=n):(a=n.retryQueue,a===null?n.retryQueue=new Set([l]):a.add(l)),uh(t,l,c)),!1}throw Error(s(435,a.tag))}return uh(t,l,c),lh(),!1}if(zt)return n=wn.current,n!==null?((n.flags&65536)===0&&(n.flags|=256),n.flags|=65536,n.lanes=c,l!==rf&&(t=Error(s(422),{cause:l}),ll(An(t,a)))):(l!==rf&&(n=Error(s(423),{cause:l}),ll(An(n,a))),t=t.current.alternate,t.flags|=65536,c&=-c,t.lanes|=c,l=An(l,a),c=Pf(t.stateNode,l,c),gf(t,c),se!==4&&(se=2)),!1;var h=Error(s(520),{cause:l});if(h=An(h,a),Dl===null?Dl=[h]:Dl.push(h),se!==4&&(se=2),n===null)return!0;l=An(l,a),a=n;do{switch(a.tag){case 3:return a.flags|=65536,t=c&-c,a.lanes|=t,t=Pf(a.stateNode,l,t),gf(a,t),!1;case 1:if(n=a.type,h=a.stateNode,(a.flags&128)===0&&(typeof n.getDerivedStateFromError=="function"||h!==null&&typeof h.componentDidCatch=="function"&&(sa===null||!sa.has(h))))return a.flags|=65536,c&=-c,a.lanes|=c,c=qg(c),jg(c,t,a,l),gf(a,c),!1}a=a.return}while(a!==null);return!1}var Hg=Error(s(461)),De=!1;function Ue(t,n,a,l){n.child=t===null?Ng(n,null,a,l):as(n,t.child,a,l)}function Gg(t,n,a,l,c){a=a.render;var h=n.ref;if("ref"in l){var y={};for(var E in l)E!=="ref"&&(y[E]=l[E])}else y=l;return lr(n),l=Ef(t,n,a,y,h,c),E=Tf(),t!==null&&!De?(Af(t,n,c),Vi(t,n,c)):(zt&&E&&nf(n),n.flags|=1,Ue(t,n,l,c),n.child)}function Fg(t,n,a,l,c){if(t===null){var h=a.type;return typeof h=="function"&&!Wc(h)&&h.defaultProps===void 0&&a.compare===null?(n.tag=15,n.type=h,Qg(t,n,h,l,c)):(t=Go(a.type,null,l,n,n.mode,c),t.ref=n.ref,t.return=n,n.child=t)}if(h=t.child,!Ff(t,c)){var y=h.memoizedProps;if(a=a.compare,a=a!==null?a:il,a(y,l)&&t.ref===n.ref)return Vi(t,n,c)}return n.flags|=1,t=Si(h,l),t.ref=n.ref,t.return=n,n.child=t}function Qg(t,n,a,l,c){if(t!==null){var h=t.memoizedProps;if(il(h,l)&&t.ref===n.ref)if(De=!1,n.pendingProps=l=h,Ff(t,c))(t.flags&131072)!==0&&(De=!0);else return n.lanes=t.lanes,Vi(t,n,c)}return zf(t,n,a,l,c)}function Yg(t,n,a){var l=n.pendingProps,c=l.children,h=t!==null?t.memoizedState:null;if(l.mode==="hidden"){if((n.flags&128)!==0){if(l=h!==null?h.baseLanes|a:a,t!==null){for(c=n.child=t.child,h=0;c!==null;)h=h|c.lanes|c.childLanes,c=c.sibling;n.childLanes=h&~l}else n.childLanes=0,n.child=null;return Kg(t,n,l,a)}if((a&536870912)!==0)n.memoizedState={baseLanes:0,cachePool:null},t!==null&&Xo(n,h!==null?h.cachePool:null),h!==null?Qm(n,h):yf(),xg(n);else return n.lanes=n.childLanes=536870912,Kg(t,n,h!==null?h.baseLanes|a:a,a)}else h!==null?(Xo(n,h.cachePool),Qm(n,h),ta(),n.memoizedState=null):(t!==null&&Xo(n,null),yf(),ta());return Ue(t,n,c,a),n.child}function Kg(t,n,a,l){var c=ff();return c=c===null?null:{parent:Te._currentValue,pool:c},n.memoizedState={baseLanes:a,cachePool:c},t!==null&&Xo(n,null),yf(),xg(n),t!==null&&ol(t,n,l,!0),null}function hu(t,n){var a=n.ref;if(a===null)t!==null&&t.ref!==null&&(n.flags|=4194816);else{if(typeof a!="function"&&typeof a!="object")throw Error(s(284));(t===null||t.ref!==a)&&(n.flags|=4194816)}}function zf(t,n,a,l,c){return lr(n),a=Ef(t,n,a,l,void 0,c),l=Tf(),t!==null&&!De?(Af(t,n,c),Vi(t,n,c)):(zt&&l&&nf(n),n.flags|=1,Ue(t,n,a,c),n.child)}function Xg(t,n,a,l,c,h){return lr(n),n.updateQueue=null,a=Km(n,l,a,c),Ym(t),l=Tf(),t!==null&&!De?(Af(t,n,h),Vi(t,n,h)):(zt&&l&&nf(n),n.flags|=1,Ue(t,n,a,h),n.child)}function Zg(t,n,a,l,c){if(lr(n),n.stateNode===null){var h=Kr,y=a.contextType;typeof y=="object"&&y!==null&&(h=je(y)),h=new a(l,h),n.memoizedState=h.state!==null&&h.state!==void 0?h.state:null,h.updater=Lf,n.stateNode=h,h._reactInternals=n,h=n.stateNode,h.props=l,h.state=n.memoizedState,h.refs={},df(n),y=a.contextType,h.context=typeof y=="object"&&y!==null?je(y):Kr,h.state=n.memoizedState,y=a.getDerivedStateFromProps,typeof y=="function"&&(Uf(n,a,y,l),h.state=n.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof h.getSnapshotBeforeUpdate=="function"||typeof h.UNSAFE_componentWillMount!="function"&&typeof h.componentWillMount!="function"||(y=h.state,typeof h.componentWillMount=="function"&&h.componentWillMount(),typeof h.UNSAFE_componentWillMount=="function"&&h.UNSAFE_componentWillMount(),y!==h.state&&Lf.enqueueReplaceState(h,h.state,null),gl(n,l,h,c),ml(),h.state=n.memoizedState),typeof h.componentDidMount=="function"&&(n.flags|=4194308),l=!0}else if(t===null){h=n.stateNode;var E=n.memoizedProps,b=cr(a,E);h.props=b;var z=h.context,H=a.contextType;y=Kr,typeof H=="object"&&H!==null&&(y=je(H));var Q=a.getDerivedStateFromProps;H=typeof Q=="function"||typeof h.getSnapshotBeforeUpdate=="function",E=n.pendingProps!==E,H||typeof h.UNSAFE_componentWillReceiveProps!="function"&&typeof h.componentWillReceiveProps!="function"||(E||z!==y)&&Lg(n,h,l,y),Xi=!1;var k=n.memoizedState;h.state=k,gl(n,l,h,c),ml(),z=n.memoizedState,E||k!==z||Xi?(typeof Q=="function"&&(Uf(n,a,Q,l),z=n.memoizedState),(b=Xi||Ug(n,a,b,l,k,z,y))?(H||typeof h.UNSAFE_componentWillMount!="function"&&typeof h.componentWillMount!="function"||(typeof h.componentWillMount=="function"&&h.componentWillMount(),typeof h.UNSAFE_componentWillMount=="function"&&h.UNSAFE_componentWillMount()),typeof h.componentDidMount=="function"&&(n.flags|=4194308)):(typeof h.componentDidMount=="function"&&(n.flags|=4194308),n.memoizedProps=l,n.memoizedState=z),h.props=l,h.state=z,h.context=y,l=b):(typeof h.componentDidMount=="function"&&(n.flags|=4194308),l=!1)}else{h=n.stateNode,mf(t,n),y=n.memoizedProps,H=cr(a,y),h.props=H,Q=n.pendingProps,k=h.context,z=a.contextType,b=Kr,typeof z=="object"&&z!==null&&(b=je(z)),E=a.getDerivedStateFromProps,(z=typeof E=="function"||typeof h.getSnapshotBeforeUpdate=="function")||typeof h.UNSAFE_componentWillReceiveProps!="function"&&typeof h.componentWillReceiveProps!="function"||(y!==Q||k!==b)&&Lg(n,h,l,b),Xi=!1,k=n.memoizedState,h.state=k,gl(n,l,h,c),ml();var B=n.memoizedState;y!==Q||k!==B||Xi||t!==null&&t.dependencies!==null&&Yo(t.dependencies)?(typeof E=="function"&&(Uf(n,a,E,l),B=n.memoizedState),(H=Xi||Ug(n,a,H,l,k,B,b)||t!==null&&t.dependencies!==null&&Yo(t.dependencies))?(z||typeof h.UNSAFE_componentWillUpdate!="function"&&typeof h.componentWillUpdate!="function"||(typeof h.componentWillUpdate=="function"&&h.componentWillUpdate(l,B,b),typeof h.UNSAFE_componentWillUpdate=="function"&&h.UNSAFE_componentWillUpdate(l,B,b)),typeof h.componentDidUpdate=="function"&&(n.flags|=4),typeof h.getSnapshotBeforeUpdate=="function"&&(n.flags|=1024)):(typeof h.componentDidUpdate!="function"||y===t.memoizedProps&&k===t.memoizedState||(n.flags|=4),typeof h.getSnapshotBeforeUpdate!="function"||y===t.memoizedProps&&k===t.memoizedState||(n.flags|=1024),n.memoizedProps=l,n.memoizedState=B),h.props=l,h.state=B,h.context=b,l=H):(typeof h.componentDidUpdate!="function"||y===t.memoizedProps&&k===t.memoizedState||(n.flags|=4),typeof h.getSnapshotBeforeUpdate!="function"||y===t.memoizedProps&&k===t.memoizedState||(n.flags|=1024),l=!1)}return h=l,hu(t,n),l=(n.flags&128)!==0,h||l?(h=n.stateNode,a=l&&typeof a.getDerivedStateFromError!="function"?null:h.render(),n.flags|=1,t!==null&&l?(n.child=as(n,t.child,null,c),n.child=as(n,null,a,c)):Ue(t,n,a,c),n.memoizedState=h.state,t=n.child):t=Vi(t,n,c),t}function $g(t,n,a,l){return sl(),n.flags|=256,Ue(t,n,a,l),n.child}var kf={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Bf(t){return{baseLanes:t,cachePool:zm()}}function qf(t,n,a){return t=t!==null?t.childLanes&~a:0,n&&(t|=Cn),t}function Jg(t,n,a){var l=n.pendingProps,c=!1,h=(n.flags&128)!==0,y;if((y=h)||(y=t!==null&&t.memoizedState===null?!1:(Ae.current&2)!==0),y&&(c=!0,n.flags&=-129),y=(n.flags&32)!==0,n.flags&=-33,t===null){if(zt){if(c?Wi(n):ta(),zt){var E=re,b;if(b=E){t:{for(b=E,E=$n;b.nodeType!==8;){if(!E){E=null;break t}if(b=Un(b.nextSibling),b===null){E=null;break t}}E=b}E!==null?(n.memoizedState={dehydrated:E,treeContext:nr!==null?{id:bi,overflow:Ri}:null,retryLane:536870912,hydrationErrors:null},b=on(18,null,null,0),b.stateNode=E,b.return=n,n.child=b,Ze=n,re=null,b=!0):b=!1}b||rr(n)}if(E=n.memoizedState,E!==null&&(E=E.dehydrated,E!==null))return bh(E)?n.lanes=32:n.lanes=536870912,null;Ii(n)}return E=l.children,l=l.fallback,c?(ta(),c=n.mode,E=du({mode:"hidden",children:E},c),l=er(l,c,a,null),E.return=n,l.return=n,E.sibling=l,n.child=E,c=n.child,c.memoizedState=Bf(a),c.childLanes=qf(t,y,a),n.memoizedState=kf,l):(Wi(n),jf(n,E))}if(b=t.memoizedState,b!==null&&(E=b.dehydrated,E!==null)){if(h)n.flags&256?(Wi(n),n.flags&=-257,n=Hf(t,n,a)):n.memoizedState!==null?(ta(),n.child=t.child,n.flags|=128,n=null):(ta(),c=l.fallback,E=n.mode,l=du({mode:"visible",children:l.children},E),c=er(c,E,a,null),c.flags|=2,l.return=n,c.return=n,l.sibling=c,n.child=l,as(n,t.child,null,a),l=n.child,l.memoizedState=Bf(a),l.childLanes=qf(t,y,a),n.memoizedState=kf,n=c);else if(Wi(n),bh(E)){if(y=E.nextSibling&&E.nextSibling.dataset,y)var z=y.dgst;y=z,l=Error(s(419)),l.stack="",l.digest=y,ll({value:l,source:null,stack:null}),n=Hf(t,n,a)}else if(De||ol(t,n,a,!1),y=(a&t.childLanes)!==0,De||y){if(y=Zt,y!==null&&(l=a&-a,l=(l&42)!==0?1:qi(l),l=(l&(y.suspendedLanes|a))!==0?0:l,l!==0&&l!==b.retryLane))throw b.retryLane=l,Yr(t,l),dn(y,t,l),Hg;E.data==="$?"||lh(),n=Hf(t,n,a)}else E.data==="$?"?(n.flags|=192,n.child=t.child,n=null):(t=b.treeContext,re=Un(E.nextSibling),Ze=n,zt=!0,ar=null,$n=!1,t!==null&&(bn[Rn++]=bi,bn[Rn++]=Ri,bn[Rn++]=nr,bi=t.id,Ri=t.overflow,nr=n),n=jf(n,l.children),n.flags|=4096);return n}return c?(ta(),c=l.fallback,E=n.mode,b=t.child,z=b.sibling,l=Si(b,{mode:"hidden",children:l.children}),l.subtreeFlags=b.subtreeFlags&65011712,z!==null?c=Si(z,c):(c=er(c,E,a,null),c.flags|=2),c.return=n,l.return=n,l.sibling=c,n.child=l,l=c,c=n.child,E=t.child.memoizedState,E===null?E=Bf(a):(b=E.cachePool,b!==null?(z=Te._currentValue,b=b.parent!==z?{parent:z,pool:z}:b):b=zm(),E={baseLanes:E.baseLanes|a,cachePool:b}),c.memoizedState=E,c.childLanes=qf(t,y,a),n.memoizedState=kf,l):(Wi(n),a=t.child,t=a.sibling,a=Si(a,{mode:"visible",children:l.children}),a.return=n,a.sibling=null,t!==null&&(y=n.deletions,y===null?(n.deletions=[t],n.flags|=16):y.push(t)),n.child=a,n.memoizedState=null,a)}function jf(t,n){return n=du({mode:"visible",children:n},t.mode),n.return=t,t.child=n}function du(t,n){return t=on(22,t,null,n),t.lanes=0,t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},t}function Hf(t,n,a){return as(n,t.child,null,a),t=jf(n,n.pendingProps.children),t.flags|=2,n.memoizedState=null,t}function Wg(t,n,a){t.lanes|=n;var l=t.alternate;l!==null&&(l.lanes|=n),lf(t.return,n,a)}function Gf(t,n,a,l,c){var h=t.memoizedState;h===null?t.memoizedState={isBackwards:n,rendering:null,renderingStartTime:0,last:l,tail:a,tailMode:c}:(h.isBackwards=n,h.rendering=null,h.renderingStartTime=0,h.last=l,h.tail=a,h.tailMode=c)}function tp(t,n,a){var l=n.pendingProps,c=l.revealOrder,h=l.tail;if(Ue(t,n,l.children,a),l=Ae.current,(l&2)!==0)l=l&1|2,n.flags|=128;else{if(t!==null&&(t.flags&128)!==0)t:for(t=n.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&Wg(t,a,n);else if(t.tag===19)Wg(t,a,n);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===n)break t;for(;t.sibling===null;){if(t.return===null||t.return===n)break t;t=t.return}t.sibling.return=t.return,t=t.sibling}l&=1}switch(W(Ae,l),c){case"forwards":for(a=n.child,c=null;a!==null;)t=a.alternate,t!==null&&uu(t)===null&&(c=a),a=a.sibling;a=c,a===null?(c=n.child,n.child=null):(c=a.sibling,a.sibling=null),Gf(n,!1,c,a,h);break;case"backwards":for(a=null,c=n.child,n.child=null;c!==null;){if(t=c.alternate,t!==null&&uu(t)===null){n.child=c;break}t=c.sibling,c.sibling=a,a=c,c=t}Gf(n,!0,a,null,h);break;case"together":Gf(n,!1,null,null,void 0);break;default:n.memoizedState=null}return n.child}function Vi(t,n,a){if(t!==null&&(n.dependencies=t.dependencies),ra|=n.lanes,(a&n.childLanes)===0)if(t!==null){if(ol(t,n,a,!1),(a&n.childLanes)===0)return null}else return null;if(t!==null&&n.child!==t.child)throw Error(s(153));if(n.child!==null){for(t=n.child,a=Si(t,t.pendingProps),n.child=a,a.return=n;t.sibling!==null;)t=t.sibling,a=a.sibling=Si(t,t.pendingProps),a.return=n;a.sibling=null}return n.child}function Ff(t,n){return(t.lanes&n)!==0?!0:(t=t.dependencies,!!(t!==null&&Yo(t)))}function zT(t,n,a){switch(n.tag){case 3:Xt(n,n.stateNode.containerInfo),Ki(n,Te,t.memoizedState.cache),sl();break;case 27:case 5:Bi(n);break;case 4:Xt(n,n.stateNode.containerInfo);break;case 10:Ki(n,n.type,n.memoizedProps.value);break;case 13:var l=n.memoizedState;if(l!==null)return l.dehydrated!==null?(Wi(n),n.flags|=128,null):(a&n.child.childLanes)!==0?Jg(t,n,a):(Wi(n),t=Vi(t,n,a),t!==null?t.sibling:null);Wi(n);break;case 19:var c=(t.flags&128)!==0;if(l=(a&n.childLanes)!==0,l||(ol(t,n,a,!1),l=(a&n.childLanes)!==0),c){if(l)return tp(t,n,a);n.flags|=128}if(c=n.memoizedState,c!==null&&(c.rendering=null,c.tail=null,c.lastEffect=null),W(Ae,Ae.current),l)break;return null;case 22:case 23:return n.lanes=0,Yg(t,n,a);case 24:Ki(n,Te,t.memoizedState.cache)}return Vi(t,n,a)}function ep(t,n,a){if(t!==null)if(t.memoizedProps!==n.pendingProps)De=!0;else{if(!Ff(t,a)&&(n.flags&128)===0)return De=!1,zT(t,n,a);De=(t.flags&131072)!==0}else De=!1,zt&&(n.flags&1048576)!==0&&Om(n,Qo,n.index);switch(n.lanes=0,n.tag){case 16:t:{t=n.pendingProps;var l=n.elementType,c=l._init;if(l=c(l._payload),n.type=l,typeof l=="function")Wc(l)?(t=cr(l,t),n.tag=1,n=Zg(null,n,l,t,a)):(n.tag=0,n=zf(null,n,l,t,a));else{if(l!=null){if(c=l.$$typeof,c===Rt){n.tag=11,n=Gg(null,n,l,t,a);break t}else if(c===N){n.tag=14,n=Fg(null,n,l,t,a);break t}}throw n=Me(l)||l,Error(s(306,n,""))}}return n;case 0:return zf(t,n,n.type,n.pendingProps,a);case 1:return l=n.type,c=cr(l,n.pendingProps),Zg(t,n,l,c,a);case 3:t:{if(Xt(n,n.stateNode.containerInfo),t===null)throw Error(s(387));l=n.pendingProps;var h=n.memoizedState;c=h.element,mf(t,n),gl(n,l,null,a);var y=n.memoizedState;if(l=y.cache,Ki(n,Te,l),l!==h.cache&&of(n,[Te],a,!0),ml(),l=y.element,h.isDehydrated)if(h={element:l,isDehydrated:!1,cache:y.cache},n.updateQueue.baseState=h,n.memoizedState=h,n.flags&256){n=$g(t,n,l,a);break t}else if(l!==c){c=An(Error(s(424)),n),ll(c),n=$g(t,n,l,a);break t}else{switch(t=n.stateNode.containerInfo,t.nodeType){case 9:t=t.body;break;default:t=t.nodeName==="HTML"?t.ownerDocument.body:t}for(re=Un(t.firstChild),Ze=n,zt=!0,ar=null,$n=!0,a=Ng(n,null,l,a),n.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling}else{if(sl(),l===c){n=Vi(t,n,a);break t}Ue(t,n,l,a)}n=n.child}return n;case 26:return hu(t,n),t===null?(a=ry(n.type,null,n.pendingProps,null))?n.memoizedState=a:zt||(a=n.type,t=n.pendingProps,l=Cu(_t.current).createElement(a),l[_e]=n,l[he]=t,Pe(l,a,t),le(l),n.stateNode=l):n.memoizedState=ry(n.type,t.memoizedProps,n.pendingProps,t.memoizedState),null;case 27:return Bi(n),t===null&&zt&&(l=n.stateNode=ny(n.type,n.pendingProps,_t.current),Ze=n,$n=!0,c=re,ua(n.type)?(Rh=c,re=Un(l.firstChild)):re=c),Ue(t,n,n.pendingProps.children,a),hu(t,n),t===null&&(n.flags|=4194304),n.child;case 5:return t===null&&zt&&((c=l=re)&&(l=h0(l,n.type,n.pendingProps,$n),l!==null?(n.stateNode=l,Ze=n,re=Un(l.firstChild),$n=!1,c=!0):c=!1),c||rr(n)),Bi(n),c=n.type,h=n.pendingProps,y=t!==null?t.memoizedProps:null,l=h.children,Th(c,h)?l=null:y!==null&&Th(c,y)&&(n.flags|=32),n.memoizedState!==null&&(c=Ef(t,n,VT,null,null,a),Pl._currentValue=c),hu(t,n),Ue(t,n,l,a),n.child;case 6:return t===null&&zt&&((t=a=re)&&(a=d0(a,n.pendingProps,$n),a!==null?(n.stateNode=a,Ze=n,re=null,t=!0):t=!1),t||rr(n)),null;case 13:return Jg(t,n,a);case 4:return Xt(n,n.stateNode.containerInfo),l=n.pendingProps,t===null?n.child=as(n,null,l,a):Ue(t,n,l,a),n.child;case 11:return Gg(t,n,n.type,n.pendingProps,a);case 7:return Ue(t,n,n.pendingProps,a),n.child;case 8:return Ue(t,n,n.pendingProps.children,a),n.child;case 12:return Ue(t,n,n.pendingProps.children,a),n.child;case 10:return l=n.pendingProps,Ki(n,n.type,l.value),Ue(t,n,l.children,a),n.child;case 9:return c=n.type._context,l=n.pendingProps.children,lr(n),c=je(c),l=l(c),n.flags|=1,Ue(t,n,l,a),n.child;case 14:return Fg(t,n,n.type,n.pendingProps,a);case 15:return Qg(t,n,n.type,n.pendingProps,a);case 19:return tp(t,n,a);case 31:return l=n.pendingProps,a=n.mode,l={mode:l.mode,children:l.children},t===null?(a=du(l,a),a.ref=n.ref,n.child=a,a.return=n,n=a):(a=Si(t.child,l),a.ref=n.ref,n.child=a,a.return=n,n=a),n;case 22:return Yg(t,n,a);case 24:return lr(n),l=je(Te),t===null?(c=ff(),c===null&&(c=Zt,h=uf(),c.pooledCache=h,h.refCount++,h!==null&&(c.pooledCacheLanes|=a),c=h),n.memoizedState={parent:l,cache:c},df(n),Ki(n,Te,c)):((t.lanes&a)!==0&&(mf(t,n),gl(n,null,null,a),ml()),c=t.memoizedState,h=n.memoizedState,c.parent!==l?(c={parent:l,cache:l},n.memoizedState=c,n.lanes===0&&(n.memoizedState=n.updateQueue.baseState=c),Ki(n,Te,l)):(l=h.cache,Ki(n,Te,l),l!==c.cache&&of(n,[Te],a,!0))),Ue(t,n,n.pendingProps.children,a),n.child;case 29:throw n.pendingProps}throw Error(s(156,n.tag))}function Oi(t){t.flags|=4}function np(t,n){if(n.type!=="stylesheet"||(n.state.loading&4)!==0)t.flags&=-16777217;else if(t.flags|=16777216,!cy(n)){if(n=wn.current,n!==null&&((Mt&4194048)===Mt?Jn!==null:(Mt&62914560)!==Mt&&(Mt&536870912)===0||n!==Jn))throw hl=hf,km;t.flags|=8192}}function mu(t,n){n!==null&&(t.flags|=4),t.flags&16384&&(n=t.tag!==22?ks():536870912,t.lanes|=n,os|=n)}function Al(t,n){if(!zt)switch(t.tailMode){case"hidden":n=t.tail;for(var a=null;n!==null;)n.alternate!==null&&(a=n),n=n.sibling;a===null?t.tail=null:a.sibling=null;break;case"collapsed":a=t.tail;for(var l=null;a!==null;)a.alternate!==null&&(l=a),a=a.sibling;l===null?n||t.tail===null?t.tail=null:t.tail.sibling=null:l.sibling=null}}function ee(t){var n=t.alternate!==null&&t.alternate.child===t.child,a=0,l=0;if(n)for(var c=t.child;c!==null;)a|=c.lanes|c.childLanes,l|=c.subtreeFlags&65011712,l|=c.flags&65011712,c.return=t,c=c.sibling;else for(c=t.child;c!==null;)a|=c.lanes|c.childLanes,l|=c.subtreeFlags,l|=c.flags,c.return=t,c=c.sibling;return t.subtreeFlags|=l,t.childLanes=a,n}function kT(t,n,a){var l=n.pendingProps;switch(af(n),n.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ee(n),null;case 1:return ee(n),null;case 3:return a=n.stateNode,l=null,t!==null&&(l=t.memoizedState.cache),n.memoizedState.cache!==l&&(n.flags|=2048),Ci(Te),kn(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(t===null||t.child===null)&&(rl(n)?Oi(n):t===null||t.memoizedState.isDehydrated&&(n.flags&256)===0||(n.flags|=1024,xm())),ee(n),null;case 26:return a=n.memoizedState,t===null?(Oi(n),a!==null?(ee(n),np(n,a)):(ee(n),n.flags&=-16777217)):a?a!==t.memoizedState?(Oi(n),ee(n),np(n,a)):(ee(n),n.flags&=-16777217):(t.memoizedProps!==l&&Oi(n),ee(n),n.flags&=-16777217),null;case 27:ci(n),a=_t.current;var c=n.type;if(t!==null&&n.stateNode!=null)t.memoizedProps!==l&&Oi(n);else{if(!l){if(n.stateNode===null)throw Error(s(166));return ee(n),null}t=ft.current,rl(n)?Mm(n):(t=ny(c,l,a),n.stateNode=t,Oi(n))}return ee(n),null;case 5:if(ci(n),a=n.type,t!==null&&n.stateNode!=null)t.memoizedProps!==l&&Oi(n);else{if(!l){if(n.stateNode===null)throw Error(s(166));return ee(n),null}if(t=ft.current,rl(n))Mm(n);else{switch(c=Cu(_t.current),t){case 1:t=c.createElementNS("http://www.w3.org/2000/svg",a);break;case 2:t=c.createElementNS("http://www.w3.org/1998/Math/MathML",a);break;default:switch(a){case"svg":t=c.createElementNS("http://www.w3.org/2000/svg",a);break;case"math":t=c.createElementNS("http://www.w3.org/1998/Math/MathML",a);break;case"script":t=c.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild);break;case"select":t=typeof l.is=="string"?c.createElement("select",{is:l.is}):c.createElement("select"),l.multiple?t.multiple=!0:l.size&&(t.size=l.size);break;default:t=typeof l.is=="string"?c.createElement(a,{is:l.is}):c.createElement(a)}}t[_e]=n,t[he]=l;t:for(c=n.child;c!==null;){if(c.tag===5||c.tag===6)t.appendChild(c.stateNode);else if(c.tag!==4&&c.tag!==27&&c.child!==null){c.child.return=c,c=c.child;continue}if(c===n)break t;for(;c.sibling===null;){if(c.return===null||c.return===n)break t;c=c.return}c.sibling.return=c.return,c=c.sibling}n.stateNode=t;t:switch(Pe(t,a,l),a){case"button":case"input":case"select":case"textarea":t=!!l.autoFocus;break t;case"img":t=!0;break t;default:t=!1}t&&Oi(n)}}return ee(n),n.flags&=-16777217,null;case 6:if(t&&n.stateNode!=null)t.memoizedProps!==l&&Oi(n);else{if(typeof l!="string"&&n.stateNode===null)throw Error(s(166));if(t=_t.current,rl(n)){if(t=n.stateNode,a=n.memoizedProps,l=null,c=Ze,c!==null)switch(c.tag){case 27:case 5:l=c.memoizedProps}t[_e]=n,t=!!(t.nodeValue===a||l!==null&&l.suppressHydrationWarning===!0||Xp(t.nodeValue,a)),t||rr(n)}else t=Cu(t).createTextNode(l),t[_e]=n,n.stateNode=t}return ee(n),null;case 13:if(l=n.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(c=rl(n),l!==null&&l.dehydrated!==null){if(t===null){if(!c)throw Error(s(318));if(c=n.memoizedState,c=c!==null?c.dehydrated:null,!c)throw Error(s(317));c[_e]=n}else sl(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;ee(n),c=!1}else c=xm(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=c),c=!0;if(!c)return n.flags&256?(Ii(n),n):(Ii(n),null)}if(Ii(n),(n.flags&128)!==0)return n.lanes=a,n;if(a=l!==null,t=t!==null&&t.memoizedState!==null,a){l=n.child,c=null,l.alternate!==null&&l.alternate.memoizedState!==null&&l.alternate.memoizedState.cachePool!==null&&(c=l.alternate.memoizedState.cachePool.pool);var h=null;l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(h=l.memoizedState.cachePool.pool),h!==c&&(l.flags|=2048)}return a!==t&&a&&(n.child.flags|=8192),mu(n,n.updateQueue),ee(n),null;case 4:return kn(),t===null&&ph(n.stateNode.containerInfo),ee(n),null;case 10:return Ci(n.type),ee(n),null;case 19:if(nt(Ae),c=n.memoizedState,c===null)return ee(n),null;if(l=(n.flags&128)!==0,h=c.rendering,h===null)if(l)Al(c,!1);else{if(se!==0||t!==null&&(t.flags&128)!==0)for(t=n.child;t!==null;){if(h=uu(t),h!==null){for(n.flags|=128,Al(c,!1),t=h.updateQueue,n.updateQueue=t,mu(n,t),n.subtreeFlags=0,t=a,a=n.child;a!==null;)Vm(a,t),a=a.sibling;return W(Ae,Ae.current&1|2),n.child}t=t.sibling}c.tail!==null&&pn()>yu&&(n.flags|=128,l=!0,Al(c,!1),n.lanes=4194304)}else{if(!l)if(t=uu(h),t!==null){if(n.flags|=128,l=!0,t=t.updateQueue,n.updateQueue=t,mu(n,t),Al(c,!0),c.tail===null&&c.tailMode==="hidden"&&!h.alternate&&!zt)return ee(n),null}else 2*pn()-c.renderingStartTime>yu&&a!==536870912&&(n.flags|=128,l=!0,Al(c,!1),n.lanes=4194304);c.isBackwards?(h.sibling=n.child,n.child=h):(t=c.last,t!==null?t.sibling=h:n.child=h,c.last=h)}return c.tail!==null?(n=c.tail,c.rendering=n,c.tail=n.sibling,c.renderingStartTime=pn(),n.sibling=null,t=Ae.current,W(Ae,l?t&1|2:t&1),n):(ee(n),null);case 22:case 23:return Ii(n),_f(),l=n.memoizedState!==null,t!==null?t.memoizedState!==null!==l&&(n.flags|=8192):l&&(n.flags|=8192),l?(a&536870912)!==0&&(n.flags&128)===0&&(ee(n),n.subtreeFlags&6&&(n.flags|=8192)):ee(n),a=n.updateQueue,a!==null&&mu(n,a.retryQueue),a=null,t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(a=t.memoizedState.cachePool.pool),l=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(l=n.memoizedState.cachePool.pool),l!==a&&(n.flags|=2048),t!==null&&nt(or),null;case 24:return a=null,t!==null&&(a=t.memoizedState.cache),n.memoizedState.cache!==a&&(n.flags|=2048),Ci(Te),ee(n),null;case 25:return null;case 30:return null}throw Error(s(156,n.tag))}function BT(t,n){switch(af(n),n.tag){case 1:return t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 3:return Ci(Te),kn(),t=n.flags,(t&65536)!==0&&(t&128)===0?(n.flags=t&-65537|128,n):null;case 26:case 27:case 5:return ci(n),null;case 13:if(Ii(n),t=n.memoizedState,t!==null&&t.dehydrated!==null){if(n.alternate===null)throw Error(s(340));sl()}return t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 19:return nt(Ae),null;case 4:return kn(),null;case 10:return Ci(n.type),null;case 22:case 23:return Ii(n),_f(),t!==null&&nt(or),t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 24:return Ci(Te),null;case 25:return null;default:return null}}function ip(t,n){switch(af(n),n.tag){case 3:Ci(Te),kn();break;case 26:case 27:case 5:ci(n);break;case 4:kn();break;case 13:Ii(n);break;case 19:nt(Ae);break;case 10:Ci(n.type);break;case 22:case 23:Ii(n),_f(),t!==null&&nt(or);break;case 24:Ci(Te)}}function Sl(t,n){try{var a=n.updateQueue,l=a!==null?a.lastEffect:null;if(l!==null){var c=l.next;a=c;do{if((a.tag&t)===t){l=void 0;var h=a.create,y=a.inst;l=h(),y.destroy=l}a=a.next}while(a!==c)}}catch(E){Kt(n,n.return,E)}}function ea(t,n,a){try{var l=n.updateQueue,c=l!==null?l.lastEffect:null;if(c!==null){var h=c.next;l=h;do{if((l.tag&t)===t){var y=l.inst,E=y.destroy;if(E!==void 0){y.destroy=void 0,c=n;var b=a,z=E;try{z()}catch(H){Kt(c,b,H)}}}l=l.next}while(l!==h)}}catch(H){Kt(n,n.return,H)}}function ap(t){var n=t.updateQueue;if(n!==null){var a=t.stateNode;try{Fm(n,a)}catch(l){Kt(t,t.return,l)}}}function rp(t,n,a){a.props=cr(t.type,t.memoizedProps),a.state=t.memoizedState;try{a.componentWillUnmount()}catch(l){Kt(t,n,l)}}function bl(t,n){try{var a=t.ref;if(a!==null){switch(t.tag){case 26:case 27:case 5:var l=t.stateNode;break;case 30:l=t.stateNode;break;default:l=t.stateNode}typeof a=="function"?t.refCleanup=a(l):a.current=l}}catch(c){Kt(t,n,c)}}function Wn(t,n){var a=t.ref,l=t.refCleanup;if(a!==null)if(typeof l=="function")try{l()}catch(c){Kt(t,n,c)}finally{t.refCleanup=null,t=t.alternate,t!=null&&(t.refCleanup=null)}else if(typeof a=="function")try{a(null)}catch(c){Kt(t,n,c)}else a.current=null}function sp(t){var n=t.type,a=t.memoizedProps,l=t.stateNode;try{t:switch(n){case"button":case"input":case"select":case"textarea":a.autoFocus&&l.focus();break t;case"img":a.src?l.src=a.src:a.srcSet&&(l.srcset=a.srcSet)}}catch(c){Kt(t,t.return,c)}}function Qf(t,n,a){try{var l=t.stateNode;l0(l,t.type,a,n),l[he]=n}catch(c){Kt(t,t.return,c)}}function lp(t){return t.tag===5||t.tag===3||t.tag===26||t.tag===27&&ua(t.type)||t.tag===4}function Yf(t){t:for(;;){for(;t.sibling===null;){if(t.return===null||lp(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.tag===27&&ua(t.type)||t.flags&2||t.child===null||t.tag===4)continue t;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function Kf(t,n,a){var l=t.tag;if(l===5||l===6)t=t.stateNode,n?(a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a).insertBefore(t,n):(n=a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a,n.appendChild(t),a=a._reactRootContainer,a!=null||n.onclick!==null||(n.onclick=wu));else if(l!==4&&(l===27&&ua(t.type)&&(a=t.stateNode,n=null),t=t.child,t!==null))for(Kf(t,n,a),t=t.sibling;t!==null;)Kf(t,n,a),t=t.sibling}function gu(t,n,a){var l=t.tag;if(l===5||l===6)t=t.stateNode,n?a.insertBefore(t,n):a.appendChild(t);else if(l!==4&&(l===27&&ua(t.type)&&(a=t.stateNode),t=t.child,t!==null))for(gu(t,n,a),t=t.sibling;t!==null;)gu(t,n,a),t=t.sibling}function op(t){var n=t.stateNode,a=t.memoizedProps;try{for(var l=t.type,c=n.attributes;c.length;)n.removeAttributeNode(c[0]);Pe(n,l,a),n[_e]=t,n[he]=a}catch(h){Kt(t,t.return,h)}}var Mi=!1,ue=!1,Xf=!1,up=typeof WeakSet=="function"?WeakSet:Set,Ie=null;function qT(t,n){if(t=t.containerInfo,vh=Nu,t=Em(t),Qc(t)){if("selectionStart"in t)var a={start:t.selectionStart,end:t.selectionEnd};else t:{a=(a=t.ownerDocument)&&a.defaultView||window;var l=a.getSelection&&a.getSelection();if(l&&l.rangeCount!==0){a=l.anchorNode;var c=l.anchorOffset,h=l.focusNode;l=l.focusOffset;try{a.nodeType,h.nodeType}catch{a=null;break t}var y=0,E=-1,b=-1,z=0,H=0,Q=t,k=null;e:for(;;){for(var B;Q!==a||c!==0&&Q.nodeType!==3||(E=y+c),Q!==h||l!==0&&Q.nodeType!==3||(b=y+l),Q.nodeType===3&&(y+=Q.nodeValue.length),(B=Q.firstChild)!==null;)k=Q,Q=B;for(;;){if(Q===t)break e;if(k===a&&++z===c&&(E=y),k===h&&++H===l&&(b=y),(B=Q.nextSibling)!==null)break;Q=k,k=Q.parentNode}Q=B}a=E===-1||b===-1?null:{start:E,end:b}}else a=null}a=a||{start:0,end:0}}else a=null;for(Eh={focusedElem:t,selectionRange:a},Nu=!1,Ie=n;Ie!==null;)if(n=Ie,t=n.child,(n.subtreeFlags&1024)!==0&&t!==null)t.return=n,Ie=t;else for(;Ie!==null;){switch(n=Ie,h=n.alternate,t=n.flags,n.tag){case 0:break;case 11:case 15:break;case 1:if((t&1024)!==0&&h!==null){t=void 0,a=n,c=h.memoizedProps,h=h.memoizedState,l=a.stateNode;try{var yt=cr(a.type,c,a.elementType===a.type);t=l.getSnapshotBeforeUpdate(yt,h),l.__reactInternalSnapshotBeforeUpdate=t}catch(mt){Kt(a,a.return,mt)}}break;case 3:if((t&1024)!==0){if(t=n.stateNode.containerInfo,a=t.nodeType,a===9)Sh(t);else if(a===1)switch(t.nodeName){case"HEAD":case"HTML":case"BODY":Sh(t);break;default:t.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((t&1024)!==0)throw Error(s(163))}if(t=n.sibling,t!==null){t.return=n.return,Ie=t;break}Ie=n.return}}function cp(t,n,a){var l=a.flags;switch(a.tag){case 0:case 11:case 15:na(t,a),l&4&&Sl(5,a);break;case 1:if(na(t,a),l&4)if(t=a.stateNode,n===null)try{t.componentDidMount()}catch(y){Kt(a,a.return,y)}else{var c=cr(a.type,n.memoizedProps);n=n.memoizedState;try{t.componentDidUpdate(c,n,t.__reactInternalSnapshotBeforeUpdate)}catch(y){Kt(a,a.return,y)}}l&64&&ap(a),l&512&&bl(a,a.return);break;case 3:if(na(t,a),l&64&&(t=a.updateQueue,t!==null)){if(n=null,a.child!==null)switch(a.child.tag){case 27:case 5:n=a.child.stateNode;break;case 1:n=a.child.stateNode}try{Fm(t,n)}catch(y){Kt(a,a.return,y)}}break;case 27:n===null&&l&4&&op(a);case 26:case 5:na(t,a),n===null&&l&4&&sp(a),l&512&&bl(a,a.return);break;case 12:na(t,a);break;case 13:na(t,a),l&4&&dp(t,a),l&64&&(t=a.memoizedState,t!==null&&(t=t.dehydrated,t!==null&&(a=ZT.bind(null,a),m0(t,a))));break;case 22:if(l=a.memoizedState!==null||Mi,!l){n=n!==null&&n.memoizedState!==null||ue,c=Mi;var h=ue;Mi=l,(ue=n)&&!h?ia(t,a,(a.subtreeFlags&8772)!==0):na(t,a),Mi=c,ue=h}break;case 30:break;default:na(t,a)}}function fp(t){var n=t.alternate;n!==null&&(t.alternate=null,fp(n)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(n=t.stateNode,n!==null&&Gi(n)),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}var te=null,Je=!1;function Ni(t,n,a){for(a=a.child;a!==null;)hp(t,n,a),a=a.sibling}function hp(t,n,a){if(qt&&typeof qt.onCommitFiberUnmount=="function")try{qt.onCommitFiberUnmount(ae,a)}catch{}switch(a.tag){case 26:ue||Wn(a,n),Ni(t,n,a),a.memoizedState?a.memoizedState.count--:a.stateNode&&(a=a.stateNode,a.parentNode.removeChild(a));break;case 27:ue||Wn(a,n);var l=te,c=Je;ua(a.type)&&(te=a.stateNode,Je=!1),Ni(t,n,a),Nl(a.stateNode),te=l,Je=c;break;case 5:ue||Wn(a,n);case 6:if(l=te,c=Je,te=null,Ni(t,n,a),te=l,Je=c,te!==null)if(Je)try{(te.nodeType===9?te.body:te.nodeName==="HTML"?te.ownerDocument.body:te).removeChild(a.stateNode)}catch(h){Kt(a,n,h)}else try{te.removeChild(a.stateNode)}catch(h){Kt(a,n,h)}break;case 18:te!==null&&(Je?(t=te,ty(t.nodeType===9?t.body:t.nodeName==="HTML"?t.ownerDocument.body:t,a.stateNode),ql(t)):ty(te,a.stateNode));break;case 4:l=te,c=Je,te=a.stateNode.containerInfo,Je=!0,Ni(t,n,a),te=l,Je=c;break;case 0:case 11:case 14:case 15:ue||ea(2,a,n),ue||ea(4,a,n),Ni(t,n,a);break;case 1:ue||(Wn(a,n),l=a.stateNode,typeof l.componentWillUnmount=="function"&&rp(a,n,l)),Ni(t,n,a);break;case 21:Ni(t,n,a);break;case 22:ue=(l=ue)||a.memoizedState!==null,Ni(t,n,a),ue=l;break;default:Ni(t,n,a)}}function dp(t,n){if(n.memoizedState===null&&(t=n.alternate,t!==null&&(t=t.memoizedState,t!==null&&(t=t.dehydrated,t!==null))))try{ql(t)}catch(a){Kt(n,n.return,a)}}function jT(t){switch(t.tag){case 13:case 19:var n=t.stateNode;return n===null&&(n=t.stateNode=new up),n;case 22:return t=t.stateNode,n=t._retryCache,n===null&&(n=t._retryCache=new up),n;default:throw Error(s(435,t.tag))}}function Zf(t,n){var a=jT(t);n.forEach(function(l){var c=$T.bind(null,t,l);a.has(l)||(a.add(l),l.then(c,c))})}function un(t,n){var a=n.deletions;if(a!==null)for(var l=0;l<a.length;l++){var c=a[l],h=t,y=n,E=y;t:for(;E!==null;){switch(E.tag){case 27:if(ua(E.type)){te=E.stateNode,Je=!1;break t}break;case 5:te=E.stateNode,Je=!1;break t;case 3:case 4:te=E.stateNode.containerInfo,Je=!0;break t}E=E.return}if(te===null)throw Error(s(160));hp(h,y,c),te=null,Je=!1,h=c.alternate,h!==null&&(h.return=null),c.return=null}if(n.subtreeFlags&13878)for(n=n.child;n!==null;)mp(n,t),n=n.sibling}var xn=null;function mp(t,n){var a=t.alternate,l=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:un(n,t),cn(t),l&4&&(ea(3,t,t.return),Sl(3,t),ea(5,t,t.return));break;case 1:un(n,t),cn(t),l&512&&(ue||a===null||Wn(a,a.return)),l&64&&Mi&&(t=t.updateQueue,t!==null&&(l=t.callbacks,l!==null&&(a=t.shared.hiddenCallbacks,t.shared.hiddenCallbacks=a===null?l:a.concat(l))));break;case 26:var c=xn;if(un(n,t),cn(t),l&512&&(ue||a===null||Wn(a,a.return)),l&4){var h=a!==null?a.memoizedState:null;if(l=t.memoizedState,a===null)if(l===null)if(t.stateNode===null){t:{l=t.type,a=t.memoizedProps,c=c.ownerDocument||c;e:switch(l){case"title":h=c.getElementsByTagName("title")[0],(!h||h[ka]||h[_e]||h.namespaceURI==="http://www.w3.org/2000/svg"||h.hasAttribute("itemprop"))&&(h=c.createElement(l),c.head.insertBefore(h,c.querySelector("head > title"))),Pe(h,l,a),h[_e]=t,le(h),l=h;break t;case"link":var y=oy("link","href",c).get(l+(a.href||""));if(y){for(var E=0;E<y.length;E++)if(h=y[E],h.getAttribute("href")===(a.href==null||a.href===""?null:a.href)&&h.getAttribute("rel")===(a.rel==null?null:a.rel)&&h.getAttribute("title")===(a.title==null?null:a.title)&&h.getAttribute("crossorigin")===(a.crossOrigin==null?null:a.crossOrigin)){y.splice(E,1);break e}}h=c.createElement(l),Pe(h,l,a),c.head.appendChild(h);break;case"meta":if(y=oy("meta","content",c).get(l+(a.content||""))){for(E=0;E<y.length;E++)if(h=y[E],h.getAttribute("content")===(a.content==null?null:""+a.content)&&h.getAttribute("name")===(a.name==null?null:a.name)&&h.getAttribute("property")===(a.property==null?null:a.property)&&h.getAttribute("http-equiv")===(a.httpEquiv==null?null:a.httpEquiv)&&h.getAttribute("charset")===(a.charSet==null?null:a.charSet)){y.splice(E,1);break e}}h=c.createElement(l),Pe(h,l,a),c.head.appendChild(h);break;default:throw Error(s(468,l))}h[_e]=t,le(h),l=h}t.stateNode=l}else uy(c,t.type,t.stateNode);else t.stateNode=ly(c,l,t.memoizedProps);else h!==l?(h===null?a.stateNode!==null&&(a=a.stateNode,a.parentNode.removeChild(a)):h.count--,l===null?uy(c,t.type,t.stateNode):ly(c,l,t.memoizedProps)):l===null&&t.stateNode!==null&&Qf(t,t.memoizedProps,a.memoizedProps)}break;case 27:un(n,t),cn(t),l&512&&(ue||a===null||Wn(a,a.return)),a!==null&&l&4&&Qf(t,t.memoizedProps,a.memoizedProps);break;case 5:if(un(n,t),cn(t),l&512&&(ue||a===null||Wn(a,a.return)),t.flags&32){c=t.stateNode;try{_n(c,"")}catch(B){Kt(t,t.return,B)}}l&4&&t.stateNode!=null&&(c=t.memoizedProps,Qf(t,c,a!==null?a.memoizedProps:c)),l&1024&&(Xf=!0);break;case 6:if(un(n,t),cn(t),l&4){if(t.stateNode===null)throw Error(s(162));l=t.memoizedProps,a=t.stateNode;try{a.nodeValue=l}catch(B){Kt(t,t.return,B)}}break;case 3:if(Vu=null,c=xn,xn=Du(n.containerInfo),un(n,t),xn=c,cn(t),l&4&&a!==null&&a.memoizedState.isDehydrated)try{ql(n.containerInfo)}catch(B){Kt(t,t.return,B)}Xf&&(Xf=!1,gp(t));break;case 4:l=xn,xn=Du(t.stateNode.containerInfo),un(n,t),cn(t),xn=l;break;case 12:un(n,t),cn(t);break;case 13:un(n,t),cn(t),t.child.flags&8192&&t.memoizedState!==null!=(a!==null&&a.memoizedState!==null)&&(nh=pn()),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,Zf(t,l)));break;case 22:c=t.memoizedState!==null;var b=a!==null&&a.memoizedState!==null,z=Mi,H=ue;if(Mi=z||c,ue=H||b,un(n,t),ue=H,Mi=z,cn(t),l&8192)t:for(n=t.stateNode,n._visibility=c?n._visibility&-2:n._visibility|1,c&&(a===null||b||Mi||ue||fr(t)),a=null,n=t;;){if(n.tag===5||n.tag===26){if(a===null){b=a=n;try{if(h=b.stateNode,c)y=h.style,typeof y.setProperty=="function"?y.setProperty("display","none","important"):y.display="none";else{E=b.stateNode;var Q=b.memoizedProps.style,k=Q!=null&&Q.hasOwnProperty("display")?Q.display:null;E.style.display=k==null||typeof k=="boolean"?"":(""+k).trim()}}catch(B){Kt(b,b.return,B)}}}else if(n.tag===6){if(a===null){b=n;try{b.stateNode.nodeValue=c?"":b.memoizedProps}catch(B){Kt(b,b.return,B)}}}else if((n.tag!==22&&n.tag!==23||n.memoizedState===null||n===t)&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break t;for(;n.sibling===null;){if(n.return===null||n.return===t)break t;a===n&&(a=null),n=n.return}a===n&&(a=null),n.sibling.return=n.return,n=n.sibling}l&4&&(l=t.updateQueue,l!==null&&(a=l.retryQueue,a!==null&&(l.retryQueue=null,Zf(t,a))));break;case 19:un(n,t),cn(t),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,Zf(t,l)));break;case 30:break;case 21:break;default:un(n,t),cn(t)}}function cn(t){var n=t.flags;if(n&2){try{for(var a,l=t.return;l!==null;){if(lp(l)){a=l;break}l=l.return}if(a==null)throw Error(s(160));switch(a.tag){case 27:var c=a.stateNode,h=Yf(t);gu(t,h,c);break;case 5:var y=a.stateNode;a.flags&32&&(_n(y,""),a.flags&=-33);var E=Yf(t);gu(t,E,y);break;case 3:case 4:var b=a.stateNode.containerInfo,z=Yf(t);Kf(t,z,b);break;default:throw Error(s(161))}}catch(H){Kt(t,t.return,H)}t.flags&=-3}n&4096&&(t.flags&=-4097)}function gp(t){if(t.subtreeFlags&1024)for(t=t.child;t!==null;){var n=t;gp(n),n.tag===5&&n.flags&1024&&n.stateNode.reset(),t=t.sibling}}function na(t,n){if(n.subtreeFlags&8772)for(n=n.child;n!==null;)cp(t,n.alternate,n),n=n.sibling}function fr(t){for(t=t.child;t!==null;){var n=t;switch(n.tag){case 0:case 11:case 14:case 15:ea(4,n,n.return),fr(n);break;case 1:Wn(n,n.return);var a=n.stateNode;typeof a.componentWillUnmount=="function"&&rp(n,n.return,a),fr(n);break;case 27:Nl(n.stateNode);case 26:case 5:Wn(n,n.return),fr(n);break;case 22:n.memoizedState===null&&fr(n);break;case 30:fr(n);break;default:fr(n)}t=t.sibling}}function ia(t,n,a){for(a=a&&(n.subtreeFlags&8772)!==0,n=n.child;n!==null;){var l=n.alternate,c=t,h=n,y=h.flags;switch(h.tag){case 0:case 11:case 15:ia(c,h,a),Sl(4,h);break;case 1:if(ia(c,h,a),l=h,c=l.stateNode,typeof c.componentDidMount=="function")try{c.componentDidMount()}catch(z){Kt(l,l.return,z)}if(l=h,c=l.updateQueue,c!==null){var E=l.stateNode;try{var b=c.shared.hiddenCallbacks;if(b!==null)for(c.shared.hiddenCallbacks=null,c=0;c<b.length;c++)Gm(b[c],E)}catch(z){Kt(l,l.return,z)}}a&&y&64&&ap(h),bl(h,h.return);break;case 27:op(h);case 26:case 5:ia(c,h,a),a&&l===null&&y&4&&sp(h),bl(h,h.return);break;case 12:ia(c,h,a);break;case 13:ia(c,h,a),a&&y&4&&dp(c,h);break;case 22:h.memoizedState===null&&ia(c,h,a),bl(h,h.return);break;case 30:break;default:ia(c,h,a)}n=n.sibling}}function $f(t,n){var a=null;t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(a=t.memoizedState.cachePool.pool),t=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(t=n.memoizedState.cachePool.pool),t!==a&&(t!=null&&t.refCount++,a!=null&&ul(a))}function Jf(t,n){t=null,n.alternate!==null&&(t=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==t&&(n.refCount++,t!=null&&ul(t))}function ti(t,n,a,l){if(n.subtreeFlags&10256)for(n=n.child;n!==null;)pp(t,n,a,l),n=n.sibling}function pp(t,n,a,l){var c=n.flags;switch(n.tag){case 0:case 11:case 15:ti(t,n,a,l),c&2048&&Sl(9,n);break;case 1:ti(t,n,a,l);break;case 3:ti(t,n,a,l),c&2048&&(t=null,n.alternate!==null&&(t=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==t&&(n.refCount++,t!=null&&ul(t)));break;case 12:if(c&2048){ti(t,n,a,l),t=n.stateNode;try{var h=n.memoizedProps,y=h.id,E=h.onPostCommit;typeof E=="function"&&E(y,n.alternate===null?"mount":"update",t.passiveEffectDuration,-0)}catch(b){Kt(n,n.return,b)}}else ti(t,n,a,l);break;case 13:ti(t,n,a,l);break;case 23:break;case 22:h=n.stateNode,y=n.alternate,n.memoizedState!==null?h._visibility&2?ti(t,n,a,l):Rl(t,n):h._visibility&2?ti(t,n,a,l):(h._visibility|=2,rs(t,n,a,l,(n.subtreeFlags&10256)!==0)),c&2048&&$f(y,n);break;case 24:ti(t,n,a,l),c&2048&&Jf(n.alternate,n);break;default:ti(t,n,a,l)}}function rs(t,n,a,l,c){for(c=c&&(n.subtreeFlags&10256)!==0,n=n.child;n!==null;){var h=t,y=n,E=a,b=l,z=y.flags;switch(y.tag){case 0:case 11:case 15:rs(h,y,E,b,c),Sl(8,y);break;case 23:break;case 22:var H=y.stateNode;y.memoizedState!==null?H._visibility&2?rs(h,y,E,b,c):Rl(h,y):(H._visibility|=2,rs(h,y,E,b,c)),c&&z&2048&&$f(y.alternate,y);break;case 24:rs(h,y,E,b,c),c&&z&2048&&Jf(y.alternate,y);break;default:rs(h,y,E,b,c)}n=n.sibling}}function Rl(t,n){if(n.subtreeFlags&10256)for(n=n.child;n!==null;){var a=t,l=n,c=l.flags;switch(l.tag){case 22:Rl(a,l),c&2048&&$f(l.alternate,l);break;case 24:Rl(a,l),c&2048&&Jf(l.alternate,l);break;default:Rl(a,l)}n=n.sibling}}var wl=8192;function ss(t){if(t.subtreeFlags&wl)for(t=t.child;t!==null;)yp(t),t=t.sibling}function yp(t){switch(t.tag){case 26:ss(t),t.flags&wl&&t.memoizedState!==null&&C0(xn,t.memoizedState,t.memoizedProps);break;case 5:ss(t);break;case 3:case 4:var n=xn;xn=Du(t.stateNode.containerInfo),ss(t),xn=n;break;case 22:t.memoizedState===null&&(n=t.alternate,n!==null&&n.memoizedState!==null?(n=wl,wl=16777216,ss(t),wl=n):ss(t));break;default:ss(t)}}function _p(t){var n=t.alternate;if(n!==null&&(t=n.child,t!==null)){n.child=null;do n=t.sibling,t.sibling=null,t=n;while(t!==null)}}function Cl(t){var n=t.deletions;if((t.flags&16)!==0){if(n!==null)for(var a=0;a<n.length;a++){var l=n[a];Ie=l,Ep(l,t)}_p(t)}if(t.subtreeFlags&10256)for(t=t.child;t!==null;)vp(t),t=t.sibling}function vp(t){switch(t.tag){case 0:case 11:case 15:Cl(t),t.flags&2048&&ea(9,t,t.return);break;case 3:Cl(t);break;case 12:Cl(t);break;case 22:var n=t.stateNode;t.memoizedState!==null&&n._visibility&2&&(t.return===null||t.return.tag!==13)?(n._visibility&=-3,pu(t)):Cl(t);break;default:Cl(t)}}function pu(t){var n=t.deletions;if((t.flags&16)!==0){if(n!==null)for(var a=0;a<n.length;a++){var l=n[a];Ie=l,Ep(l,t)}_p(t)}for(t=t.child;t!==null;){switch(n=t,n.tag){case 0:case 11:case 15:ea(8,n,n.return),pu(n);break;case 22:a=n.stateNode,a._visibility&2&&(a._visibility&=-3,pu(n));break;default:pu(n)}t=t.sibling}}function Ep(t,n){for(;Ie!==null;){var a=Ie;switch(a.tag){case 0:case 11:case 15:ea(8,a,n);break;case 23:case 22:if(a.memoizedState!==null&&a.memoizedState.cachePool!==null){var l=a.memoizedState.cachePool.pool;l!=null&&l.refCount++}break;case 24:ul(a.memoizedState.cache)}if(l=a.child,l!==null)l.return=a,Ie=l;else t:for(a=t;Ie!==null;){l=Ie;var c=l.sibling,h=l.return;if(fp(l),l===a){Ie=null;break t}if(c!==null){c.return=h,Ie=c;break t}Ie=h}}}var HT={getCacheForType:function(t){var n=je(Te),a=n.data.get(t);return a===void 0&&(a=t(),n.data.set(t,a)),a}},GT=typeof WeakMap=="function"?WeakMap:Map,jt=0,Zt=null,wt=null,Mt=0,Ht=0,fn=null,aa=!1,ls=!1,Wf=!1,xi=0,se=0,ra=0,hr=0,th=0,Cn=0,os=0,Dl=null,We=null,eh=!1,nh=0,yu=1/0,_u=null,sa=null,Le=0,la=null,us=null,cs=0,ih=0,ah=null,Tp=null,Il=0,rh=null;function hn(){if((jt&2)!==0&&Mt!==0)return Mt&-Mt;if(j.T!==null){var t=$r;return t!==0?t:hh()}return ji()}function Ap(){Cn===0&&(Cn=(Mt&536870912)===0||zt?zs():536870912);var t=wn.current;return t!==null&&(t.flags|=32),Cn}function dn(t,n,a){(t===Zt&&(Ht===2||Ht===9)||t.cancelPendingCommit!==null)&&(fs(t,0),oa(t,Mt,Cn,!1)),hi(t,a),((jt&2)===0||t!==Zt)&&(t===Zt&&((jt&2)===0&&(hr|=a),se===4&&oa(t,Mt,Cn,!1)),ei(t))}function Sp(t,n,a){if((jt&6)!==0)throw Error(s(327));var l=!a&&(n&124)===0&&(n&t.expiredLanes)===0||za(t,n),c=l?YT(t,n):oh(t,n,!0),h=l;do{if(c===0){ls&&!l&&oa(t,n,0,!1);break}else{if(a=t.current.alternate,h&&!FT(a)){c=oh(t,n,!1),h=!1;continue}if(c===2){if(h=n,t.errorRecoveryDisabledLanes&h)var y=0;else y=t.pendingLanes&-536870913,y=y!==0?y:y&536870912?536870912:0;if(y!==0){n=y;t:{var E=t;c=Dl;var b=E.current.memoizedState.isDehydrated;if(b&&(fs(E,y).flags|=256),y=oh(E,y,!1),y!==2){if(Wf&&!b){E.errorRecoveryDisabledLanes|=h,hr|=h,c=4;break t}h=We,We=c,h!==null&&(We===null?We=h:We.push.apply(We,h))}c=y}if(h=!1,c!==2)continue}}if(c===1){fs(t,0),oa(t,n,0,!0);break}t:{switch(l=t,h=c,h){case 0:case 1:throw Error(s(345));case 4:if((n&4194048)!==n)break;case 6:oa(l,n,Cn,!aa);break t;case 2:We=null;break;case 3:case 5:break;default:throw Error(s(329))}if((n&62914560)===n&&(c=nh+300-pn(),10<c)){if(oa(l,n,Cn,!aa),Dr(l,0,!0)!==0)break t;l.timeoutHandle=Jp(bp.bind(null,l,a,We,_u,eh,n,Cn,hr,os,aa,h,2,-0,0),c);break t}bp(l,a,We,_u,eh,n,Cn,hr,os,aa,h,0,-0,0)}}break}while(!0);ei(t)}function bp(t,n,a,l,c,h,y,E,b,z,H,Q,k,B){if(t.timeoutHandle=-1,Q=n.subtreeFlags,(Q&8192||(Q&16785408)===16785408)&&(Ll={stylesheets:null,count:0,unsuspend:w0},yp(n),Q=D0(),Q!==null)){t.cancelPendingCommit=Q(Op.bind(null,t,n,h,a,l,c,y,E,b,H,1,k,B)),oa(t,h,y,!z);return}Op(t,n,h,a,l,c,y,E,b)}function FT(t){for(var n=t;;){var a=n.tag;if((a===0||a===11||a===15)&&n.flags&16384&&(a=n.updateQueue,a!==null&&(a=a.stores,a!==null)))for(var l=0;l<a.length;l++){var c=a[l],h=c.getSnapshot;c=c.value;try{if(!ln(h(),c))return!1}catch{return!1}}if(a=n.child,n.subtreeFlags&16384&&a!==null)a.return=n,n=a;else{if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return!0;n=n.return}n.sibling.return=n.return,n=n.sibling}}return!0}function oa(t,n,a,l){n&=~th,n&=~hr,t.suspendedLanes|=n,t.pingedLanes&=~n,l&&(t.warmLanes|=n),l=t.expirationTimes;for(var c=n;0<c;){var h=31-qe(c),y=1<<h;l[h]=-1,c&=~y}a!==0&&Bn(t,a,n)}function vu(){return(jt&6)===0?(Vl(0),!1):!0}function sh(){if(wt!==null){if(Ht===0)var t=wt.return;else t=wt,wi=sr=null,Sf(t),is=null,El=0,t=wt;for(;t!==null;)ip(t.alternate,t),t=t.return;wt=null}}function fs(t,n){var a=t.timeoutHandle;a!==-1&&(t.timeoutHandle=-1,u0(a)),a=t.cancelPendingCommit,a!==null&&(t.cancelPendingCommit=null,a()),sh(),Zt=t,wt=a=Si(t.current,null),Mt=n,Ht=0,fn=null,aa=!1,ls=za(t,n),Wf=!1,os=Cn=th=hr=ra=se=0,We=Dl=null,eh=!1,(n&8)!==0&&(n|=n&32);var l=t.entangledLanes;if(l!==0)for(t=t.entanglements,l&=n;0<l;){var c=31-qe(l),h=1<<c;n|=t[c],l&=~h}return xi=n,qo(),a}function Rp(t,n){At=null,j.H=su,n===fl||n===Zo?(n=jm(),Ht=3):n===km?(n=jm(),Ht=4):Ht=n===Hg?8:n!==null&&typeof n=="object"&&typeof n.then=="function"?6:1,fn=n,wt===null&&(se=1,fu(t,An(n,t.current)))}function wp(){var t=j.H;return j.H=su,t===null?su:t}function Cp(){var t=j.A;return j.A=HT,t}function lh(){se=4,aa||(Mt&4194048)!==Mt&&wn.current!==null||(ls=!0),(ra&134217727)===0&&(hr&134217727)===0||Zt===null||oa(Zt,Mt,Cn,!1)}function oh(t,n,a){var l=jt;jt|=2;var c=wp(),h=Cp();(Zt!==t||Mt!==n)&&(_u=null,fs(t,n)),n=!1;var y=se;t:do try{if(Ht!==0&&wt!==null){var E=wt,b=fn;switch(Ht){case 8:sh(),y=6;break t;case 3:case 2:case 9:case 6:wn.current===null&&(n=!0);var z=Ht;if(Ht=0,fn=null,hs(t,E,b,z),a&&ls){y=0;break t}break;default:z=Ht,Ht=0,fn=null,hs(t,E,b,z)}}QT(),y=se;break}catch(H){Rp(t,H)}while(!0);return n&&t.shellSuspendCounter++,wi=sr=null,jt=l,j.H=c,j.A=h,wt===null&&(Zt=null,Mt=0,qo()),y}function QT(){for(;wt!==null;)Dp(wt)}function YT(t,n){var a=jt;jt|=2;var l=wp(),c=Cp();Zt!==t||Mt!==n?(_u=null,yu=pn()+500,fs(t,n)):ls=za(t,n);t:do try{if(Ht!==0&&wt!==null){n=wt;var h=fn;e:switch(Ht){case 1:Ht=0,fn=null,hs(t,n,h,1);break;case 2:case 9:if(Bm(h)){Ht=0,fn=null,Ip(n);break}n=function(){Ht!==2&&Ht!==9||Zt!==t||(Ht=7),ei(t)},h.then(n,n);break t;case 3:Ht=7;break t;case 4:Ht=5;break t;case 7:Bm(h)?(Ht=0,fn=null,Ip(n)):(Ht=0,fn=null,hs(t,n,h,7));break;case 5:var y=null;switch(wt.tag){case 26:y=wt.memoizedState;case 5:case 27:var E=wt;if(!y||cy(y)){Ht=0,fn=null;var b=E.sibling;if(b!==null)wt=b;else{var z=E.return;z!==null?(wt=z,Eu(z)):wt=null}break e}}Ht=0,fn=null,hs(t,n,h,5);break;case 6:Ht=0,fn=null,hs(t,n,h,6);break;case 8:sh(),se=6;break t;default:throw Error(s(462))}}KT();break}catch(H){Rp(t,H)}while(!0);return wi=sr=null,j.H=l,j.A=c,jt=a,wt!==null?0:(Zt=null,Mt=0,qo(),se)}function KT(){for(;wt!==null&&!xs();)Dp(wt)}function Dp(t){var n=ep(t.alternate,t,xi);t.memoizedProps=t.pendingProps,n===null?Eu(t):wt=n}function Ip(t){var n=t,a=n.alternate;switch(n.tag){case 15:case 0:n=Xg(a,n,n.pendingProps,n.type,void 0,Mt);break;case 11:n=Xg(a,n,n.pendingProps,n.type.render,n.ref,Mt);break;case 5:Sf(n);default:ip(a,n),n=wt=Vm(n,xi),n=ep(a,n,xi)}t.memoizedProps=t.pendingProps,n===null?Eu(t):wt=n}function hs(t,n,a,l){wi=sr=null,Sf(n),is=null,El=0;var c=n.return;try{if(PT(t,c,n,a,Mt)){se=1,fu(t,An(a,t.current)),wt=null;return}}catch(h){if(c!==null)throw wt=c,h;se=1,fu(t,An(a,t.current)),wt=null;return}n.flags&32768?(zt||l===1?t=!0:ls||(Mt&536870912)!==0?t=!1:(aa=t=!0,(l===2||l===9||l===3||l===6)&&(l=wn.current,l!==null&&l.tag===13&&(l.flags|=16384))),Vp(n,t)):Eu(n)}function Eu(t){var n=t;do{if((n.flags&32768)!==0){Vp(n,aa);return}t=n.return;var a=kT(n.alternate,n,xi);if(a!==null){wt=a;return}if(n=n.sibling,n!==null){wt=n;return}wt=n=t}while(n!==null);se===0&&(se=5)}function Vp(t,n){do{var a=BT(t.alternate,t);if(a!==null){a.flags&=32767,wt=a;return}if(a=t.return,a!==null&&(a.flags|=32768,a.subtreeFlags=0,a.deletions=null),!n&&(t=t.sibling,t!==null)){wt=t;return}wt=t=a}while(t!==null);se=6,wt=null}function Op(t,n,a,l,c,h,y,E,b){t.cancelPendingCommit=null;do Tu();while(Le!==0);if((jt&6)!==0)throw Error(s(327));if(n!==null){if(n===t.current)throw Error(s(177));if(h=n.lanes|n.childLanes,h|=$c,Bs(t,a,h,y,E,b),t===Zt&&(wt=Zt=null,Mt=0),us=n,la=t,cs=a,ih=h,ah=c,Tp=l,(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?(t.callbackNode=null,t.callbackPriority=0,JT(xa,function(){return Lp(),null})):(t.callbackNode=null,t.callbackPriority=0),l=(n.flags&13878)!==0,(n.subtreeFlags&13878)!==0||l){l=j.T,j.T=null,c=et.p,et.p=2,y=jt,jt|=4;try{qT(t,n,a)}finally{jt=y,et.p=c,j.T=l}}Le=1,Mp(),Np(),xp()}}function Mp(){if(Le===1){Le=0;var t=la,n=us,a=(n.flags&13878)!==0;if((n.subtreeFlags&13878)!==0||a){a=j.T,j.T=null;var l=et.p;et.p=2;var c=jt;jt|=4;try{mp(n,t);var h=Eh,y=Em(t.containerInfo),E=h.focusedElem,b=h.selectionRange;if(y!==E&&E&&E.ownerDocument&&vm(E.ownerDocument.documentElement,E)){if(b!==null&&Qc(E)){var z=b.start,H=b.end;if(H===void 0&&(H=z),"selectionStart"in E)E.selectionStart=z,E.selectionEnd=Math.min(H,E.value.length);else{var Q=E.ownerDocument||document,k=Q&&Q.defaultView||window;if(k.getSelection){var B=k.getSelection(),yt=E.textContent.length,mt=Math.min(b.start,yt),Yt=b.end===void 0?mt:Math.min(b.end,yt);!B.extend&&mt>Yt&&(y=Yt,Yt=mt,mt=y);var x=_m(E,mt),D=_m(E,Yt);if(x&&D&&(B.rangeCount!==1||B.anchorNode!==x.node||B.anchorOffset!==x.offset||B.focusNode!==D.node||B.focusOffset!==D.offset)){var P=Q.createRange();P.setStart(x.node,x.offset),B.removeAllRanges(),mt>Yt?(B.addRange(P),B.extend(D.node,D.offset)):(P.setEnd(D.node,D.offset),B.addRange(P))}}}}for(Q=[],B=E;B=B.parentNode;)B.nodeType===1&&Q.push({element:B,left:B.scrollLeft,top:B.scrollTop});for(typeof E.focus=="function"&&E.focus(),E=0;E<Q.length;E++){var F=Q[E];F.element.scrollLeft=F.left,F.element.scrollTop=F.top}}Nu=!!vh,Eh=vh=null}finally{jt=c,et.p=l,j.T=a}}t.current=n,Le=2}}function Np(){if(Le===2){Le=0;var t=la,n=us,a=(n.flags&8772)!==0;if((n.subtreeFlags&8772)!==0||a){a=j.T,j.T=null;var l=et.p;et.p=2;var c=jt;jt|=4;try{cp(t,n.alternate,n)}finally{jt=c,et.p=l,j.T=a}}Le=3}}function xp(){if(Le===4||Le===3){Le=0,po();var t=la,n=us,a=cs,l=Tp;(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?Le=5:(Le=0,us=la=null,Up(t,t.pendingLanes));var c=t.pendingLanes;if(c===0&&(sa=null),Ir(a),n=n.stateNode,qt&&typeof qt.onCommitFiberRoot=="function")try{qt.onCommitFiberRoot(ae,n,void 0,(n.current.flags&128)===128)}catch{}if(l!==null){n=j.T,c=et.p,et.p=2,j.T=null;try{for(var h=t.onRecoverableError,y=0;y<l.length;y++){var E=l[y];h(E.value,{componentStack:E.stack})}}finally{j.T=n,et.p=c}}(cs&3)!==0&&Tu(),ei(t),c=t.pendingLanes,(a&4194090)!==0&&(c&42)!==0?t===rh?Il++:(Il=0,rh=t):Il=0,Vl(0)}}function Up(t,n){(t.pooledCacheLanes&=n)===0&&(n=t.pooledCache,n!=null&&(t.pooledCache=null,ul(n)))}function Tu(t){return Mp(),Np(),xp(),Lp()}function Lp(){if(Le!==5)return!1;var t=la,n=ih;ih=0;var a=Ir(cs),l=j.T,c=et.p;try{et.p=32>a?32:a,j.T=null,a=ah,ah=null;var h=la,y=cs;if(Le=0,us=la=null,cs=0,(jt&6)!==0)throw Error(s(331));var E=jt;if(jt|=4,vp(h.current),pp(h,h.current,y,a),jt=E,Vl(0,!1),qt&&typeof qt.onPostCommitFiberRoot=="function")try{qt.onPostCommitFiberRoot(ae,h)}catch{}return!0}finally{et.p=c,j.T=l,Up(t,n)}}function Pp(t,n,a){n=An(a,n),n=Pf(t.stateNode,n,2),t=$i(t,n,2),t!==null&&(hi(t,2),ei(t))}function Kt(t,n,a){if(t.tag===3)Pp(t,t,a);else for(;n!==null;){if(n.tag===3){Pp(n,t,a);break}else if(n.tag===1){var l=n.stateNode;if(typeof n.type.getDerivedStateFromError=="function"||typeof l.componentDidCatch=="function"&&(sa===null||!sa.has(l))){t=An(a,t),a=qg(2),l=$i(n,a,2),l!==null&&(jg(a,l,n,t),hi(l,2),ei(l));break}}n=n.return}}function uh(t,n,a){var l=t.pingCache;if(l===null){l=t.pingCache=new GT;var c=new Set;l.set(n,c)}else c=l.get(n),c===void 0&&(c=new Set,l.set(n,c));c.has(a)||(Wf=!0,c.add(a),t=XT.bind(null,t,n,a),n.then(t,t))}function XT(t,n,a){var l=t.pingCache;l!==null&&l.delete(n),t.pingedLanes|=t.suspendedLanes&a,t.warmLanes&=~a,Zt===t&&(Mt&a)===a&&(se===4||se===3&&(Mt&62914560)===Mt&&300>pn()-nh?(jt&2)===0&&fs(t,0):th|=a,os===Mt&&(os=0)),ei(t)}function zp(t,n){n===0&&(n=ks()),t=Yr(t,n),t!==null&&(hi(t,n),ei(t))}function ZT(t){var n=t.memoizedState,a=0;n!==null&&(a=n.retryLane),zp(t,a)}function $T(t,n){var a=0;switch(t.tag){case 13:var l=t.stateNode,c=t.memoizedState;c!==null&&(a=c.retryLane);break;case 19:l=t.stateNode;break;case 22:l=t.stateNode._retryCache;break;default:throw Error(s(314))}l!==null&&l.delete(n),zp(t,a)}function JT(t,n){return Ma(t,n)}var Au=null,ds=null,ch=!1,Su=!1,fh=!1,dr=0;function ei(t){t!==ds&&t.next===null&&(ds===null?Au=ds=t:ds=ds.next=t),Su=!0,ch||(ch=!0,t0())}function Vl(t,n){if(!fh&&Su){fh=!0;do for(var a=!1,l=Au;l!==null;){if(t!==0){var c=l.pendingLanes;if(c===0)var h=0;else{var y=l.suspendedLanes,E=l.pingedLanes;h=(1<<31-qe(42|t)+1)-1,h&=c&~(y&~E),h=h&201326741?h&201326741|1:h?h|2:0}h!==0&&(a=!0,jp(l,h))}else h=Mt,h=Dr(l,l===Zt?h:0,l.cancelPendingCommit!==null||l.timeoutHandle!==-1),(h&3)===0||za(l,h)||(a=!0,jp(l,h));l=l.next}while(a);fh=!1}}function WT(){kp()}function kp(){Su=ch=!1;var t=0;dr!==0&&(o0()&&(t=dr),dr=0);for(var n=pn(),a=null,l=Au;l!==null;){var c=l.next,h=Bp(l,n);h===0?(l.next=null,a===null?Au=c:a.next=c,c===null&&(ds=a)):(a=l,(t!==0||(h&3)!==0)&&(Su=!0)),l=c}Vl(t)}function Bp(t,n){for(var a=t.suspendedLanes,l=t.pingedLanes,c=t.expirationTimes,h=t.pendingLanes&-62914561;0<h;){var y=31-qe(h),E=1<<y,b=c[y];b===-1?((E&a)===0||(E&l)!==0)&&(c[y]=Ps(E,n)):b<=n&&(t.expiredLanes|=E),h&=~E}if(n=Zt,a=Mt,a=Dr(t,t===n?a:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),l=t.callbackNode,a===0||t===n&&(Ht===2||Ht===9)||t.cancelPendingCommit!==null)return l!==null&&l!==null&&Na(l),t.callbackNode=null,t.callbackPriority=0;if((a&3)===0||za(t,a)){if(n=a&-a,n===t.callbackPriority)return n;switch(l!==null&&Na(l),Ir(a)){case 2:case 8:a=wr;break;case 32:a=xa;break;case 268435456:a=Cr;break;default:a=xa}return l=qp.bind(null,t),a=Ma(a,l),t.callbackPriority=n,t.callbackNode=a,n}return l!==null&&l!==null&&Na(l),t.callbackPriority=2,t.callbackNode=null,2}function qp(t,n){if(Le!==0&&Le!==5)return t.callbackNode=null,t.callbackPriority=0,null;var a=t.callbackNode;if(Tu()&&t.callbackNode!==a)return null;var l=Mt;return l=Dr(t,t===Zt?l:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),l===0?null:(Sp(t,l,n),Bp(t,pn()),t.callbackNode!=null&&t.callbackNode===a?qp.bind(null,t):null)}function jp(t,n){if(Tu())return null;Sp(t,n,!0)}function t0(){c0(function(){(jt&6)!==0?Ma(Us,WT):kp()})}function hh(){return dr===0&&(dr=zs()),dr}function Hp(t){return t==null||typeof t=="symbol"||typeof t=="boolean"?null:typeof t=="function"?t:Ur(""+t)}function Gp(t,n){var a=n.ownerDocument.createElement("input");return a.name=n.name,a.value=n.value,t.id&&a.setAttribute("form",t.id),n.parentNode.insertBefore(a,n),t=new FormData(t),a.parentNode.removeChild(a),t}function e0(t,n,a,l,c){if(n==="submit"&&a&&a.stateNode===c){var h=Hp((c[he]||null).action),y=l.submitter;y&&(n=(n=y[he]||null)?Hp(n.formAction):y.getAttribute("formAction"),n!==null&&(h=n,y=null));var E=new Lr("action","action",null,l,c);t.push({event:E,listeners:[{instance:null,listener:function(){if(l.defaultPrevented){if(dr!==0){var b=y?Gp(c,y):new FormData(c);Mf(a,{pending:!0,data:b,method:c.method,action:h},null,b)}}else typeof h=="function"&&(E.preventDefault(),b=y?Gp(c,y):new FormData(c),Mf(a,{pending:!0,data:b,method:c.method,action:h},h,b))},currentTarget:c}]})}}for(var dh=0;dh<Zc.length;dh++){var mh=Zc[dh],n0=mh.toLowerCase(),i0=mh[0].toUpperCase()+mh.slice(1);Nn(n0,"on"+i0)}Nn(Sm,"onAnimationEnd"),Nn(bm,"onAnimationIteration"),Nn(Rm,"onAnimationStart"),Nn("dblclick","onDoubleClick"),Nn("focusin","onFocus"),Nn("focusout","onBlur"),Nn(ET,"onTransitionRun"),Nn(TT,"onTransitionStart"),Nn(AT,"onTransitionCancel"),Nn(wm,"onTransitionEnd"),mi("onMouseEnter",["mouseout","mouseover"]),mi("onMouseLeave",["mouseout","mouseover"]),mi("onPointerEnter",["pointerout","pointerover"]),mi("onPointerLeave",["pointerout","pointerover"]),On("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),On("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),On("onBeforeInput",["compositionend","keypress","textInput","paste"]),On("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),On("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),On("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Ol="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),a0=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Ol));function Fp(t,n){n=(n&4)!==0;for(var a=0;a<t.length;a++){var l=t[a],c=l.event;l=l.listeners;t:{var h=void 0;if(n)for(var y=l.length-1;0<=y;y--){var E=l[y],b=E.instance,z=E.currentTarget;if(E=E.listener,b!==h&&c.isPropagationStopped())break t;h=E,c.currentTarget=z;try{h(c)}catch(H){cu(H)}c.currentTarget=null,h=b}else for(y=0;y<l.length;y++){if(E=l[y],b=E.instance,z=E.currentTarget,E=E.listener,b!==h&&c.isPropagationStopped())break t;h=E,c.currentTarget=z;try{h(c)}catch(H){cu(H)}c.currentTarget=null,h=b}}}}function Ct(t,n){var a=n[js];a===void 0&&(a=n[js]=new Set);var l=t+"__bubble";a.has(l)||(Qp(n,t,2,!1),a.add(l))}function gh(t,n,a){var l=0;n&&(l|=4),Qp(a,t,l,n)}var bu="_reactListening"+Math.random().toString(36).slice(2);function ph(t){if(!t[bu]){t[bu]=!0,Hs.forEach(function(a){a!=="selectionchange"&&(a0.has(a)||gh(a,!1,t),gh(a,!0,t))});var n=t.nodeType===9?t:t.ownerDocument;n===null||n[bu]||(n[bu]=!0,gh("selectionchange",!1,n))}}function Qp(t,n,a,l){switch(py(n)){case 2:var c=O0;break;case 8:c=M0;break;default:c=Vh}a=c.bind(null,n,a,t),c=void 0,!En||n!=="touchstart"&&n!=="touchmove"&&n!=="wheel"||(c=!0),l?c!==void 0?t.addEventListener(n,a,{capture:!0,passive:c}):t.addEventListener(n,a,!0):c!==void 0?t.addEventListener(n,a,{passive:c}):t.addEventListener(n,a,!1)}function yh(t,n,a,l,c){var h=l;if((n&1)===0&&(n&2)===0&&l!==null)t:for(;;){if(l===null)return;var y=l.tag;if(y===3||y===4){var E=l.stateNode.containerInfo;if(E===c)break;if(y===4)for(y=l.return;y!==null;){var b=y.tag;if((b===3||b===4)&&y.stateNode.containerInfo===c)return;y=y.return}for(;E!==null;){if(y=di(E),y===null)return;if(b=y.tag,b===5||b===6||b===26||b===27){l=h=y;continue t}E=E.parentNode}}l=l.return}wo(function(){var z=h,H=vn(a),Q=[];t:{var k=Cm.get(t);if(k!==void 0){var B=Lr,yt=t;switch(t){case"keypress":if(Qn(a)===0)break t;case"keydown":case"keyup":B=jr;break;case"focusin":yt="focus",B=kr;break;case"focusout":yt="blur",B=kr;break;case"beforeblur":case"afterblur":B=kr;break;case"click":if(a.button===2)break t;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":B=Tn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":B=jc;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":B=xo;break;case Sm:case bm:case Rm:B=Br;break;case wm:B=Lo;break;case"scroll":case"scrollend":B=Co;break;case"wheel":B=Hr;break;case"copy":case"cut":case"paste":B=qr;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":B=el;break;case"toggle":case"beforetoggle":B=zo}var mt=(n&4)!==0,Yt=!mt&&(t==="scroll"||t==="scrollend"),x=mt?k!==null?k+"Capture":null:k;mt=[];for(var D=z,P;D!==null;){var F=D;if(P=F.stateNode,F=F.tag,F!==5&&F!==26&&F!==27||P===null||x===null||(F=Qa(D,x),F!=null&&mt.push(Ml(D,F,P))),Yt)break;D=D.return}0<mt.length&&(k=new B(k,yt,null,a,H),Q.push({event:k,listeners:mt}))}}if((n&7)===0){t:{if(k=t==="mouseover"||t==="pointerover",B=t==="mouseout"||t==="pointerout",k&&a!==yi&&(yt=a.relatedTarget||a.fromElement)&&(di(yt)||yt[yn]))break t;if((B||k)&&(k=H.window===H?H:(k=H.ownerDocument)?k.defaultView||k.parentWindow:window,B?(yt=a.relatedTarget||a.toElement,B=z,yt=yt?di(yt):null,yt!==null&&(Yt=f(yt),mt=yt.tag,yt!==Yt||mt!==5&&mt!==27&&mt!==6)&&(yt=null)):(B=null,yt=z),B!==yt)){if(mt=Tn,F="onMouseLeave",x="onMouseEnter",D="mouse",(t==="pointerout"||t==="pointerover")&&(mt=el,F="onPointerLeave",x="onPointerEnter",D="pointer"),Yt=B==null?k:jn(B),P=yt==null?k:jn(yt),k=new mt(F,D+"leave",B,a,H),k.target=Yt,k.relatedTarget=P,F=null,di(H)===z&&(mt=new mt(x,D+"enter",yt,a,H),mt.target=P,mt.relatedTarget=Yt,F=mt),Yt=F,B&&yt)e:{for(mt=B,x=yt,D=0,P=mt;P;P=ms(P))D++;for(P=0,F=x;F;F=ms(F))P++;for(;0<D-P;)mt=ms(mt),D--;for(;0<P-D;)x=ms(x),P--;for(;D--;){if(mt===x||x!==null&&mt===x.alternate)break e;mt=ms(mt),x=ms(x)}mt=null}else mt=null;B!==null&&Yp(Q,k,B,mt,!1),yt!==null&&Yt!==null&&Yp(Q,Yt,yt,mt,!0)}}t:{if(k=z?jn(z):window,B=k.nodeName&&k.nodeName.toLowerCase(),B==="select"||B==="input"&&k.type==="file")var at=hm;else if(Ee(k))if(dm)at=yT;else{at=gT;var bt=mT}else B=k.nodeName,!B||B.toLowerCase()!=="input"||k.type!=="checkbox"&&k.type!=="radio"?z&&Ks(z.elementType)&&(at=hm):at=pT;if(at&&(at=at(t,z))){Ai(Q,at,a,H);break t}bt&&bt(t,k,z),t==="focusout"&&z&&k.type==="number"&&z.memoizedProps.value!=null&&Qi(k,"number",k.value)}switch(bt=z?jn(z):window,t){case"focusin":(Ee(bt)||bt.contentEditable==="true")&&(Gr=bt,Yc=z,al=null);break;case"focusout":al=Yc=Gr=null;break;case"mousedown":Kc=!0;break;case"contextmenu":case"mouseup":case"dragend":Kc=!1,Tm(Q,a,H);break;case"selectionchange":if(vT)break;case"keydown":case"keyup":Tm(Q,a,H)}var st;if(Xn)t:{switch(t){case"compositionstart":var gt="onCompositionStart";break t;case"compositionend":gt="onCompositionEnd";break t;case"compositionupdate":gt="onCompositionUpdate";break t}gt=void 0}else Vt?q(t,a)&&(gt="onCompositionEnd"):t==="keydown"&&a.keyCode===229&&(gt="onCompositionStart");gt&&(p&&a.locale!=="ko"&&(Vt||gt!=="onCompositionStart"?gt==="onCompositionEnd"&&Vt&&(st=Zs()):(Fn=H,Yi="value"in Fn?Fn.value:Fn.textContent,Vt=!0)),bt=Ru(z,gt),0<bt.length&&(gt=new Ws(gt,t,null,a,H),Q.push({event:gt,listeners:bt}),st?gt.data=st:(st=tt(a),st!==null&&(gt.data=st)))),(st=m?ve(t,a):Ot(t,a))&&(gt=Ru(z,"onBeforeInput"),0<gt.length&&(bt=new Ws("onBeforeInput","beforeinput",null,a,H),Q.push({event:bt,listeners:gt}),bt.data=st)),e0(Q,t,z,a,H)}Fp(Q,n)})}function Ml(t,n,a){return{instance:t,listener:n,currentTarget:a}}function Ru(t,n){for(var a=n+"Capture",l=[];t!==null;){var c=t,h=c.stateNode;if(c=c.tag,c!==5&&c!==26&&c!==27||h===null||(c=Qa(t,a),c!=null&&l.unshift(Ml(t,c,h)),c=Qa(t,n),c!=null&&l.push(Ml(t,c,h))),t.tag===3)return l;t=t.return}return[]}function ms(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5&&t.tag!==27);return t||null}function Yp(t,n,a,l,c){for(var h=n._reactName,y=[];a!==null&&a!==l;){var E=a,b=E.alternate,z=E.stateNode;if(E=E.tag,b!==null&&b===l)break;E!==5&&E!==26&&E!==27||z===null||(b=z,c?(z=Qa(a,h),z!=null&&y.unshift(Ml(a,z,b))):c||(z=Qa(a,h),z!=null&&y.push(Ml(a,z,b)))),a=a.return}y.length!==0&&t.push({event:n,listeners:y})}var r0=/\r\n?/g,s0=/\u0000|\uFFFD/g;function Kp(t){return(typeof t=="string"?t:""+t).replace(r0,`
`).replace(s0,"")}function Xp(t,n){return n=Kp(n),Kp(t)===n}function wu(){}function Qt(t,n,a,l,c,h){switch(a){case"children":typeof l=="string"?n==="body"||n==="textarea"&&l===""||_n(t,l):(typeof l=="number"||typeof l=="bigint")&&n!=="body"&&_n(t,""+l);break;case"className":Hn(t,"class",l);break;case"tabIndex":Hn(t,"tabindex",l);break;case"dir":case"role":case"viewBox":case"width":case"height":Hn(t,a,l);break;case"style":Ys(t,l,h);break;case"data":if(n!=="object"){Hn(t,"data",l);break}case"src":case"href":if(l===""&&(n!=="a"||a!=="href")){t.removeAttribute(a);break}if(l==null||typeof l=="function"||typeof l=="symbol"||typeof l=="boolean"){t.removeAttribute(a);break}l=Ur(""+l),t.setAttribute(a,l);break;case"action":case"formAction":if(typeof l=="function"){t.setAttribute(a,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof h=="function"&&(a==="formAction"?(n!=="input"&&Qt(t,n,"name",c.name,c,null),Qt(t,n,"formEncType",c.formEncType,c,null),Qt(t,n,"formMethod",c.formMethod,c,null),Qt(t,n,"formTarget",c.formTarget,c,null)):(Qt(t,n,"encType",c.encType,c,null),Qt(t,n,"method",c.method,c,null),Qt(t,n,"target",c.target,c,null)));if(l==null||typeof l=="symbol"||typeof l=="boolean"){t.removeAttribute(a);break}l=Ur(""+l),t.setAttribute(a,l);break;case"onClick":l!=null&&(t.onclick=wu);break;case"onScroll":l!=null&&Ct("scroll",t);break;case"onScrollEnd":l!=null&&Ct("scrollend",t);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(s(61));if(a=l.__html,a!=null){if(c.children!=null)throw Error(s(60));t.innerHTML=a}}break;case"multiple":t.multiple=l&&typeof l!="function"&&typeof l!="symbol";break;case"muted":t.muted=l&&typeof l!="function"&&typeof l!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(l==null||typeof l=="function"||typeof l=="boolean"||typeof l=="symbol"){t.removeAttribute("xlink:href");break}a=Ur(""+l),t.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",a);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":l!=null&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(a,""+l):t.removeAttribute(a);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":l&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(a,""):t.removeAttribute(a);break;case"capture":case"download":l===!0?t.setAttribute(a,""):l!==!1&&l!=null&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(a,l):t.removeAttribute(a);break;case"cols":case"rows":case"size":case"span":l!=null&&typeof l!="function"&&typeof l!="symbol"&&!isNaN(l)&&1<=l?t.setAttribute(a,l):t.removeAttribute(a);break;case"rowSpan":case"start":l==null||typeof l=="function"||typeof l=="symbol"||isNaN(l)?t.removeAttribute(a):t.setAttribute(a,l);break;case"popover":Ct("beforetoggle",t),Ct("toggle",t),Fi(t,"popover",l);break;case"xlinkActuate":Ne(t,"http://www.w3.org/1999/xlink","xlink:actuate",l);break;case"xlinkArcrole":Ne(t,"http://www.w3.org/1999/xlink","xlink:arcrole",l);break;case"xlinkRole":Ne(t,"http://www.w3.org/1999/xlink","xlink:role",l);break;case"xlinkShow":Ne(t,"http://www.w3.org/1999/xlink","xlink:show",l);break;case"xlinkTitle":Ne(t,"http://www.w3.org/1999/xlink","xlink:title",l);break;case"xlinkType":Ne(t,"http://www.w3.org/1999/xlink","xlink:type",l);break;case"xmlBase":Ne(t,"http://www.w3.org/XML/1998/namespace","xml:base",l);break;case"xmlLang":Ne(t,"http://www.w3.org/XML/1998/namespace","xml:lang",l);break;case"xmlSpace":Ne(t,"http://www.w3.org/XML/1998/namespace","xml:space",l);break;case"is":Fi(t,"is",l);break;case"innerText":case"textContent":break;default:(!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(a=Bc.get(a)||a,Fi(t,a,l))}}function _h(t,n,a,l,c,h){switch(a){case"style":Ys(t,l,h);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(s(61));if(a=l.__html,a!=null){if(c.children!=null)throw Error(s(60));t.innerHTML=a}}break;case"children":typeof l=="string"?_n(t,l):(typeof l=="number"||typeof l=="bigint")&&_n(t,""+l);break;case"onScroll":l!=null&&Ct("scroll",t);break;case"onScrollEnd":l!=null&&Ct("scrollend",t);break;case"onClick":l!=null&&(t.onclick=wu);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Vr.hasOwnProperty(a))t:{if(a[0]==="o"&&a[1]==="n"&&(c=a.endsWith("Capture"),n=a.slice(2,c?a.length-7:void 0),h=t[he]||null,h=h!=null?h[a]:null,typeof h=="function"&&t.removeEventListener(n,h,c),typeof l=="function")){typeof h!="function"&&h!==null&&(a in t?t[a]=null:t.hasAttribute(a)&&t.removeAttribute(a)),t.addEventListener(n,l,c);break t}a in t?t[a]=l:l===!0?t.setAttribute(a,""):Fi(t,a,l)}}}function Pe(t,n,a){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Ct("error",t),Ct("load",t);var l=!1,c=!1,h;for(h in a)if(a.hasOwnProperty(h)){var y=a[h];if(y!=null)switch(h){case"src":l=!0;break;case"srcSet":c=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(s(137,n));default:Qt(t,n,h,y,a,null)}}c&&Qt(t,n,"srcSet",a.srcSet,a,null),l&&Qt(t,n,"src",a.src,a,null);return;case"input":Ct("invalid",t);var E=h=y=c=null,b=null,z=null;for(l in a)if(a.hasOwnProperty(l)){var H=a[l];if(H!=null)switch(l){case"name":c=H;break;case"type":y=H;break;case"checked":b=H;break;case"defaultChecked":z=H;break;case"value":h=H;break;case"defaultValue":E=H;break;case"children":case"dangerouslySetInnerHTML":if(H!=null)throw Error(s(137,n));break;default:Qt(t,n,l,H,a,null)}}Ha(t,h,E,b,z,y,c,!1),xr(t);return;case"select":Ct("invalid",t),l=y=h=null;for(c in a)if(a.hasOwnProperty(c)&&(E=a[c],E!=null))switch(c){case"value":h=E;break;case"defaultValue":y=E;break;case"multiple":l=E;default:Qt(t,n,c,E,a,null)}n=h,a=y,t.multiple=!!l,n!=null?pi(t,!!l,n,!1):a!=null&&pi(t,!!l,a,!0);return;case"textarea":Ct("invalid",t),h=c=l=null;for(y in a)if(a.hasOwnProperty(y)&&(E=a[y],E!=null))switch(y){case"value":l=E;break;case"defaultValue":c=E;break;case"children":h=E;break;case"dangerouslySetInnerHTML":if(E!=null)throw Error(s(91));break;default:Qt(t,n,y,E,a,null)}Ga(t,l,c,h),xr(t);return;case"option":for(b in a)if(a.hasOwnProperty(b)&&(l=a[b],l!=null))switch(b){case"selected":t.selected=l&&typeof l!="function"&&typeof l!="symbol";break;default:Qt(t,n,b,l,a,null)}return;case"dialog":Ct("beforetoggle",t),Ct("toggle",t),Ct("cancel",t),Ct("close",t);break;case"iframe":case"object":Ct("load",t);break;case"video":case"audio":for(l=0;l<Ol.length;l++)Ct(Ol[l],t);break;case"image":Ct("error",t),Ct("load",t);break;case"details":Ct("toggle",t);break;case"embed":case"source":case"link":Ct("error",t),Ct("load",t);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(z in a)if(a.hasOwnProperty(z)&&(l=a[z],l!=null))switch(z){case"children":case"dangerouslySetInnerHTML":throw Error(s(137,n));default:Qt(t,n,z,l,a,null)}return;default:if(Ks(n)){for(H in a)a.hasOwnProperty(H)&&(l=a[H],l!==void 0&&_h(t,n,H,l,a,void 0));return}}for(E in a)a.hasOwnProperty(E)&&(l=a[E],l!=null&&Qt(t,n,E,l,a,null))}function l0(t,n,a,l){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var c=null,h=null,y=null,E=null,b=null,z=null,H=null;for(B in a){var Q=a[B];if(a.hasOwnProperty(B)&&Q!=null)switch(B){case"checked":break;case"value":break;case"defaultValue":b=Q;default:l.hasOwnProperty(B)||Qt(t,n,B,null,l,Q)}}for(var k in l){var B=l[k];if(Q=a[k],l.hasOwnProperty(k)&&(B!=null||Q!=null))switch(k){case"type":h=B;break;case"name":c=B;break;case"checked":z=B;break;case"defaultChecked":H=B;break;case"value":y=B;break;case"defaultValue":E=B;break;case"children":case"dangerouslySetInnerHTML":if(B!=null)throw Error(s(137,n));break;default:B!==Q&&Qt(t,n,k,B,l,Q)}}sn(t,y,E,b,z,H,h,c);return;case"select":B=y=E=k=null;for(h in a)if(b=a[h],a.hasOwnProperty(h)&&b!=null)switch(h){case"value":break;case"multiple":B=b;default:l.hasOwnProperty(h)||Qt(t,n,h,null,l,b)}for(c in l)if(h=l[c],b=a[c],l.hasOwnProperty(c)&&(h!=null||b!=null))switch(c){case"value":k=h;break;case"defaultValue":E=h;break;case"multiple":y=h;default:h!==b&&Qt(t,n,c,h,l,b)}n=E,a=y,l=B,k!=null?pi(t,!!a,k,!1):!!l!=!!a&&(n!=null?pi(t,!!a,n,!0):pi(t,!!a,a?[]:"",!1));return;case"textarea":B=k=null;for(E in a)if(c=a[E],a.hasOwnProperty(E)&&c!=null&&!l.hasOwnProperty(E))switch(E){case"value":break;case"children":break;default:Qt(t,n,E,null,l,c)}for(y in l)if(c=l[y],h=a[y],l.hasOwnProperty(y)&&(c!=null||h!=null))switch(y){case"value":k=c;break;case"defaultValue":B=c;break;case"children":break;case"dangerouslySetInnerHTML":if(c!=null)throw Error(s(91));break;default:c!==h&&Qt(t,n,y,c,l,h)}Gt(t,k,B);return;case"option":for(var yt in a)if(k=a[yt],a.hasOwnProperty(yt)&&k!=null&&!l.hasOwnProperty(yt))switch(yt){case"selected":t.selected=!1;break;default:Qt(t,n,yt,null,l,k)}for(b in l)if(k=l[b],B=a[b],l.hasOwnProperty(b)&&k!==B&&(k!=null||B!=null))switch(b){case"selected":t.selected=k&&typeof k!="function"&&typeof k!="symbol";break;default:Qt(t,n,b,k,l,B)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var mt in a)k=a[mt],a.hasOwnProperty(mt)&&k!=null&&!l.hasOwnProperty(mt)&&Qt(t,n,mt,null,l,k);for(z in l)if(k=l[z],B=a[z],l.hasOwnProperty(z)&&k!==B&&(k!=null||B!=null))switch(z){case"children":case"dangerouslySetInnerHTML":if(k!=null)throw Error(s(137,n));break;default:Qt(t,n,z,k,l,B)}return;default:if(Ks(n)){for(var Yt in a)k=a[Yt],a.hasOwnProperty(Yt)&&k!==void 0&&!l.hasOwnProperty(Yt)&&_h(t,n,Yt,void 0,l,k);for(H in l)k=l[H],B=a[H],!l.hasOwnProperty(H)||k===B||k===void 0&&B===void 0||_h(t,n,H,k,l,B);return}}for(var x in a)k=a[x],a.hasOwnProperty(x)&&k!=null&&!l.hasOwnProperty(x)&&Qt(t,n,x,null,l,k);for(Q in l)k=l[Q],B=a[Q],!l.hasOwnProperty(Q)||k===B||k==null&&B==null||Qt(t,n,Q,k,l,B)}var vh=null,Eh=null;function Cu(t){return t.nodeType===9?t:t.ownerDocument}function Zp(t){switch(t){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function $p(t,n){if(t===0)switch(n){case"svg":return 1;case"math":return 2;default:return 0}return t===1&&n==="foreignObject"?0:t}function Th(t,n){return t==="textarea"||t==="noscript"||typeof n.children=="string"||typeof n.children=="number"||typeof n.children=="bigint"||typeof n.dangerouslySetInnerHTML=="object"&&n.dangerouslySetInnerHTML!==null&&n.dangerouslySetInnerHTML.__html!=null}var Ah=null;function o0(){var t=window.event;return t&&t.type==="popstate"?t===Ah?!1:(Ah=t,!0):(Ah=null,!1)}var Jp=typeof setTimeout=="function"?setTimeout:void 0,u0=typeof clearTimeout=="function"?clearTimeout:void 0,Wp=typeof Promise=="function"?Promise:void 0,c0=typeof queueMicrotask=="function"?queueMicrotask:typeof Wp<"u"?function(t){return Wp.resolve(null).then(t).catch(f0)}:Jp;function f0(t){setTimeout(function(){throw t})}function ua(t){return t==="head"}function ty(t,n){var a=n,l=0,c=0;do{var h=a.nextSibling;if(t.removeChild(a),h&&h.nodeType===8)if(a=h.data,a==="/$"){if(0<l&&8>l){a=l;var y=t.ownerDocument;if(a&1&&Nl(y.documentElement),a&2&&Nl(y.body),a&4)for(a=y.head,Nl(a),y=a.firstChild;y;){var E=y.nextSibling,b=y.nodeName;y[ka]||b==="SCRIPT"||b==="STYLE"||b==="LINK"&&y.rel.toLowerCase()==="stylesheet"||a.removeChild(y),y=E}}if(c===0){t.removeChild(h),ql(n);return}c--}else a==="$"||a==="$?"||a==="$!"?c++:l=a.charCodeAt(0)-48;else l=0;a=h}while(a);ql(n)}function Sh(t){var n=t.firstChild;for(n&&n.nodeType===10&&(n=n.nextSibling);n;){var a=n;switch(n=n.nextSibling,a.nodeName){case"HTML":case"HEAD":case"BODY":Sh(a),Gi(a);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(a.rel.toLowerCase()==="stylesheet")continue}t.removeChild(a)}}function h0(t,n,a,l){for(;t.nodeType===1;){var c=a;if(t.nodeName.toLowerCase()!==n.toLowerCase()){if(!l&&(t.nodeName!=="INPUT"||t.type!=="hidden"))break}else if(l){if(!t[ka])switch(n){case"meta":if(!t.hasAttribute("itemprop"))break;return t;case"link":if(h=t.getAttribute("rel"),h==="stylesheet"&&t.hasAttribute("data-precedence"))break;if(h!==c.rel||t.getAttribute("href")!==(c.href==null||c.href===""?null:c.href)||t.getAttribute("crossorigin")!==(c.crossOrigin==null?null:c.crossOrigin)||t.getAttribute("title")!==(c.title==null?null:c.title))break;return t;case"style":if(t.hasAttribute("data-precedence"))break;return t;case"script":if(h=t.getAttribute("src"),(h!==(c.src==null?null:c.src)||t.getAttribute("type")!==(c.type==null?null:c.type)||t.getAttribute("crossorigin")!==(c.crossOrigin==null?null:c.crossOrigin))&&h&&t.hasAttribute("async")&&!t.hasAttribute("itemprop"))break;return t;default:return t}}else if(n==="input"&&t.type==="hidden"){var h=c.name==null?null:""+c.name;if(c.type==="hidden"&&t.getAttribute("name")===h)return t}else return t;if(t=Un(t.nextSibling),t===null)break}return null}function d0(t,n,a){if(n==="")return null;for(;t.nodeType!==3;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!a||(t=Un(t.nextSibling),t===null))return null;return t}function bh(t){return t.data==="$!"||t.data==="$?"&&t.ownerDocument.readyState==="complete"}function m0(t,n){var a=t.ownerDocument;if(t.data!=="$?"||a.readyState==="complete")n();else{var l=function(){n(),a.removeEventListener("DOMContentLoaded",l)};a.addEventListener("DOMContentLoaded",l),t._reactRetry=l}}function Un(t){for(;t!=null;t=t.nextSibling){var n=t.nodeType;if(n===1||n===3)break;if(n===8){if(n=t.data,n==="$"||n==="$!"||n==="$?"||n==="F!"||n==="F")break;if(n==="/$")return null}}return t}var Rh=null;function ey(t){t=t.previousSibling;for(var n=0;t;){if(t.nodeType===8){var a=t.data;if(a==="$"||a==="$!"||a==="$?"){if(n===0)return t;n--}else a==="/$"&&n++}t=t.previousSibling}return null}function ny(t,n,a){switch(n=Cu(a),t){case"html":if(t=n.documentElement,!t)throw Error(s(452));return t;case"head":if(t=n.head,!t)throw Error(s(453));return t;case"body":if(t=n.body,!t)throw Error(s(454));return t;default:throw Error(s(451))}}function Nl(t){for(var n=t.attributes;n.length;)t.removeAttributeNode(n[0]);Gi(t)}var Dn=new Map,iy=new Set;function Du(t){return typeof t.getRootNode=="function"?t.getRootNode():t.nodeType===9?t:t.ownerDocument}var Ui=et.d;et.d={f:g0,r:p0,D:y0,C:_0,L:v0,m:E0,X:A0,S:T0,M:S0};function g0(){var t=Ui.f(),n=vu();return t||n}function p0(t){var n=qn(t);n!==null&&n.tag===5&&n.type==="form"?Sg(n):Ui.r(t)}var gs=typeof document>"u"?null:document;function ay(t,n,a){var l=gs;if(l&&typeof n=="string"&&n){var c=de(n);c='link[rel="'+t+'"][href="'+c+'"]',typeof a=="string"&&(c+='[crossorigin="'+a+'"]'),iy.has(c)||(iy.add(c),t={rel:t,crossOrigin:a,href:n},l.querySelector(c)===null&&(n=l.createElement("link"),Pe(n,"link",t),le(n),l.head.appendChild(n)))}}function y0(t){Ui.D(t),ay("dns-prefetch",t,null)}function _0(t,n){Ui.C(t,n),ay("preconnect",t,n)}function v0(t,n,a){Ui.L(t,n,a);var l=gs;if(l&&t&&n){var c='link[rel="preload"][as="'+de(n)+'"]';n==="image"&&a&&a.imageSrcSet?(c+='[imagesrcset="'+de(a.imageSrcSet)+'"]',typeof a.imageSizes=="string"&&(c+='[imagesizes="'+de(a.imageSizes)+'"]')):c+='[href="'+de(t)+'"]';var h=c;switch(n){case"style":h=ps(t);break;case"script":h=ys(t)}Dn.has(h)||(t=A({rel:"preload",href:n==="image"&&a&&a.imageSrcSet?void 0:t,as:n},a),Dn.set(h,t),l.querySelector(c)!==null||n==="style"&&l.querySelector(xl(h))||n==="script"&&l.querySelector(Ul(h))||(n=l.createElement("link"),Pe(n,"link",t),le(n),l.head.appendChild(n)))}}function E0(t,n){Ui.m(t,n);var a=gs;if(a&&t){var l=n&&typeof n.as=="string"?n.as:"script",c='link[rel="modulepreload"][as="'+de(l)+'"][href="'+de(t)+'"]',h=c;switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":h=ys(t)}if(!Dn.has(h)&&(t=A({rel:"modulepreload",href:t},n),Dn.set(h,t),a.querySelector(c)===null)){switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(a.querySelector(Ul(h)))return}l=a.createElement("link"),Pe(l,"link",t),le(l),a.head.appendChild(l)}}}function T0(t,n,a){Ui.S(t,n,a);var l=gs;if(l&&t){var c=Ye(l).hoistableStyles,h=ps(t);n=n||"default";var y=c.get(h);if(!y){var E={loading:0,preload:null};if(y=l.querySelector(xl(h)))E.loading=5;else{t=A({rel:"stylesheet",href:t,"data-precedence":n},a),(a=Dn.get(h))&&wh(t,a);var b=y=l.createElement("link");le(b),Pe(b,"link",t),b._p=new Promise(function(z,H){b.onload=z,b.onerror=H}),b.addEventListener("load",function(){E.loading|=1}),b.addEventListener("error",function(){E.loading|=2}),E.loading|=4,Iu(y,n,l)}y={type:"stylesheet",instance:y,count:1,state:E},c.set(h,y)}}}function A0(t,n){Ui.X(t,n);var a=gs;if(a&&t){var l=Ye(a).hoistableScripts,c=ys(t),h=l.get(c);h||(h=a.querySelector(Ul(c)),h||(t=A({src:t,async:!0},n),(n=Dn.get(c))&&Ch(t,n),h=a.createElement("script"),le(h),Pe(h,"link",t),a.head.appendChild(h)),h={type:"script",instance:h,count:1,state:null},l.set(c,h))}}function S0(t,n){Ui.M(t,n);var a=gs;if(a&&t){var l=Ye(a).hoistableScripts,c=ys(t),h=l.get(c);h||(h=a.querySelector(Ul(c)),h||(t=A({src:t,async:!0,type:"module"},n),(n=Dn.get(c))&&Ch(t,n),h=a.createElement("script"),le(h),Pe(h,"link",t),a.head.appendChild(h)),h={type:"script",instance:h,count:1,state:null},l.set(c,h))}}function ry(t,n,a,l){var c=(c=_t.current)?Du(c):null;if(!c)throw Error(s(446));switch(t){case"meta":case"title":return null;case"style":return typeof a.precedence=="string"&&typeof a.href=="string"?(n=ps(a.href),a=Ye(c).hoistableStyles,l=a.get(n),l||(l={type:"style",instance:null,count:0,state:null},a.set(n,l)),l):{type:"void",instance:null,count:0,state:null};case"link":if(a.rel==="stylesheet"&&typeof a.href=="string"&&typeof a.precedence=="string"){t=ps(a.href);var h=Ye(c).hoistableStyles,y=h.get(t);if(y||(c=c.ownerDocument||c,y={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},h.set(t,y),(h=c.querySelector(xl(t)))&&!h._p&&(y.instance=h,y.state.loading=5),Dn.has(t)||(a={rel:"preload",as:"style",href:a.href,crossOrigin:a.crossOrigin,integrity:a.integrity,media:a.media,hrefLang:a.hrefLang,referrerPolicy:a.referrerPolicy},Dn.set(t,a),h||b0(c,t,a,y.state))),n&&l===null)throw Error(s(528,""));return y}if(n&&l!==null)throw Error(s(529,""));return null;case"script":return n=a.async,a=a.src,typeof a=="string"&&n&&typeof n!="function"&&typeof n!="symbol"?(n=ys(a),a=Ye(c).hoistableScripts,l=a.get(n),l||(l={type:"script",instance:null,count:0,state:null},a.set(n,l)),l):{type:"void",instance:null,count:0,state:null};default:throw Error(s(444,t))}}function ps(t){return'href="'+de(t)+'"'}function xl(t){return'link[rel="stylesheet"]['+t+"]"}function sy(t){return A({},t,{"data-precedence":t.precedence,precedence:null})}function b0(t,n,a,l){t.querySelector('link[rel="preload"][as="style"]['+n+"]")?l.loading=1:(n=t.createElement("link"),l.preload=n,n.addEventListener("load",function(){return l.loading|=1}),n.addEventListener("error",function(){return l.loading|=2}),Pe(n,"link",a),le(n),t.head.appendChild(n))}function ys(t){return'[src="'+de(t)+'"]'}function Ul(t){return"script[async]"+t}function ly(t,n,a){if(n.count++,n.instance===null)switch(n.type){case"style":var l=t.querySelector('style[data-href~="'+de(a.href)+'"]');if(l)return n.instance=l,le(l),l;var c=A({},a,{"data-href":a.href,"data-precedence":a.precedence,href:null,precedence:null});return l=(t.ownerDocument||t).createElement("style"),le(l),Pe(l,"style",c),Iu(l,a.precedence,t),n.instance=l;case"stylesheet":c=ps(a.href);var h=t.querySelector(xl(c));if(h)return n.state.loading|=4,n.instance=h,le(h),h;l=sy(a),(c=Dn.get(c))&&wh(l,c),h=(t.ownerDocument||t).createElement("link"),le(h);var y=h;return y._p=new Promise(function(E,b){y.onload=E,y.onerror=b}),Pe(h,"link",l),n.state.loading|=4,Iu(h,a.precedence,t),n.instance=h;case"script":return h=ys(a.src),(c=t.querySelector(Ul(h)))?(n.instance=c,le(c),c):(l=a,(c=Dn.get(h))&&(l=A({},a),Ch(l,c)),t=t.ownerDocument||t,c=t.createElement("script"),le(c),Pe(c,"link",l),t.head.appendChild(c),n.instance=c);case"void":return null;default:throw Error(s(443,n.type))}else n.type==="stylesheet"&&(n.state.loading&4)===0&&(l=n.instance,n.state.loading|=4,Iu(l,a.precedence,t));return n.instance}function Iu(t,n,a){for(var l=a.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),c=l.length?l[l.length-1]:null,h=c,y=0;y<l.length;y++){var E=l[y];if(E.dataset.precedence===n)h=E;else if(h!==c)break}h?h.parentNode.insertBefore(t,h.nextSibling):(n=a.nodeType===9?a.head:a,n.insertBefore(t,n.firstChild))}function wh(t,n){t.crossOrigin==null&&(t.crossOrigin=n.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=n.referrerPolicy),t.title==null&&(t.title=n.title)}function Ch(t,n){t.crossOrigin==null&&(t.crossOrigin=n.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=n.referrerPolicy),t.integrity==null&&(t.integrity=n.integrity)}var Vu=null;function oy(t,n,a){if(Vu===null){var l=new Map,c=Vu=new Map;c.set(a,l)}else c=Vu,l=c.get(a),l||(l=new Map,c.set(a,l));if(l.has(t))return l;for(l.set(t,null),a=a.getElementsByTagName(t),c=0;c<a.length;c++){var h=a[c];if(!(h[ka]||h[_e]||t==="link"&&h.getAttribute("rel")==="stylesheet")&&h.namespaceURI!=="http://www.w3.org/2000/svg"){var y=h.getAttribute(n)||"";y=t+y;var E=l.get(y);E?E.push(h):l.set(y,[h])}}return l}function uy(t,n,a){t=t.ownerDocument||t,t.head.insertBefore(a,n==="title"?t.querySelector("head > title"):null)}function R0(t,n,a){if(a===1||n.itemProp!=null)return!1;switch(t){case"meta":case"title":return!0;case"style":if(typeof n.precedence!="string"||typeof n.href!="string"||n.href==="")break;return!0;case"link":if(typeof n.rel!="string"||typeof n.href!="string"||n.href===""||n.onLoad||n.onError)break;switch(n.rel){case"stylesheet":return t=n.disabled,typeof n.precedence=="string"&&t==null;default:return!0}case"script":if(n.async&&typeof n.async!="function"&&typeof n.async!="symbol"&&!n.onLoad&&!n.onError&&n.src&&typeof n.src=="string")return!0}return!1}function cy(t){return!(t.type==="stylesheet"&&(t.state.loading&3)===0)}var Ll=null;function w0(){}function C0(t,n,a){if(Ll===null)throw Error(s(475));var l=Ll;if(n.type==="stylesheet"&&(typeof a.media!="string"||matchMedia(a.media).matches!==!1)&&(n.state.loading&4)===0){if(n.instance===null){var c=ps(a.href),h=t.querySelector(xl(c));if(h){t=h._p,t!==null&&typeof t=="object"&&typeof t.then=="function"&&(l.count++,l=Ou.bind(l),t.then(l,l)),n.state.loading|=4,n.instance=h,le(h);return}h=t.ownerDocument||t,a=sy(a),(c=Dn.get(c))&&wh(a,c),h=h.createElement("link"),le(h);var y=h;y._p=new Promise(function(E,b){y.onload=E,y.onerror=b}),Pe(h,"link",a),n.instance=h}l.stylesheets===null&&(l.stylesheets=new Map),l.stylesheets.set(n,t),(t=n.state.preload)&&(n.state.loading&3)===0&&(l.count++,n=Ou.bind(l),t.addEventListener("load",n),t.addEventListener("error",n))}}function D0(){if(Ll===null)throw Error(s(475));var t=Ll;return t.stylesheets&&t.count===0&&Dh(t,t.stylesheets),0<t.count?function(n){var a=setTimeout(function(){if(t.stylesheets&&Dh(t,t.stylesheets),t.unsuspend){var l=t.unsuspend;t.unsuspend=null,l()}},6e4);return t.unsuspend=n,function(){t.unsuspend=null,clearTimeout(a)}}:null}function Ou(){if(this.count--,this.count===0){if(this.stylesheets)Dh(this,this.stylesheets);else if(this.unsuspend){var t=this.unsuspend;this.unsuspend=null,t()}}}var Mu=null;function Dh(t,n){t.stylesheets=null,t.unsuspend!==null&&(t.count++,Mu=new Map,n.forEach(I0,t),Mu=null,Ou.call(t))}function I0(t,n){if(!(n.state.loading&4)){var a=Mu.get(t);if(a)var l=a.get(null);else{a=new Map,Mu.set(t,a);for(var c=t.querySelectorAll("link[data-precedence],style[data-precedence]"),h=0;h<c.length;h++){var y=c[h];(y.nodeName==="LINK"||y.getAttribute("media")!=="not all")&&(a.set(y.dataset.precedence,y),l=y)}l&&a.set(null,l)}c=n.instance,y=c.getAttribute("data-precedence"),h=a.get(y)||l,h===l&&a.set(null,c),a.set(y,c),this.count++,l=Ou.bind(this),c.addEventListener("load",l),c.addEventListener("error",l),h?h.parentNode.insertBefore(c,h.nextSibling):(t=t.nodeType===9?t.head:t,t.insertBefore(c,t.firstChild)),n.state.loading|=4}}var Pl={$$typeof:lt,Provider:null,Consumer:null,_currentValue:ut,_currentValue2:ut,_threadCount:0};function V0(t,n,a,l,c,h,y,E){this.tag=1,this.containerInfo=t,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=fi(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=fi(0),this.hiddenUpdates=fi(null),this.identifierPrefix=l,this.onUncaughtError=c,this.onCaughtError=h,this.onRecoverableError=y,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=E,this.incompleteTransitions=new Map}function fy(t,n,a,l,c,h,y,E,b,z,H,Q){return t=new V0(t,n,a,y,E,b,z,Q),n=1,h===!0&&(n|=24),h=on(3,null,null,n),t.current=h,h.stateNode=t,n=uf(),n.refCount++,t.pooledCache=n,n.refCount++,h.memoizedState={element:l,isDehydrated:a,cache:n},df(h),t}function hy(t){return t?(t=Kr,t):Kr}function dy(t,n,a,l,c,h){c=hy(c),l.context===null?l.context=c:l.pendingContext=c,l=Zi(n),l.payload={element:a},h=h===void 0?null:h,h!==null&&(l.callback=h),a=$i(t,l,n),a!==null&&(dn(a,t,n),dl(a,t,n))}function my(t,n){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var a=t.retryLane;t.retryLane=a!==0&&a<n?a:n}}function Ih(t,n){my(t,n),(t=t.alternate)&&my(t,n)}function gy(t){if(t.tag===13){var n=Yr(t,67108864);n!==null&&dn(n,t,67108864),Ih(t,67108864)}}var Nu=!0;function O0(t,n,a,l){var c=j.T;j.T=null;var h=et.p;try{et.p=2,Vh(t,n,a,l)}finally{et.p=h,j.T=c}}function M0(t,n,a,l){var c=j.T;j.T=null;var h=et.p;try{et.p=8,Vh(t,n,a,l)}finally{et.p=h,j.T=c}}function Vh(t,n,a,l){if(Nu){var c=Oh(l);if(c===null)yh(t,n,l,xu,a),yy(t,l);else if(x0(c,t,n,a,l))l.stopPropagation();else if(yy(t,l),n&4&&-1<N0.indexOf(t)){for(;c!==null;){var h=qn(c);if(h!==null)switch(h.tag){case 3:if(h=h.stateNode,h.current.memoizedState.isDehydrated){var y=Vn(h.pendingLanes);if(y!==0){var E=h;for(E.pendingLanes|=2,E.entangledLanes|=2;y;){var b=1<<31-qe(y);E.entanglements[1]|=b,y&=~b}ei(h),(jt&6)===0&&(yu=pn()+500,Vl(0))}}break;case 13:E=Yr(h,2),E!==null&&dn(E,h,2),vu(),Ih(h,2)}if(h=Oh(l),h===null&&yh(t,n,l,xu,a),h===c)break;c=h}c!==null&&l.stopPropagation()}else yh(t,n,l,null,a)}}function Oh(t){return t=vn(t),Mh(t)}var xu=null;function Mh(t){if(xu=null,t=di(t),t!==null){var n=f(t);if(n===null)t=null;else{var a=n.tag;if(a===13){if(t=d(n),t!==null)return t;t=null}else if(a===3){if(n.stateNode.current.memoizedState.isDehydrated)return n.tag===3?n.stateNode.containerInfo:null;t=null}else n!==t&&(t=null)}}return xu=t,null}function py(t){switch(t){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(xc()){case Us:return 2;case wr:return 8;case xa:case Uc:return 32;case Cr:return 268435456;default:return 32}default:return 32}}var Nh=!1,ca=null,fa=null,ha=null,zl=new Map,kl=new Map,da=[],N0="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function yy(t,n){switch(t){case"focusin":case"focusout":ca=null;break;case"dragenter":case"dragleave":fa=null;break;case"mouseover":case"mouseout":ha=null;break;case"pointerover":case"pointerout":zl.delete(n.pointerId);break;case"gotpointercapture":case"lostpointercapture":kl.delete(n.pointerId)}}function Bl(t,n,a,l,c,h){return t===null||t.nativeEvent!==h?(t={blockedOn:n,domEventName:a,eventSystemFlags:l,nativeEvent:h,targetContainers:[c]},n!==null&&(n=qn(n),n!==null&&gy(n)),t):(t.eventSystemFlags|=l,n=t.targetContainers,c!==null&&n.indexOf(c)===-1&&n.push(c),t)}function x0(t,n,a,l,c){switch(n){case"focusin":return ca=Bl(ca,t,n,a,l,c),!0;case"dragenter":return fa=Bl(fa,t,n,a,l,c),!0;case"mouseover":return ha=Bl(ha,t,n,a,l,c),!0;case"pointerover":var h=c.pointerId;return zl.set(h,Bl(zl.get(h)||null,t,n,a,l,c)),!0;case"gotpointercapture":return h=c.pointerId,kl.set(h,Bl(kl.get(h)||null,t,n,a,l,c)),!0}return!1}function _y(t){var n=di(t.target);if(n!==null){var a=f(n);if(a!==null){if(n=a.tag,n===13){if(n=d(a),n!==null){t.blockedOn=n,vo(t.priority,function(){if(a.tag===13){var l=hn();l=qi(l);var c=Yr(a,l);c!==null&&dn(c,a,l),Ih(a,l)}});return}}else if(n===3&&a.stateNode.current.memoizedState.isDehydrated){t.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Uu(t){if(t.blockedOn!==null)return!1;for(var n=t.targetContainers;0<n.length;){var a=Oh(t.nativeEvent);if(a===null){a=t.nativeEvent;var l=new a.constructor(a.type,a);yi=l,a.target.dispatchEvent(l),yi=null}else return n=qn(a),n!==null&&gy(n),t.blockedOn=a,!1;n.shift()}return!0}function vy(t,n,a){Uu(t)&&a.delete(n)}function U0(){Nh=!1,ca!==null&&Uu(ca)&&(ca=null),fa!==null&&Uu(fa)&&(fa=null),ha!==null&&Uu(ha)&&(ha=null),zl.forEach(vy),kl.forEach(vy)}function Lu(t,n){t.blockedOn===n&&(t.blockedOn=null,Nh||(Nh=!0,r.unstable_scheduleCallback(r.unstable_NormalPriority,U0)))}var Pu=null;function Ey(t){Pu!==t&&(Pu=t,r.unstable_scheduleCallback(r.unstable_NormalPriority,function(){Pu===t&&(Pu=null);for(var n=0;n<t.length;n+=3){var a=t[n],l=t[n+1],c=t[n+2];if(typeof l!="function"){if(Mh(l||a)===null)continue;break}var h=qn(a);h!==null&&(t.splice(n,3),n-=3,Mf(h,{pending:!0,data:c,method:a.method,action:l},l,c))}}))}function ql(t){function n(b){return Lu(b,t)}ca!==null&&Lu(ca,t),fa!==null&&Lu(fa,t),ha!==null&&Lu(ha,t),zl.forEach(n),kl.forEach(n);for(var a=0;a<da.length;a++){var l=da[a];l.blockedOn===t&&(l.blockedOn=null)}for(;0<da.length&&(a=da[0],a.blockedOn===null);)_y(a),a.blockedOn===null&&da.shift();if(a=(t.ownerDocument||t).$$reactFormReplay,a!=null)for(l=0;l<a.length;l+=3){var c=a[l],h=a[l+1],y=c[he]||null;if(typeof h=="function")y||Ey(a);else if(y){var E=null;if(h&&h.hasAttribute("formAction")){if(c=h,y=h[he]||null)E=y.formAction;else if(Mh(c)!==null)continue}else E=y.action;typeof E=="function"?a[l+1]=E:(a.splice(l,3),l-=3),Ey(a)}}}function xh(t){this._internalRoot=t}zu.prototype.render=xh.prototype.render=function(t){var n=this._internalRoot;if(n===null)throw Error(s(409));var a=n.current,l=hn();dy(a,l,t,n,null,null)},zu.prototype.unmount=xh.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var n=t.containerInfo;dy(t.current,2,null,t,null,null),vu(),n[yn]=null}};function zu(t){this._internalRoot=t}zu.prototype.unstable_scheduleHydration=function(t){if(t){var n=ji();t={blockedOn:null,target:t,priority:n};for(var a=0;a<da.length&&n!==0&&n<da[a].priority;a++);da.splice(a,0,t),a===0&&_y(t)}};var Ty=e.version;if(Ty!=="19.1.1")throw Error(s(527,Ty,"19.1.1"));et.findDOMNode=function(t){var n=t._reactInternals;if(n===void 0)throw typeof t.render=="function"?Error(s(188)):(t=Object.keys(t).join(","),Error(s(268,t)));return t=v(n),t=t!==null?_(t):null,t=t===null?null:t.stateNode,t};var L0={bundleType:0,version:"19.1.1",rendererPackageName:"react-dom",currentDispatcherRef:j,reconcilerVersion:"19.1.1"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var ku=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!ku.isDisabled&&ku.supportsFiber)try{ae=ku.inject(L0),qt=ku}catch{}}return Hl.createRoot=function(t,n){if(!o(t))throw Error(s(299));var a=!1,l="",c=Pg,h=zg,y=kg,E=null;return n!=null&&(n.unstable_strictMode===!0&&(a=!0),n.identifierPrefix!==void 0&&(l=n.identifierPrefix),n.onUncaughtError!==void 0&&(c=n.onUncaughtError),n.onCaughtError!==void 0&&(h=n.onCaughtError),n.onRecoverableError!==void 0&&(y=n.onRecoverableError),n.unstable_transitionCallbacks!==void 0&&(E=n.unstable_transitionCallbacks)),n=fy(t,1,!1,null,null,a,l,c,h,y,E,null),t[yn]=n.current,ph(t),new xh(n)},Hl.hydrateRoot=function(t,n,a){if(!o(t))throw Error(s(299));var l=!1,c="",h=Pg,y=zg,E=kg,b=null,z=null;return a!=null&&(a.unstable_strictMode===!0&&(l=!0),a.identifierPrefix!==void 0&&(c=a.identifierPrefix),a.onUncaughtError!==void 0&&(h=a.onUncaughtError),a.onCaughtError!==void 0&&(y=a.onCaughtError),a.onRecoverableError!==void 0&&(E=a.onRecoverableError),a.unstable_transitionCallbacks!==void 0&&(b=a.unstable_transitionCallbacks),a.formState!==void 0&&(z=a.formState)),n=fy(t,1,!0,n,a??null,l,c,h,y,E,b,z),n.context=hy(null),a=n.current,l=hn(),l=qi(l),c=Zi(l),c.callback=null,$i(a,c,l),a=l,n.current.lanes=a,hi(n,a),ei(n),t[yn]=n.current,ph(t),new zu(n)},Hl.version="19.1.1",Hl}var Oy;function Q0(){if(Oy)return Ph.exports;Oy=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(e){console.error(e)}}return r(),Ph.exports=F0(),Ph.exports}var Y0=Q0();const K0={iceServers:[{urls:["stun:stun1.l.google.com:19302","stun:stun2.l.google.com:19302"]}],iceCandidatePoolSize:10};function X0(){const r=new RTCPeerConnection(K0);return r.oniceconnectionstatechange=()=>{console.log("ICE state:",r.iceConnectionState)},r}async function Z0(){return await navigator.mediaDevices.getUserMedia({video:!0,audio:!0})}function $0(r,e){e.getTracks().forEach(i=>r.addTrack(i,e))}function J0(r){const e=new MediaStream;return r.ontrack=i=>{i.streams[0].getTracks().forEach(s=>e.addTrack(s))},e}const W0=()=>{};var My={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const J_=function(r){const e=[];let i=0;for(let s=0;s<r.length;s++){let o=r.charCodeAt(s);o<128?e[i++]=o:o<2048?(e[i++]=o>>6|192,e[i++]=o&63|128):(o&64512)===55296&&s+1<r.length&&(r.charCodeAt(s+1)&64512)===56320?(o=65536+((o&1023)<<10)+(r.charCodeAt(++s)&1023),e[i++]=o>>18|240,e[i++]=o>>12&63|128,e[i++]=o>>6&63|128,e[i++]=o&63|128):(e[i++]=o>>12|224,e[i++]=o>>6&63|128,e[i++]=o&63|128)}return e},t1=function(r){const e=[];let i=0,s=0;for(;i<r.length;){const o=r[i++];if(o<128)e[s++]=String.fromCharCode(o);else if(o>191&&o<224){const f=r[i++];e[s++]=String.fromCharCode((o&31)<<6|f&63)}else if(o>239&&o<365){const f=r[i++],d=r[i++],g=r[i++],v=((o&7)<<18|(f&63)<<12|(d&63)<<6|g&63)-65536;e[s++]=String.fromCharCode(55296+(v>>10)),e[s++]=String.fromCharCode(56320+(v&1023))}else{const f=r[i++],d=r[i++];e[s++]=String.fromCharCode((o&15)<<12|(f&63)<<6|d&63)}}return e.join("")},W_={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(r,e){if(!Array.isArray(r))throw Error("encodeByteArray takes an array as a parameter");this.init_();const i=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,s=[];for(let o=0;o<r.length;o+=3){const f=r[o],d=o+1<r.length,g=d?r[o+1]:0,v=o+2<r.length,_=v?r[o+2]:0,A=f>>2,V=(f&3)<<4|g>>4;let I=(g&15)<<2|_>>6,G=_&63;v||(G=64,d||(I=64)),s.push(i[A],i[V],i[I],i[G])}return s.join("")},encodeString(r,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(r):this.encodeByteArray(J_(r),e)},decodeString(r,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(r):t1(this.decodeStringToByteArray(r,e))},decodeStringToByteArray(r,e){this.init_();const i=e?this.charToByteMapWebSafe_:this.charToByteMap_,s=[];for(let o=0;o<r.length;){const f=i[r.charAt(o++)],g=o<r.length?i[r.charAt(o)]:0;++o;const _=o<r.length?i[r.charAt(o)]:64;++o;const V=o<r.length?i[r.charAt(o)]:64;if(++o,f==null||g==null||_==null||V==null)throw new e1;const I=f<<2|g>>4;if(s.push(I),_!==64){const G=g<<4&240|_>>2;if(s.push(G),V!==64){const J=_<<6&192|V;s.push(J)}}}return s},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let r=0;r<this.ENCODED_VALS.length;r++)this.byteToCharMap_[r]=this.ENCODED_VALS.charAt(r),this.charToByteMap_[this.byteToCharMap_[r]]=r,this.byteToCharMapWebSafe_[r]=this.ENCODED_VALS_WEBSAFE.charAt(r),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[r]]=r,r>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(r)]=r,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(r)]=r)}}};class e1 extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const n1=function(r){const e=J_(r);return W_.encodeByteArray(e,!0)},$u=function(r){return n1(r).replace(/\./g,"")},i1=function(r){try{return W_.decodeString(r,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function a1(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const r1=()=>a1().__FIREBASE_DEFAULTS__,s1=()=>{if(typeof process>"u"||typeof My>"u")return;const r=My.__FIREBASE_DEFAULTS__;if(r)return JSON.parse(r)},l1=()=>{if(typeof document>"u")return;let r;try{r=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=r&&i1(r[1]);return e&&JSON.parse(e)},bd=()=>{try{return W0()||r1()||s1()||l1()}catch(r){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${r}`);return}},o1=r=>bd()?.emulatorHosts?.[r],u1=r=>{const e=o1(r);if(!e)return;const i=e.lastIndexOf(":");if(i<=0||i+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const s=parseInt(e.substring(i+1),10);return e[0]==="["?[e.substring(1,i-1),s]:[e.substring(0,i),s]},tv=()=>bd()?.config;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class c1{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,i)=>{this.resolve=e,this.reject=i})}wrapCallback(e){return(i,s)=>{i?this.reject(i):this.resolve(s),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(i):e(i,s))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Rd(r){try{return(r.startsWith("http://")||r.startsWith("https://")?new URL(r).hostname:r).endsWith(".cloudworkstations.dev")}catch{return!1}}async function f1(r){return(await fetch(r,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function h1(r,e){if(r.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const i={alg:"none",type:"JWT"},s=e||"demo-project",o=r.iat||0,f=r.sub||r.user_id;if(!f)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const d={iss:`https://securetoken.google.com/${s}`,aud:s,iat:o,exp:o+3600,auth_time:o,sub:f,user_id:f,firebase:{sign_in_provider:"custom",identities:{}},...r};return[$u(JSON.stringify(i)),$u(JSON.stringify(d)),""].join(".")}const Kl={};function d1(){const r={prod:[],emulator:[]};for(const e of Object.keys(Kl))Kl[e]?r.emulator.push(e):r.prod.push(e);return r}function m1(r){let e=document.getElementById(r),i=!1;return e||(e=document.createElement("div"),e.setAttribute("id",r),i=!0),{created:i,element:e}}let Ny=!1;function g1(r,e){if(typeof window>"u"||typeof document>"u"||!Rd(window.location.host)||Kl[r]===e||Kl[r]||Ny)return;Kl[r]=e;function i(I){return`__firebase__banner__${I}`}const s="__firebase__banner",f=d1().prod.length>0;function d(){const I=document.getElementById(s);I&&I.remove()}function g(I){I.style.display="flex",I.style.background="#7faaf0",I.style.position="fixed",I.style.bottom="5px",I.style.left="5px",I.style.padding=".5em",I.style.borderRadius="5px",I.style.alignItems="center"}function v(I,G){I.setAttribute("width","24"),I.setAttribute("id",G),I.setAttribute("height","24"),I.setAttribute("viewBox","0 0 24 24"),I.setAttribute("fill","none"),I.style.marginLeft="-6px"}function _(){const I=document.createElement("span");return I.style.cursor="pointer",I.style.marginLeft="16px",I.style.fontSize="24px",I.innerHTML=" &times;",I.onclick=()=>{Ny=!0,d()},I}function A(I,G){I.setAttribute("id",G),I.innerText="Learn more",I.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",I.setAttribute("target","__blank"),I.style.paddingLeft="5px",I.style.textDecoration="underline"}function V(){const I=m1(s),G=i("text"),J=document.getElementById(G)||document.createElement("span"),$=i("learnmore"),Z=document.getElementById($)||document.createElement("a"),dt=i("preprendIcon"),ct=document.getElementById(dt)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(I.created){const lt=I.element;g(lt),A(Z,$);const Rt=_();v(ct,dt),lt.append(ct,J,Z,Rt),document.body.appendChild(lt)}f?(J.innerText="Preview backend disconnected.",ct.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(ct.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,J.innerText="Preview backend running in this workspace."),J.setAttribute("id",G)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",V):V()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function p1(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function y1(){const r=bd()?.forceEnvironment;if(r==="node")return!0;if(r==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function _1(){const r=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof r=="object"&&r.id!==void 0}function v1(){return!y1()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function ev(){try{return typeof indexedDB=="object"}catch{return!1}}function nv(){return new Promise((r,e)=>{try{let i=!0;const s="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(s);o.onsuccess=()=>{o.result.close(),i||self.indexedDB.deleteDatabase(s),r(!0)},o.onupgradeneeded=()=>{i=!1},o.onerror=()=>{e(o.error?.message||"")}}catch(i){e(i)}})}function E1(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const T1="FirebaseError";class Da extends Error{constructor(e,i,s){super(i),this.code=e,this.customData=s,this.name=T1,Object.setPrototypeOf(this,Da.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,dc.prototype.create)}}class dc{constructor(e,i,s){this.service=e,this.serviceName=i,this.errors=s}create(e,...i){const s=i[0]||{},o=`${this.service}/${e}`,f=this.errors[e],d=f?A1(f,s):"Error",g=`${this.serviceName}: ${d} (${o}).`;return new Da(o,g,s)}}function A1(r,e){return r.replace(S1,(i,s)=>{const o=e[s];return o!=null?String(o):`<${s}?>`})}const S1=/\{\$([^}]+)}/g;function eo(r,e){if(r===e)return!0;const i=Object.keys(r),s=Object.keys(e);for(const o of i){if(!s.includes(o))return!1;const f=r[o],d=e[o];if(xy(f)&&xy(d)){if(!eo(f,d))return!1}else if(f!==d)return!1}for(const o of s)if(!i.includes(o))return!1;return!0}function xy(r){return r!==null&&typeof r=="object"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const b1=1e3,R1=2,w1=14400*1e3,C1=.5;function Uy(r,e=b1,i=R1){const s=e*Math.pow(i,r),o=Math.round(C1*s*(Math.random()-.5)*2);return Math.min(w1,s+o)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zn(r){return r&&r._delegate?r._delegate:r}class Li{constructor(e,i,s){this.name=e,this.instanceFactory=i,this.type=s,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gr="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class D1{constructor(e,i){this.name=e,this.container=i,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const i=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(i)){const s=new c1;if(this.instancesDeferred.set(i,s),this.isInitialized(i)||this.shouldAutoInitialize())try{const o=this.getOrInitializeService({instanceIdentifier:i});o&&s.resolve(o)}catch{}}return this.instancesDeferred.get(i).promise}getImmediate(e){const i=this.normalizeInstanceIdentifier(e?.identifier),s=e?.optional??!1;if(this.isInitialized(i)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:i})}catch(o){if(s)return null;throw o}else{if(s)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(V1(e))try{this.getOrInitializeService({instanceIdentifier:gr})}catch{}for(const[i,s]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(i);try{const f=this.getOrInitializeService({instanceIdentifier:o});s.resolve(f)}catch{}}}}clearInstance(e=gr){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(i=>"INTERNAL"in i).map(i=>i.INTERNAL.delete()),...e.filter(i=>"_delete"in i).map(i=>i._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=gr){return this.instances.has(e)}getOptions(e=gr){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:i={}}=e,s=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(s))throw Error(`${this.name}(${s}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const o=this.getOrInitializeService({instanceIdentifier:s,options:i});for(const[f,d]of this.instancesDeferred.entries()){const g=this.normalizeInstanceIdentifier(f);s===g&&d.resolve(o)}return o}onInit(e,i){const s=this.normalizeInstanceIdentifier(i),o=this.onInitCallbacks.get(s)??new Set;o.add(e),this.onInitCallbacks.set(s,o);const f=this.instances.get(s);return f&&e(f,s),()=>{o.delete(e)}}invokeOnInitCallbacks(e,i){const s=this.onInitCallbacks.get(i);if(s)for(const o of s)try{o(e,i)}catch{}}getOrInitializeService({instanceIdentifier:e,options:i={}}){let s=this.instances.get(e);if(!s&&this.component&&(s=this.component.instanceFactory(this.container,{instanceIdentifier:I1(e),options:i}),this.instances.set(e,s),this.instancesOptions.set(e,i),this.invokeOnInitCallbacks(s,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,s)}catch{}return s||null}normalizeInstanceIdentifier(e=gr){return this.component?this.component.multipleInstances?e:gr:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function I1(r){return r===gr?void 0:r}function V1(r){return r.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class O1{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const i=this.getProvider(e.name);if(i.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);i.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const i=new D1(e,this);return this.providers.set(e,i),i}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var xt;(function(r){r[r.DEBUG=0]="DEBUG",r[r.VERBOSE=1]="VERBOSE",r[r.INFO=2]="INFO",r[r.WARN=3]="WARN",r[r.ERROR=4]="ERROR",r[r.SILENT=5]="SILENT"})(xt||(xt={}));const M1={debug:xt.DEBUG,verbose:xt.VERBOSE,info:xt.INFO,warn:xt.WARN,error:xt.ERROR,silent:xt.SILENT},N1=xt.INFO,x1={[xt.DEBUG]:"log",[xt.VERBOSE]:"log",[xt.INFO]:"info",[xt.WARN]:"warn",[xt.ERROR]:"error"},U1=(r,e,...i)=>{if(e<r.logLevel)return;const s=new Date().toISOString(),o=x1[e];if(o)console[o](`[${s}]  ${r.name}:`,...i);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class wd{constructor(e){this.name=e,this._logLevel=N1,this._logHandler=U1,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in xt))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?M1[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,xt.DEBUG,...e),this._logHandler(this,xt.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,xt.VERBOSE,...e),this._logHandler(this,xt.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,xt.INFO,...e),this._logHandler(this,xt.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,xt.WARN,...e),this._logHandler(this,xt.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,xt.ERROR,...e),this._logHandler(this,xt.ERROR,...e)}}const L1=(r,e)=>e.some(i=>r instanceof i);let Ly,Py;function P1(){return Ly||(Ly=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function z1(){return Py||(Py=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const iv=new WeakMap,Wh=new WeakMap,av=new WeakMap,qh=new WeakMap,Cd=new WeakMap;function k1(r){const e=new Promise((i,s)=>{const o=()=>{r.removeEventListener("success",f),r.removeEventListener("error",d)},f=()=>{i(pa(r.result)),o()},d=()=>{s(r.error),o()};r.addEventListener("success",f),r.addEventListener("error",d)});return e.then(i=>{i instanceof IDBCursor&&iv.set(i,r)}).catch(()=>{}),Cd.set(e,r),e}function B1(r){if(Wh.has(r))return;const e=new Promise((i,s)=>{const o=()=>{r.removeEventListener("complete",f),r.removeEventListener("error",d),r.removeEventListener("abort",d)},f=()=>{i(),o()},d=()=>{s(r.error||new DOMException("AbortError","AbortError")),o()};r.addEventListener("complete",f),r.addEventListener("error",d),r.addEventListener("abort",d)});Wh.set(r,e)}let td={get(r,e,i){if(r instanceof IDBTransaction){if(e==="done")return Wh.get(r);if(e==="objectStoreNames")return r.objectStoreNames||av.get(r);if(e==="store")return i.objectStoreNames[1]?void 0:i.objectStore(i.objectStoreNames[0])}return pa(r[e])},set(r,e,i){return r[e]=i,!0},has(r,e){return r instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in r}};function q1(r){td=r(td)}function j1(r){return r===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...i){const s=r.call(jh(this),e,...i);return av.set(s,e.sort?e.sort():[e]),pa(s)}:z1().includes(r)?function(...e){return r.apply(jh(this),e),pa(iv.get(this))}:function(...e){return pa(r.apply(jh(this),e))}}function H1(r){return typeof r=="function"?j1(r):(r instanceof IDBTransaction&&B1(r),L1(r,P1())?new Proxy(r,td):r)}function pa(r){if(r instanceof IDBRequest)return k1(r);if(qh.has(r))return qh.get(r);const e=H1(r);return e!==r&&(qh.set(r,e),Cd.set(e,r)),e}const jh=r=>Cd.get(r);function rv(r,e,{blocked:i,upgrade:s,blocking:o,terminated:f}={}){const d=indexedDB.open(r,e),g=pa(d);return s&&d.addEventListener("upgradeneeded",v=>{s(pa(d.result),v.oldVersion,v.newVersion,pa(d.transaction),v)}),i&&d.addEventListener("blocked",v=>i(v.oldVersion,v.newVersion,v)),g.then(v=>{f&&v.addEventListener("close",()=>f()),o&&v.addEventListener("versionchange",_=>o(_.oldVersion,_.newVersion,_))}).catch(()=>{}),g}const G1=["get","getKey","getAll","getAllKeys","count"],F1=["put","add","delete","clear"],Hh=new Map;function zy(r,e){if(!(r instanceof IDBDatabase&&!(e in r)&&typeof e=="string"))return;if(Hh.get(e))return Hh.get(e);const i=e.replace(/FromIndex$/,""),s=e!==i,o=F1.includes(i);if(!(i in(s?IDBIndex:IDBObjectStore).prototype)||!(o||G1.includes(i)))return;const f=async function(d,...g){const v=this.transaction(d,o?"readwrite":"readonly");let _=v.store;return s&&(_=_.index(g.shift())),(await Promise.all([_[i](...g),o&&v.done]))[0]};return Hh.set(e,f),f}q1(r=>({...r,get:(e,i,s)=>zy(e,i)||r.get(e,i,s),has:(e,i)=>!!zy(e,i)||r.has(e,i)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Q1{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(i=>{if(Y1(i)){const s=i.getImmediate();return`${s.library}/${s.version}`}else return null}).filter(i=>i).join(" ")}}function Y1(r){return r.getComponent()?.type==="VERSION"}const ed="@firebase/app",ky="0.14.2";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Pi=new wd("@firebase/app"),K1="@firebase/app-compat",X1="@firebase/analytics-compat",Z1="@firebase/analytics",$1="@firebase/app-check-compat",J1="@firebase/app-check",W1="@firebase/auth",tA="@firebase/auth-compat",eA="@firebase/database",nA="@firebase/data-connect",iA="@firebase/database-compat",aA="@firebase/functions",rA="@firebase/functions-compat",sA="@firebase/installations",lA="@firebase/installations-compat",oA="@firebase/messaging",uA="@firebase/messaging-compat",cA="@firebase/performance",fA="@firebase/performance-compat",hA="@firebase/remote-config",dA="@firebase/remote-config-compat",mA="@firebase/storage",gA="@firebase/storage-compat",pA="@firebase/firestore",yA="@firebase/ai",_A="@firebase/firestore-compat",vA="firebase",EA="12.2.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nd="[DEFAULT]",TA={[ed]:"fire-core",[K1]:"fire-core-compat",[Z1]:"fire-analytics",[X1]:"fire-analytics-compat",[J1]:"fire-app-check",[$1]:"fire-app-check-compat",[W1]:"fire-auth",[tA]:"fire-auth-compat",[eA]:"fire-rtdb",[nA]:"fire-data-connect",[iA]:"fire-rtdb-compat",[aA]:"fire-fn",[rA]:"fire-fn-compat",[sA]:"fire-iid",[lA]:"fire-iid-compat",[oA]:"fire-fcm",[uA]:"fire-fcm-compat",[cA]:"fire-perf",[fA]:"fire-perf-compat",[hA]:"fire-rc",[dA]:"fire-rc-compat",[mA]:"fire-gcs",[gA]:"fire-gcs-compat",[pA]:"fire-fst",[_A]:"fire-fst-compat",[yA]:"fire-vertex","fire-js":"fire-js",[vA]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ju=new Map,AA=new Map,id=new Map;function By(r,e){try{r.container.addComponent(e)}catch(i){Pi.debug(`Component ${e.name} failed to register with FirebaseApp ${r.name}`,i)}}function Ta(r){const e=r.name;if(id.has(e))return Pi.debug(`There were multiple attempts to register component ${e}.`),!1;id.set(e,r);for(const i of Ju.values())By(i,r);for(const i of AA.values())By(i,r);return!0}function uo(r,e){const i=r.container.getProvider("heartbeat").getImmediate({optional:!0});return i&&i.triggerHeartbeat(),r.container.getProvider(e)}function SA(r){return r==null?!1:r.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bA={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},ya=new dc("app","Firebase",bA);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RA{constructor(e,i,s){this._isDeleted=!1,this._options={...e},this._config={...i},this._name=i.name,this._automaticDataCollectionEnabled=i.automaticDataCollectionEnabled,this._container=s,this.container.addComponent(new Li("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw ya.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wA=EA;function sv(r,e={}){let i=r;typeof e!="object"&&(e={name:e});const s={name:nd,automaticDataCollectionEnabled:!0,...e},o=s.name;if(typeof o!="string"||!o)throw ya.create("bad-app-name",{appName:String(o)});if(i||(i=tv()),!i)throw ya.create("no-options");const f=Ju.get(o);if(f){if(eo(i,f.options)&&eo(s,f.config))return f;throw ya.create("duplicate-app",{appName:o})}const d=new O1(o);for(const v of id.values())d.addComponent(v);const g=new RA(i,s,d);return Ju.set(o,g),g}function lv(r=nd){const e=Ju.get(r);if(!e&&r===nd&&tv())return sv();if(!e)throw ya.create("no-app",{appName:r});return e}function ii(r,e,i){let s=TA[r]??r;i&&(s+=`-${i}`);const o=s.match(/\s|\//),f=e.match(/\s|\//);if(o||f){const d=[`Unable to register library "${s}" with version "${e}":`];o&&d.push(`library name "${s}" contains illegal characters (whitespace or "/")`),o&&f&&d.push("and"),f&&d.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Pi.warn(d.join(" "));return}Ta(new Li(`${s}-version`,()=>({library:s,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const CA="firebase-heartbeat-database",DA=1,no="firebase-heartbeat-store";let Gh=null;function ov(){return Gh||(Gh=rv(CA,DA,{upgrade:(r,e)=>{switch(e){case 0:try{r.createObjectStore(no)}catch(i){console.warn(i)}}}}).catch(r=>{throw ya.create("idb-open",{originalErrorMessage:r.message})})),Gh}async function IA(r){try{const i=(await ov()).transaction(no),s=await i.objectStore(no).get(uv(r));return await i.done,s}catch(e){if(e instanceof Da)Pi.warn(e.message);else{const i=ya.create("idb-get",{originalErrorMessage:e?.message});Pi.warn(i.message)}}}async function qy(r,e){try{const s=(await ov()).transaction(no,"readwrite");await s.objectStore(no).put(e,uv(r)),await s.done}catch(i){if(i instanceof Da)Pi.warn(i.message);else{const s=ya.create("idb-set",{originalErrorMessage:i?.message});Pi.warn(s.message)}}}function uv(r){return`${r.name}!${r.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const VA=1024,OA=30;class MA{constructor(e){this.container=e,this._heartbeatsCache=null;const i=this.container.getProvider("app").getImmediate();this._storage=new xA(i),this._heartbeatsCachePromise=this._storage.read().then(s=>(this._heartbeatsCache=s,s))}async triggerHeartbeat(){try{const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=jy();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(o=>o.date===s))return;if(this._heartbeatsCache.heartbeats.push({date:s,agent:i}),this._heartbeatsCache.heartbeats.length>OA){const o=UA(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(o,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(e){Pi.warn(e)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const e=jy(),{heartbeatsToSend:i,unsentEntries:s}=NA(this._heartbeatsCache.heartbeats),o=$u(JSON.stringify({version:2,heartbeats:i}));return this._heartbeatsCache.lastSentHeartbeatDate=e,s.length>0?(this._heartbeatsCache.heartbeats=s,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o}catch(e){return Pi.warn(e),""}}}function jy(){return new Date().toISOString().substring(0,10)}function NA(r,e=VA){const i=[];let s=r.slice();for(const o of r){const f=i.find(d=>d.agent===o.agent);if(f){if(f.dates.push(o.date),Hy(i)>e){f.dates.pop();break}}else if(i.push({agent:o.agent,dates:[o.date]}),Hy(i)>e){i.pop();break}s=s.slice(1)}return{heartbeatsToSend:i,unsentEntries:s}}class xA{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return ev()?nv().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const i=await IA(this.app);return i?.heartbeats?i:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const s=await this.read();return qy(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??s.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const s=await this.read();return qy(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??s.lastSentHeartbeatDate,heartbeats:[...s.heartbeats,...e.heartbeats]})}else return}}function Hy(r){return $u(JSON.stringify({version:2,heartbeats:r})).length}function UA(r){if(r.length===0)return-1;let e=0,i=r[0].date;for(let s=1;s<r.length;s++)r[s].date<i&&(i=r[s].date,e=s);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function LA(r){Ta(new Li("platform-logger",e=>new Q1(e),"PRIVATE")),Ta(new Li("heartbeat",e=>new MA(e),"PRIVATE")),ii(ed,ky,r),ii(ed,ky,"esm2020"),ii("fire-js","")}LA("");var PA="firebase",zA="12.2.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ii(PA,zA,"app");var Gy=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var _a,cv;(function(){var r;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(N,S){function w(){}w.prototype=S.prototype,N.D=S.prototype,N.prototype=new w,N.prototype.constructor=N,N.C=function(O,M,U){for(var R=Array(arguments.length-2),Me=2;Me<arguments.length;Me++)R[Me-2]=arguments[Me];return S.prototype[M].apply(O,R)}}function i(){this.blockSize=-1}function s(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(s,i),s.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function o(N,S,w){w||(w=0);var O=Array(16);if(typeof S=="string")for(var M=0;16>M;++M)O[M]=S.charCodeAt(w++)|S.charCodeAt(w++)<<8|S.charCodeAt(w++)<<16|S.charCodeAt(w++)<<24;else for(M=0;16>M;++M)O[M]=S[w++]|S[w++]<<8|S[w++]<<16|S[w++]<<24;S=N.g[0],w=N.g[1],M=N.g[2];var U=N.g[3],R=S+(U^w&(M^U))+O[0]+3614090360&4294967295;S=w+(R<<7&4294967295|R>>>25),R=U+(M^S&(w^M))+O[1]+3905402710&4294967295,U=S+(R<<12&4294967295|R>>>20),R=M+(w^U&(S^w))+O[2]+606105819&4294967295,M=U+(R<<17&4294967295|R>>>15),R=w+(S^M&(U^S))+O[3]+3250441966&4294967295,w=M+(R<<22&4294967295|R>>>10),R=S+(U^w&(M^U))+O[4]+4118548399&4294967295,S=w+(R<<7&4294967295|R>>>25),R=U+(M^S&(w^M))+O[5]+1200080426&4294967295,U=S+(R<<12&4294967295|R>>>20),R=M+(w^U&(S^w))+O[6]+2821735955&4294967295,M=U+(R<<17&4294967295|R>>>15),R=w+(S^M&(U^S))+O[7]+4249261313&4294967295,w=M+(R<<22&4294967295|R>>>10),R=S+(U^w&(M^U))+O[8]+1770035416&4294967295,S=w+(R<<7&4294967295|R>>>25),R=U+(M^S&(w^M))+O[9]+2336552879&4294967295,U=S+(R<<12&4294967295|R>>>20),R=M+(w^U&(S^w))+O[10]+4294925233&4294967295,M=U+(R<<17&4294967295|R>>>15),R=w+(S^M&(U^S))+O[11]+2304563134&4294967295,w=M+(R<<22&4294967295|R>>>10),R=S+(U^w&(M^U))+O[12]+1804603682&4294967295,S=w+(R<<7&4294967295|R>>>25),R=U+(M^S&(w^M))+O[13]+4254626195&4294967295,U=S+(R<<12&4294967295|R>>>20),R=M+(w^U&(S^w))+O[14]+2792965006&4294967295,M=U+(R<<17&4294967295|R>>>15),R=w+(S^M&(U^S))+O[15]+1236535329&4294967295,w=M+(R<<22&4294967295|R>>>10),R=S+(M^U&(w^M))+O[1]+4129170786&4294967295,S=w+(R<<5&4294967295|R>>>27),R=U+(w^M&(S^w))+O[6]+3225465664&4294967295,U=S+(R<<9&4294967295|R>>>23),R=M+(S^w&(U^S))+O[11]+643717713&4294967295,M=U+(R<<14&4294967295|R>>>18),R=w+(U^S&(M^U))+O[0]+3921069994&4294967295,w=M+(R<<20&4294967295|R>>>12),R=S+(M^U&(w^M))+O[5]+3593408605&4294967295,S=w+(R<<5&4294967295|R>>>27),R=U+(w^M&(S^w))+O[10]+38016083&4294967295,U=S+(R<<9&4294967295|R>>>23),R=M+(S^w&(U^S))+O[15]+3634488961&4294967295,M=U+(R<<14&4294967295|R>>>18),R=w+(U^S&(M^U))+O[4]+3889429448&4294967295,w=M+(R<<20&4294967295|R>>>12),R=S+(M^U&(w^M))+O[9]+568446438&4294967295,S=w+(R<<5&4294967295|R>>>27),R=U+(w^M&(S^w))+O[14]+3275163606&4294967295,U=S+(R<<9&4294967295|R>>>23),R=M+(S^w&(U^S))+O[3]+4107603335&4294967295,M=U+(R<<14&4294967295|R>>>18),R=w+(U^S&(M^U))+O[8]+1163531501&4294967295,w=M+(R<<20&4294967295|R>>>12),R=S+(M^U&(w^M))+O[13]+2850285829&4294967295,S=w+(R<<5&4294967295|R>>>27),R=U+(w^M&(S^w))+O[2]+4243563512&4294967295,U=S+(R<<9&4294967295|R>>>23),R=M+(S^w&(U^S))+O[7]+1735328473&4294967295,M=U+(R<<14&4294967295|R>>>18),R=w+(U^S&(M^U))+O[12]+2368359562&4294967295,w=M+(R<<20&4294967295|R>>>12),R=S+(w^M^U)+O[5]+4294588738&4294967295,S=w+(R<<4&4294967295|R>>>28),R=U+(S^w^M)+O[8]+2272392833&4294967295,U=S+(R<<11&4294967295|R>>>21),R=M+(U^S^w)+O[11]+1839030562&4294967295,M=U+(R<<16&4294967295|R>>>16),R=w+(M^U^S)+O[14]+4259657740&4294967295,w=M+(R<<23&4294967295|R>>>9),R=S+(w^M^U)+O[1]+2763975236&4294967295,S=w+(R<<4&4294967295|R>>>28),R=U+(S^w^M)+O[4]+1272893353&4294967295,U=S+(R<<11&4294967295|R>>>21),R=M+(U^S^w)+O[7]+4139469664&4294967295,M=U+(R<<16&4294967295|R>>>16),R=w+(M^U^S)+O[10]+3200236656&4294967295,w=M+(R<<23&4294967295|R>>>9),R=S+(w^M^U)+O[13]+681279174&4294967295,S=w+(R<<4&4294967295|R>>>28),R=U+(S^w^M)+O[0]+3936430074&4294967295,U=S+(R<<11&4294967295|R>>>21),R=M+(U^S^w)+O[3]+3572445317&4294967295,M=U+(R<<16&4294967295|R>>>16),R=w+(M^U^S)+O[6]+76029189&4294967295,w=M+(R<<23&4294967295|R>>>9),R=S+(w^M^U)+O[9]+3654602809&4294967295,S=w+(R<<4&4294967295|R>>>28),R=U+(S^w^M)+O[12]+3873151461&4294967295,U=S+(R<<11&4294967295|R>>>21),R=M+(U^S^w)+O[15]+530742520&4294967295,M=U+(R<<16&4294967295|R>>>16),R=w+(M^U^S)+O[2]+3299628645&4294967295,w=M+(R<<23&4294967295|R>>>9),R=S+(M^(w|~U))+O[0]+4096336452&4294967295,S=w+(R<<6&4294967295|R>>>26),R=U+(w^(S|~M))+O[7]+1126891415&4294967295,U=S+(R<<10&4294967295|R>>>22),R=M+(S^(U|~w))+O[14]+2878612391&4294967295,M=U+(R<<15&4294967295|R>>>17),R=w+(U^(M|~S))+O[5]+4237533241&4294967295,w=M+(R<<21&4294967295|R>>>11),R=S+(M^(w|~U))+O[12]+1700485571&4294967295,S=w+(R<<6&4294967295|R>>>26),R=U+(w^(S|~M))+O[3]+2399980690&4294967295,U=S+(R<<10&4294967295|R>>>22),R=M+(S^(U|~w))+O[10]+4293915773&4294967295,M=U+(R<<15&4294967295|R>>>17),R=w+(U^(M|~S))+O[1]+2240044497&4294967295,w=M+(R<<21&4294967295|R>>>11),R=S+(M^(w|~U))+O[8]+1873313359&4294967295,S=w+(R<<6&4294967295|R>>>26),R=U+(w^(S|~M))+O[15]+4264355552&4294967295,U=S+(R<<10&4294967295|R>>>22),R=M+(S^(U|~w))+O[6]+2734768916&4294967295,M=U+(R<<15&4294967295|R>>>17),R=w+(U^(M|~S))+O[13]+1309151649&4294967295,w=M+(R<<21&4294967295|R>>>11),R=S+(M^(w|~U))+O[4]+4149444226&4294967295,S=w+(R<<6&4294967295|R>>>26),R=U+(w^(S|~M))+O[11]+3174756917&4294967295,U=S+(R<<10&4294967295|R>>>22),R=M+(S^(U|~w))+O[2]+718787259&4294967295,M=U+(R<<15&4294967295|R>>>17),R=w+(U^(M|~S))+O[9]+3951481745&4294967295,N.g[0]=N.g[0]+S&4294967295,N.g[1]=N.g[1]+(M+(R<<21&4294967295|R>>>11))&4294967295,N.g[2]=N.g[2]+M&4294967295,N.g[3]=N.g[3]+U&4294967295}s.prototype.u=function(N,S){S===void 0&&(S=N.length);for(var w=S-this.blockSize,O=this.B,M=this.h,U=0;U<S;){if(M==0)for(;U<=w;)o(this,N,U),U+=this.blockSize;if(typeof N=="string"){for(;U<S;)if(O[M++]=N.charCodeAt(U++),M==this.blockSize){o(this,O),M=0;break}}else for(;U<S;)if(O[M++]=N[U++],M==this.blockSize){o(this,O),M=0;break}}this.h=M,this.o+=S},s.prototype.v=function(){var N=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);N[0]=128;for(var S=1;S<N.length-8;++S)N[S]=0;var w=8*this.o;for(S=N.length-8;S<N.length;++S)N[S]=w&255,w/=256;for(this.u(N),N=Array(16),S=w=0;4>S;++S)for(var O=0;32>O;O+=8)N[w++]=this.g[S]>>>O&255;return N};function f(N,S){var w=g;return Object.prototype.hasOwnProperty.call(w,N)?w[N]:w[N]=S(N)}function d(N,S){this.h=S;for(var w=[],O=!0,M=N.length-1;0<=M;M--){var U=N[M]|0;O&&U==S||(w[M]=U,O=!1)}this.g=w}var g={};function v(N){return-128<=N&&128>N?f(N,function(S){return new d([S|0],0>S?-1:0)}):new d([N|0],0>N?-1:0)}function _(N){if(isNaN(N)||!isFinite(N))return V;if(0>N)return Z(_(-N));for(var S=[],w=1,O=0;N>=w;O++)S[O]=N/w|0,w*=4294967296;return new d(S,0)}function A(N,S){if(N.length==0)throw Error("number format error: empty string");if(S=S||10,2>S||36<S)throw Error("radix out of range: "+S);if(N.charAt(0)=="-")return Z(A(N.substring(1),S));if(0<=N.indexOf("-"))throw Error('number format error: interior "-" character');for(var w=_(Math.pow(S,8)),O=V,M=0;M<N.length;M+=8){var U=Math.min(8,N.length-M),R=parseInt(N.substring(M,M+U),S);8>U?(U=_(Math.pow(S,U)),O=O.j(U).add(_(R))):(O=O.j(w),O=O.add(_(R)))}return O}var V=v(0),I=v(1),G=v(16777216);r=d.prototype,r.m=function(){if($(this))return-Z(this).m();for(var N=0,S=1,w=0;w<this.g.length;w++){var O=this.i(w);N+=(0<=O?O:4294967296+O)*S,S*=4294967296}return N},r.toString=function(N){if(N=N||10,2>N||36<N)throw Error("radix out of range: "+N);if(J(this))return"0";if($(this))return"-"+Z(this).toString(N);for(var S=_(Math.pow(N,6)),w=this,O="";;){var M=Rt(w,S).g;w=dt(w,M.j(S));var U=((0<w.g.length?w.g[0]:w.h)>>>0).toString(N);if(w=M,J(w))return U+O;for(;6>U.length;)U="0"+U;O=U+O}},r.i=function(N){return 0>N?0:N<this.g.length?this.g[N]:this.h};function J(N){if(N.h!=0)return!1;for(var S=0;S<N.g.length;S++)if(N.g[S]!=0)return!1;return!0}function $(N){return N.h==-1}r.l=function(N){return N=dt(this,N),$(N)?-1:J(N)?0:1};function Z(N){for(var S=N.g.length,w=[],O=0;O<S;O++)w[O]=~N.g[O];return new d(w,~N.h).add(I)}r.abs=function(){return $(this)?Z(this):this},r.add=function(N){for(var S=Math.max(this.g.length,N.g.length),w=[],O=0,M=0;M<=S;M++){var U=O+(this.i(M)&65535)+(N.i(M)&65535),R=(U>>>16)+(this.i(M)>>>16)+(N.i(M)>>>16);O=R>>>16,U&=65535,R&=65535,w[M]=R<<16|U}return new d(w,w[w.length-1]&-2147483648?-1:0)};function dt(N,S){return N.add(Z(S))}r.j=function(N){if(J(this)||J(N))return V;if($(this))return $(N)?Z(this).j(Z(N)):Z(Z(this).j(N));if($(N))return Z(this.j(Z(N)));if(0>this.l(G)&&0>N.l(G))return _(this.m()*N.m());for(var S=this.g.length+N.g.length,w=[],O=0;O<2*S;O++)w[O]=0;for(O=0;O<this.g.length;O++)for(var M=0;M<N.g.length;M++){var U=this.i(O)>>>16,R=this.i(O)&65535,Me=N.i(M)>>>16,ie=N.i(M)&65535;w[2*O+2*M]+=R*ie,ct(w,2*O+2*M),w[2*O+2*M+1]+=U*ie,ct(w,2*O+2*M+1),w[2*O+2*M+1]+=R*Me,ct(w,2*O+2*M+1),w[2*O+2*M+2]+=U*Me,ct(w,2*O+2*M+2)}for(O=0;O<S;O++)w[O]=w[2*O+1]<<16|w[2*O];for(O=S;O<2*S;O++)w[O]=0;return new d(w,0)};function ct(N,S){for(;(N[S]&65535)!=N[S];)N[S+1]+=N[S]>>>16,N[S]&=65535,S++}function lt(N,S){this.g=N,this.h=S}function Rt(N,S){if(J(S))throw Error("division by zero");if(J(N))return new lt(V,V);if($(N))return S=Rt(Z(N),S),new lt(Z(S.g),Z(S.h));if($(S))return S=Rt(N,Z(S)),new lt(Z(S.g),S.h);if(30<N.g.length){if($(N)||$(S))throw Error("slowDivide_ only works with positive integers.");for(var w=I,O=S;0>=O.l(N);)w=ot(w),O=ot(O);var M=Ut(w,1),U=Ut(O,1);for(O=Ut(O,2),w=Ut(w,2);!J(O);){var R=U.add(O);0>=R.l(N)&&(M=M.add(w),U=R),O=Ut(O,1),w=Ut(w,1)}return S=dt(N,M.j(S)),new lt(M,S)}for(M=V;0<=N.l(S);){for(w=Math.max(1,Math.floor(N.m()/S.m())),O=Math.ceil(Math.log(w)/Math.LN2),O=48>=O?1:Math.pow(2,O-48),U=_(w),R=U.j(S);$(R)||0<R.l(N);)w-=O,U=_(w),R=U.j(S);J(U)&&(U=I),M=M.add(U),N=dt(N,R)}return new lt(M,N)}r.A=function(N){return Rt(this,N).h},r.and=function(N){for(var S=Math.max(this.g.length,N.g.length),w=[],O=0;O<S;O++)w[O]=this.i(O)&N.i(O);return new d(w,this.h&N.h)},r.or=function(N){for(var S=Math.max(this.g.length,N.g.length),w=[],O=0;O<S;O++)w[O]=this.i(O)|N.i(O);return new d(w,this.h|N.h)},r.xor=function(N){for(var S=Math.max(this.g.length,N.g.length),w=[],O=0;O<S;O++)w[O]=this.i(O)^N.i(O);return new d(w,this.h^N.h)};function ot(N){for(var S=N.g.length+1,w=[],O=0;O<S;O++)w[O]=N.i(O)<<1|N.i(O-1)>>>31;return new d(w,N.h)}function Ut(N,S){var w=S>>5;S%=32;for(var O=N.g.length-w,M=[],U=0;U<O;U++)M[U]=0<S?N.i(U+w)>>>S|N.i(U+w+1)<<32-S:N.i(U+w);return new d(M,N.h)}s.prototype.digest=s.prototype.v,s.prototype.reset=s.prototype.s,s.prototype.update=s.prototype.u,cv=s,d.prototype.add=d.prototype.add,d.prototype.multiply=d.prototype.j,d.prototype.modulo=d.prototype.A,d.prototype.compare=d.prototype.l,d.prototype.toNumber=d.prototype.m,d.prototype.toString=d.prototype.toString,d.prototype.getBits=d.prototype.i,d.fromNumber=_,d.fromString=A,_a=d}).apply(typeof Gy<"u"?Gy:typeof self<"u"?self:typeof window<"u"?window:{});var Bu=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var fv,Gl,hv,Fu,ad,dv,mv,gv;(function(){var r,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(u,m,p){return u==Array.prototype||u==Object.prototype||(u[m]=p.value),u};function i(u){u=[typeof globalThis=="object"&&globalThis,u,typeof window=="object"&&window,typeof self=="object"&&self,typeof Bu=="object"&&Bu];for(var m=0;m<u.length;++m){var p=u[m];if(p&&p.Math==Math)return p}throw Error("Cannot find global object")}var s=i(this);function o(u,m){if(m)t:{var p=s;u=u.split(".");for(var T=0;T<u.length-1;T++){var L=u[T];if(!(L in p))break t;p=p[L]}u=u[u.length-1],T=p[u],m=m(T),m!=T&&m!=null&&e(p,u,{configurable:!0,writable:!0,value:m})}}function f(u,m){u instanceof String&&(u+="");var p=0,T=!1,L={next:function(){if(!T&&p<u.length){var q=p++;return{value:m(q,u[q]),done:!1}}return T=!0,{done:!0,value:void 0}}};return L[Symbol.iterator]=function(){return L},L}o("Array.prototype.values",function(u){return u||function(){return f(this,function(m,p){return p})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var d=d||{},g=this||self;function v(u){var m=typeof u;return m=m!="object"?m:u?Array.isArray(u)?"array":m:"null",m=="array"||m=="object"&&typeof u.length=="number"}function _(u){var m=typeof u;return m=="object"&&u!=null||m=="function"}function A(u,m,p){return u.call.apply(u.bind,arguments)}function V(u,m,p){if(!u)throw Error();if(2<arguments.length){var T=Array.prototype.slice.call(arguments,2);return function(){var L=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(L,T),u.apply(m,L)}}return function(){return u.apply(m,arguments)}}function I(u,m,p){return I=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?A:V,I.apply(null,arguments)}function G(u,m){var p=Array.prototype.slice.call(arguments,1);return function(){var T=p.slice();return T.push.apply(T,arguments),u.apply(this,T)}}function J(u,m){function p(){}p.prototype=m.prototype,u.aa=m.prototype,u.prototype=new p,u.prototype.constructor=u,u.Qb=function(T,L,q){for(var tt=Array(arguments.length-2),Vt=2;Vt<arguments.length;Vt++)tt[Vt-2]=arguments[Vt];return m.prototype[L].apply(T,tt)}}function $(u){const m=u.length;if(0<m){const p=Array(m);for(let T=0;T<m;T++)p[T]=u[T];return p}return[]}function Z(u,m){for(let p=1;p<arguments.length;p++){const T=arguments[p];if(v(T)){const L=u.length||0,q=T.length||0;u.length=L+q;for(let tt=0;tt<q;tt++)u[L+tt]=T[tt]}else u.push(T)}}class dt{constructor(m,p){this.i=m,this.j=p,this.h=0,this.g=null}get(){let m;return 0<this.h?(this.h--,m=this.g,this.g=m.next,m.next=null):m=this.i(),m}}function ct(u){return/^[\s\xa0]*$/.test(u)}function lt(){var u=g.navigator;return u&&(u=u.userAgent)?u:""}function Rt(u){return Rt[" "](u),u}Rt[" "]=function(){};var ot=lt().indexOf("Gecko")!=-1&&!(lt().toLowerCase().indexOf("webkit")!=-1&&lt().indexOf("Edge")==-1)&&!(lt().indexOf("Trident")!=-1||lt().indexOf("MSIE")!=-1)&&lt().indexOf("Edge")==-1;function Ut(u,m,p){for(const T in u)m.call(p,u[T],T,u)}function N(u,m){for(const p in u)m.call(void 0,u[p],p,u)}function S(u){const m={};for(const p in u)m[p]=u[p];return m}const w="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function O(u,m){let p,T;for(let L=1;L<arguments.length;L++){T=arguments[L];for(p in T)u[p]=T[p];for(let q=0;q<w.length;q++)p=w[q],Object.prototype.hasOwnProperty.call(T,p)&&(u[p]=T[p])}}function M(u){var m=1;u=u.split(":");const p=[];for(;0<m&&u.length;)p.push(u.shift()),m--;return u.length&&p.push(u.join(":")),p}function U(u){g.setTimeout(()=>{throw u},0)}function R(){var u=Pt;let m=null;return u.g&&(m=u.g,u.g=u.g.next,u.g||(u.h=null),m.next=null),m}class Me{constructor(){this.h=this.g=null}add(m,p){const T=ie.get();T.set(m,p),this.h?this.h.next=T:this.g=T,this.h=T}}var ie=new dt(()=>new j,u=>u.reset());class j{constructor(){this.next=this.g=this.h=null}set(m,p){this.h=m,this.g=p,this.next=null}reset(){this.next=this.g=this.h=null}}let et,ut=!1,Pt=new Me,C=()=>{const u=g.Promise.resolve(void 0);et=()=>{u.then(X)}};var X=()=>{for(var u;u=R();){try{u.h.call(u.g)}catch(p){U(p)}var m=ie;m.j(u),100>m.h&&(m.h++,u.next=m.g,m.g=u)}ut=!1};function nt(){this.s=this.s,this.C=this.C}nt.prototype.s=!1,nt.prototype.ma=function(){this.s||(this.s=!0,this.N())},nt.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function W(u,m){this.type=u,this.g=this.target=m,this.defaultPrevented=!1}W.prototype.h=function(){this.defaultPrevented=!0};var ft=(function(){if(!g.addEventListener||!Object.defineProperty)return!1;var u=!1,m=Object.defineProperty({},"passive",{get:function(){u=!0}});try{const p=()=>{};g.addEventListener("test",p,m),g.removeEventListener("test",p,m)}catch{}return u})();function St(u,m){if(W.call(this,u?u.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,u){var p=this.type=u.type,T=u.changedTouches&&u.changedTouches.length?u.changedTouches[0]:null;if(this.target=u.target||u.srcElement,this.g=m,m=u.relatedTarget){if(ot){t:{try{Rt(m.nodeName);var L=!0;break t}catch{}L=!1}L||(m=null)}}else p=="mouseover"?m=u.fromElement:p=="mouseout"&&(m=u.toElement);this.relatedTarget=m,T?(this.clientX=T.clientX!==void 0?T.clientX:T.pageX,this.clientY=T.clientY!==void 0?T.clientY:T.pageY,this.screenX=T.screenX||0,this.screenY=T.screenY||0):(this.clientX=u.clientX!==void 0?u.clientX:u.pageX,this.clientY=u.clientY!==void 0?u.clientY:u.pageY,this.screenX=u.screenX||0,this.screenY=u.screenY||0),this.button=u.button,this.key=u.key||"",this.ctrlKey=u.ctrlKey,this.altKey=u.altKey,this.shiftKey=u.shiftKey,this.metaKey=u.metaKey,this.pointerId=u.pointerId||0,this.pointerType=typeof u.pointerType=="string"?u.pointerType:_t[u.pointerType]||"",this.state=u.state,this.i=u,u.defaultPrevented&&St.aa.h.call(this)}}J(St,W);var _t={2:"touch",3:"pen",4:"mouse"};St.prototype.h=function(){St.aa.h.call(this);var u=this.i;u.preventDefault?u.preventDefault():u.returnValue=!1};var Re="closure_listenable_"+(1e6*Math.random()|0),Xt=0;function kn(u,m,p,T,L){this.listener=u,this.proxy=null,this.src=m,this.type=p,this.capture=!!T,this.ha=L,this.key=++Xt,this.da=this.fa=!1}function Bi(u){u.da=!0,u.listener=null,u.proxy=null,u.src=null,u.ha=null}function ci(u){this.src=u,this.g={},this.h=0}ci.prototype.add=function(u,m,p,T,L){var q=u.toString();u=this.g[q],u||(u=this.g[q]=[],this.h++);var tt=Ma(u,m,T,L);return-1<tt?(m=u[tt],p||(m.fa=!1)):(m=new kn(m,this.src,q,!!T,L),m.fa=p,u.push(m)),m};function Oa(u,m){var p=m.type;if(p in u.g){var T=u.g[p],L=Array.prototype.indexOf.call(T,m,void 0),q;(q=0<=L)&&Array.prototype.splice.call(T,L,1),q&&(Bi(m),u.g[p].length==0&&(delete u.g[p],u.h--))}}function Ma(u,m,p,T){for(var L=0;L<u.length;++L){var q=u[L];if(!q.da&&q.listener==m&&q.capture==!!p&&q.ha==T)return L}return-1}var Na="closure_lm_"+(1e6*Math.random()|0),xs={};function po(u,m,p,T,L){if(Array.isArray(m)){for(var q=0;q<m.length;q++)po(u,m[q],p,T,L);return null}return p=yo(p),u&&u[Re]?u.K(m,p,_(T)?!!T.capture:!1,L):pn(u,m,p,!1,T,L)}function pn(u,m,p,T,L,q){if(!m)throw Error("Invalid event type");var tt=_(L)?!!L.capture:!!L,Vt=Cr(u);if(Vt||(u[Na]=Vt=new ci(u)),p=Vt.add(m,p,T,tt,q),p.proxy)return p;if(T=xc(),p.proxy=T,T.src=u,T.listener=p,u.addEventListener)ft||(L=tt),L===void 0&&(L=!1),u.addEventListener(m.toString(),T,L);else if(u.attachEvent)u.attachEvent(xa(m.toString()),T);else if(u.addListener&&u.removeListener)u.addListener(T);else throw Error("addEventListener and attachEvent are unavailable.");return p}function xc(){function u(p){return m.call(u.src,u.listener,p)}const m=Uc;return u}function Us(u,m,p,T,L){if(Array.isArray(m))for(var q=0;q<m.length;q++)Us(u,m[q],p,T,L);else T=_(T)?!!T.capture:!!T,p=yo(p),u&&u[Re]?(u=u.i,m=String(m).toString(),m in u.g&&(q=u.g[m],p=Ma(q,p,T,L),-1<p&&(Bi(q[p]),Array.prototype.splice.call(q,p,1),q.length==0&&(delete u.g[m],u.h--)))):u&&(u=Cr(u))&&(m=u.g[m.toString()],u=-1,m&&(u=Ma(m,p,T,L)),(p=-1<u?m[u]:null)&&wr(p))}function wr(u){if(typeof u!="number"&&u&&!u.da){var m=u.src;if(m&&m[Re])Oa(m.i,u);else{var p=u.type,T=u.proxy;m.removeEventListener?m.removeEventListener(p,T,u.capture):m.detachEvent?m.detachEvent(xa(p),T):m.addListener&&m.removeListener&&m.removeListener(T),(p=Cr(m))?(Oa(p,u),p.h==0&&(p.src=null,m[Na]=null)):Bi(u)}}}function xa(u){return u in xs?xs[u]:xs[u]="on"+u}function Uc(u,m){if(u.da)u=!0;else{m=new St(m,this);var p=u.listener,T=u.ha||u.src;u.fa&&wr(u),u=p.call(T,m)}return u}function Cr(u){return u=u[Na],u instanceof ci?u:null}var Ls="__closure_events_fn_"+(1e9*Math.random()>>>0);function yo(u){return typeof u=="function"?u:(u[Ls]||(u[Ls]=function(m){return u.handleEvent(m)}),u[Ls])}function ae(){nt.call(this),this.i=new ci(this),this.M=this,this.F=null}J(ae,nt),ae.prototype[Re]=!0,ae.prototype.removeEventListener=function(u,m,p,T){Us(this,u,m,p,T)};function qt(u,m){var p,T=u.F;if(T)for(p=[];T;T=T.F)p.push(T);if(u=u.M,T=m.type||m,typeof m=="string")m=new W(m,u);else if(m instanceof W)m.target=m.target||u;else{var L=m;m=new W(T,u),O(m,L)}if(L=!0,p)for(var q=p.length-1;0<=q;q--){var tt=m.g=p[q];L=rn(tt,T,!0,m)&&L}if(tt=m.g=u,L=rn(tt,T,!0,m)&&L,L=rn(tt,T,!1,m)&&L,p)for(q=0;q<p.length;q++)tt=m.g=p[q],L=rn(tt,T,!1,m)&&L}ae.prototype.N=function(){if(ae.aa.N.call(this),this.i){var u=this.i,m;for(m in u.g){for(var p=u.g[m],T=0;T<p.length;T++)Bi(p[T]);delete u.g[m],u.h--}}this.F=null},ae.prototype.K=function(u,m,p,T){return this.i.add(String(u),m,!1,p,T)},ae.prototype.L=function(u,m,p,T){return this.i.add(String(u),m,!0,p,T)};function rn(u,m,p,T){if(m=u.i.g[String(m)],!m)return!0;m=m.concat();for(var L=!0,q=0;q<m.length;++q){var tt=m[q];if(tt&&!tt.da&&tt.capture==p){var Vt=tt.listener,ve=tt.ha||tt.src;tt.fa&&Oa(u.i,tt),L=Vt.call(ve,T)!==!1&&L}}return L&&!T.defaultPrevented}function qe(u,m,p){if(typeof u=="function")p&&(u=I(u,p));else if(u&&typeof u.handleEvent=="function")u=I(u.handleEvent,u);else throw Error("Invalid listener argument");return 2147483647<Number(m)?-1:g.setTimeout(u,m||0)}function _o(u){u.g=qe(()=>{u.g=null,u.i&&(u.i=!1,_o(u))},u.l);const m=u.h;u.h=null,u.m.apply(null,m)}class Lc extends nt{constructor(m,p){super(),this.m=m,this.l=p,this.h=null,this.i=!1,this.g=null}j(m){this.h=arguments,this.g?this.i=!0:_o(this)}N(){super.N(),this.g&&(g.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Ua(u){nt.call(this),this.h=u,this.g={}}J(Ua,nt);var La=[];function Pa(u){Ut(u.g,function(m,p){this.g.hasOwnProperty(p)&&wr(m)},u),u.g={}}Ua.prototype.N=function(){Ua.aa.N.call(this),Pa(this)},Ua.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Vn=g.JSON.stringify,Dr=g.JSON.parse,za=class{stringify(u){return g.JSON.stringify(u,void 0)}parse(u){return g.JSON.parse(u,void 0)}};function Ps(){}Ps.prototype.h=null;function zs(u){return u.h||(u.h=u.i())}function ks(){}var fi={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function hi(){W.call(this,"d")}J(hi,W);function Bs(){W.call(this,"c")}J(Bs,W);var Bn={},qs=null;function qi(){return qs=qs||new ae}Bn.La="serverreachability";function Ir(u){W.call(this,Bn.La,u)}J(Ir,W);function ji(u){const m=qi();qt(m,new Ir(m))}Bn.STAT_EVENT="statevent";function vo(u,m){W.call(this,Bn.STAT_EVENT,u),this.stat=m}J(vo,W);function Wt(u){const m=qi();qt(m,new vo(m,u))}Bn.Ma="timingevent";function _e(u,m){W.call(this,Bn.Ma,u),this.size=m}J(_e,W);function he(u,m){if(typeof u!="function")throw Error("Fn must not be null and must be a function");return g.setTimeout(function(){u()},m)}function yn(){this.g=!0}yn.prototype.xa=function(){this.g=!1};function js(u,m,p,T,L,q){u.info(function(){if(u.g)if(q)for(var tt="",Vt=q.split("&"),ve=0;ve<Vt.length;ve++){var Ot=Vt[ve].split("=");if(1<Ot.length){var Ce=Ot[0];Ot=Ot[1];var Ee=Ce.split("_");tt=2<=Ee.length&&Ee[1]=="type"?tt+(Ce+"="+Ot+"&"):tt+(Ce+"=redacted&")}}else tt=null;else tt=q;return"XMLHTTP REQ ("+T+") [attempt "+L+"]: "+m+`
`+p+`
`+tt})}function Pc(u,m,p,T,L,q,tt){u.info(function(){return"XMLHTTP RESP ("+T+") [ attempt "+L+"]: "+m+`
`+p+`
`+q+" "+tt})}function Hi(u,m,p,T){u.info(function(){return"XMLHTTP TEXT ("+m+"): "+ka(u,p)+(T?" "+T:"")})}function Eo(u,m){u.info(function(){return"TIMEOUT: "+m})}yn.prototype.info=function(){};function ka(u,m){if(!u.g)return m;if(!m)return null;try{var p=JSON.parse(m);if(p){for(u=0;u<p.length;u++)if(Array.isArray(p[u])){var T=p[u];if(!(2>T.length)){var L=T[1];if(Array.isArray(L)&&!(1>L.length)){var q=L[0];if(q!="noop"&&q!="stop"&&q!="close")for(var tt=1;tt<L.length;tt++)L[tt]=""}}}}return Vn(p)}catch{return m}}var Gi={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},di={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},qn;function jn(){}J(jn,Ps),jn.prototype.g=function(){return new XMLHttpRequest},jn.prototype.i=function(){return{}},qn=new jn;function Ye(u,m,p,T){this.j=u,this.i=m,this.l=p,this.R=T||1,this.U=new Ua(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new le}function le(){this.i=null,this.g="",this.h=!1}var Hs={},Vr={};function On(u,m,p){u.L=1,u.v=Ga(sn(m)),u.m=p,u.P=!0,mi(u,null)}function mi(u,m){u.F=Date.now(),Ba(u),u.A=sn(u.v);var p=u.A,T=u.R;Array.isArray(T)||(T=[String(T)]),Xs(p.i,"t",T),u.C=0,p=u.j.J,u.h=new le,u.g=Lo(u.j,p?m:null,!u.m),0<u.O&&(u.M=new Lc(I(u.Y,u,u.g),u.O)),m=u.U,p=u.g,T=u.ca;var L="readystatechange";Array.isArray(L)||(L&&(La[0]=L.toString()),L=La);for(var q=0;q<L.length;q++){var tt=po(p,L[q],T||m.handleEvent,!1,m.h||m);if(!tt)break;m.g[tt.key]=tt}m=u.H?S(u.H):{},u.m?(u.u||(u.u="POST"),m["Content-Type"]="application/x-www-form-urlencoded",u.g.ea(u.A,u.u,u.m,m)):(u.u="GET",u.g.ea(u.A,u.u,null,m)),ji(),js(u.i,u.u,u.A,u.l,u.R,u.m)}Ye.prototype.ca=function(u){u=u.target;const m=this.M;m&&Tn(u)==3?m.j():this.Y(u)},Ye.prototype.Y=function(u){try{if(u==this.g)t:{const Ee=Tn(this.g);var m=this.g.Ba();const Ai=this.g.Z();if(!(3>Ee)&&(Ee!=3||this.g&&(this.h.h||this.g.oa()||Do(this.g)))){this.J||Ee!=4||m==7||(m==8||0>=Ai?ji(3):ji(2)),Fi(this);var p=this.g.Z();this.X=p;e:if(To(this)){var T=Do(this.g);u="";var L=T.length,q=Tn(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Ne(this),Hn(this);var tt="";break e}this.h.i=new g.TextDecoder}for(m=0;m<L;m++)this.h.h=!0,u+=this.h.i.decode(T[m],{stream:!(q&&m==L-1)});T.length=0,this.h.g+=u,this.C=0,tt=this.h.g}else tt=this.g.oa();if(this.o=p==200,Pc(this.i,this.u,this.A,this.l,this.R,Ee,p),this.o){if(this.T&&!this.K){e:{if(this.g){var Vt,ve=this.g;if((Vt=ve.g?ve.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!ct(Vt)){var Ot=Vt;break e}}Ot=null}if(p=Ot)Hi(this.i,this.l,p,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,qa(this,p);else{this.o=!1,this.s=3,Wt(12),Ne(this),Hn(this);break t}}if(this.P){p=!0;let xe;for(;!this.J&&this.C<tt.length;)if(xe=Ao(this,tt),xe==Vr){Ee==4&&(this.s=4,Wt(14),p=!1),Hi(this.i,this.l,null,"[Incomplete Response]");break}else if(xe==Hs){this.s=4,Wt(15),Hi(this.i,this.l,tt,"[Invalid Chunk]"),p=!1;break}else Hi(this.i,this.l,xe,null),qa(this,xe);if(To(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Ee!=4||tt.length!=0||this.h.h||(this.s=1,Wt(16),p=!1),this.o=this.o&&p,!p)Hi(this.i,this.l,tt,"[Invalid Chunked Response]"),Ne(this),Hn(this);else if(0<tt.length&&!this.W){this.W=!0;var Ce=this.j;Ce.g==this&&Ce.ba&&!Ce.M&&(Ce.j.info("Great, no buffering proxy detected. Bytes received: "+tt.length),Ja(Ce),Ce.M=!0,Wt(11))}}else Hi(this.i,this.l,tt,null),qa(this,tt);Ee==4&&Ne(this),this.o&&!this.J&&(Ee==4?No(this.j,this):(this.o=!1,Ba(this)))}else jc(this.g),p==400&&0<tt.indexOf("Unknown SID")?(this.s=3,Wt(12)):(this.s=0,Wt(13)),Ne(this),Hn(this)}}}catch{}finally{}};function To(u){return u.g?u.u=="GET"&&u.L!=2&&u.j.Ca:!1}function Ao(u,m){var p=u.C,T=m.indexOf(`
`,p);return T==-1?Vr:(p=Number(m.substring(p,T)),isNaN(p)?Hs:(T+=1,T+p>m.length?Vr:(m=m.slice(T,T+p),u.C=T+p,m)))}Ye.prototype.cancel=function(){this.J=!0,Ne(this)};function Ba(u){u.S=Date.now()+u.I,So(u,u.I)}function So(u,m){if(u.B!=null)throw Error("WatchDog timer not null");u.B=he(I(u.ba,u),m)}function Fi(u){u.B&&(g.clearTimeout(u.B),u.B=null)}Ye.prototype.ba=function(){this.B=null;const u=Date.now();0<=u-this.S?(Eo(this.i,this.A),this.L!=2&&(ji(),Wt(17)),Ne(this),this.s=2,Hn(this)):So(this,this.S-u)};function Hn(u){u.j.G==0||u.J||No(u.j,u)}function Ne(u){Fi(u);var m=u.M;m&&typeof m.ma=="function"&&m.ma(),u.M=null,Pa(u.U),u.g&&(m=u.g,u.g=null,m.abort(),m.ma())}function qa(u,m){try{var p=u.j;if(p.G!=0&&(p.g==u||Gs(p.h,u))){if(!u.K&&Gs(p.h,u)&&p.G==3){try{var T=p.Da.g.parse(m)}catch{T=null}if(Array.isArray(T)&&T.length==3){var L=T;if(L[0]==0){t:if(!p.u){if(p.g)if(p.g.F+3e3<u.F)jr(p),Br(p);else break t;tl(p),Wt(18)}}else p.za=L[1],0<p.za-p.T&&37500>L[2]&&p.F&&p.v==0&&!p.C&&(p.C=he(I(p.Za,p),6e3));if(1>=Mr(p.h)&&p.ca){try{p.ca()}catch{}p.ca=void 0}}else Ti(p,11)}else if((u.K||p.g==u)&&jr(p),!ct(m))for(L=p.Da.g.parse(m),m=0;m<L.length;m++){let Ot=L[m];if(p.T=Ot[0],Ot=Ot[1],p.G==2)if(Ot[0]=="c"){p.K=Ot[1],p.ia=Ot[2];const Ce=Ot[3];Ce!=null&&(p.la=Ce,p.j.info("VER="+p.la));const Ee=Ot[4];Ee!=null&&(p.Aa=Ee,p.j.info("SVER="+p.Aa));const Ai=Ot[5];Ai!=null&&typeof Ai=="number"&&0<Ai&&(T=1.5*Ai,p.L=T,p.j.info("backChannelRequestTimeoutMs_="+T)),T=p;const xe=u.g;if(xe){const Zn=xe.g?xe.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Zn){var q=T.h;q.g||Zn.indexOf("spdy")==-1&&Zn.indexOf("quic")==-1&&Zn.indexOf("h2")==-1||(q.j=q.l,q.g=new Set,q.h&&(Nr(q,q.h),q.h=null))}if(T.D){const nl=xe.g?xe.g.getResponseHeader("X-HTTP-Session-Id"):null;nl&&(T.ya=nl,Gt(T.I,T.D,nl))}}p.G=3,p.l&&p.l.ua(),p.ba&&(p.R=Date.now()-u.F,p.j.info("Handshake RTT: "+p.R+"ms")),T=p;var tt=u;if(T.qa=Uo(T,T.J?T.ia:null,T.W),tt.K){Ke(T.h,tt);var Vt=tt,ve=T.L;ve&&(Vt.I=ve),Vt.B&&(Fi(Vt),Ba(Vt)),T.g=tt}else Oo(T);0<p.i.length&&qr(p)}else Ot[0]!="stop"&&Ot[0]!="close"||Ti(p,7);else p.G==3&&(Ot[0]=="stop"||Ot[0]=="close"?Ot[0]=="stop"?Ti(p,7):Js(p):Ot[0]!="noop"&&p.l&&p.l.ta(Ot),p.v=0)}}ji(4)}catch{}}var bo=class{constructor(u,m){this.g=u,this.map=m}};function gi(u){this.l=u||10,g.PerformanceNavigationTiming?(u=g.performance.getEntriesByType("navigation"),u=0<u.length&&(u[0].nextHopProtocol=="hq"||u[0].nextHopProtocol=="h2")):u=!!(g.chrome&&g.chrome.loadTimes&&g.chrome.loadTimes()&&g.chrome.loadTimes().wasFetchedViaSpdy),this.j=u?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function Or(u){return u.h?!0:u.g?u.g.size>=u.j:!1}function Mr(u){return u.h?1:u.g?u.g.size:0}function Gs(u,m){return u.h?u.h==m:u.g?u.g.has(m):!1}function Nr(u,m){u.g?u.g.add(m):u.h=m}function Ke(u,m){u.h&&u.h==m?u.h=null:u.g&&u.g.has(m)&&u.g.delete(m)}gi.prototype.cancel=function(){if(this.i=Fs(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const u of this.g.values())u.cancel();this.g.clear()}};function Fs(u){if(u.h!=null)return u.i.concat(u.h.D);if(u.g!=null&&u.g.size!==0){let m=u.i;for(const p of u.g.values())m=m.concat(p.D);return m}return $(u.i)}function zc(u){if(u.V&&typeof u.V=="function")return u.V();if(typeof Map<"u"&&u instanceof Map||typeof Set<"u"&&u instanceof Set)return Array.from(u.values());if(typeof u=="string")return u.split("");if(v(u)){for(var m=[],p=u.length,T=0;T<p;T++)m.push(u[T]);return m}m=[],p=0;for(T in u)m[p++]=u[T];return m}function xr(u){if(u.na&&typeof u.na=="function")return u.na();if(!u.V||typeof u.V!="function"){if(typeof Map<"u"&&u instanceof Map)return Array.from(u.keys());if(!(typeof Set<"u"&&u instanceof Set)){if(v(u)||typeof u=="string"){var m=[];u=u.length;for(var p=0;p<u;p++)m.push(p);return m}m=[],p=0;for(const T in u)m[p++]=T;return m}}}function Qs(u,m){if(u.forEach&&typeof u.forEach=="function")u.forEach(m,void 0);else if(v(u)||typeof u=="string")Array.prototype.forEach.call(u,m,void 0);else for(var p=xr(u),T=zc(u),L=T.length,q=0;q<L;q++)m.call(void 0,T[q],p&&p[q],u)}var ja=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function kc(u,m){if(u){u=u.split("&");for(var p=0;p<u.length;p++){var T=u[p].indexOf("="),L=null;if(0<=T){var q=u[p].substring(0,T);L=u[p].substring(T+1)}else q=u[p];m(q,L?decodeURIComponent(L.replace(/\+/g," ")):"")}}}function de(u){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,u instanceof de){this.h=u.h,Ha(this,u.j),this.o=u.o,this.g=u.g,Qi(this,u.s),this.l=u.l;var m=u.i,p=new yi;p.i=m.i,m.g&&(p.g=new Map(m.g),p.h=m.h),pi(this,p),this.m=u.m}else u&&(m=String(u).match(ja))?(this.h=!1,Ha(this,m[1]||"",!0),this.o=_n(m[2]||""),this.g=_n(m[3]||"",!0),Qi(this,m[4]),this.l=_n(m[5]||"",!0),pi(this,m[6]||"",!0),this.m=_n(m[7]||"")):(this.h=!1,this.i=new yi(null,this.h))}de.prototype.toString=function(){var u=[],m=this.j;m&&u.push(Fa(m,Ys,!0),":");var p=this.g;return(p||m=="file")&&(u.push("//"),(m=this.o)&&u.push(Fa(m,Ys,!0),"@"),u.push(encodeURIComponent(String(p)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),p=this.s,p!=null&&u.push(":",String(p))),(p=this.l)&&(this.g&&p.charAt(0)!="/"&&u.push("/"),u.push(Fa(p,p.charAt(0)=="/"?Bc:Ks,!0))),(p=this.i.toString())&&u.push("?",p),(p=this.m)&&u.push("#",Fa(p,Ur)),u.join("")};function sn(u){return new de(u)}function Ha(u,m,p){u.j=p?_n(m,!0):m,u.j&&(u.j=u.j.replace(/:$/,""))}function Qi(u,m){if(m){if(m=Number(m),isNaN(m)||0>m)throw Error("Bad port number "+m);u.s=m}else u.s=null}function pi(u,m,p){m instanceof yi?(u.i=m,wo(u.i,u.h)):(p||(m=Fa(m,qc)),u.i=new yi(m,u.h))}function Gt(u,m,p){u.i.set(m,p)}function Ga(u){return Gt(u,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),u}function _n(u,m){return u?m?decodeURI(u.replace(/%25/g,"%2525")):decodeURIComponent(u):""}function Fa(u,m,p){return typeof u=="string"?(u=encodeURI(u).replace(m,Ro),p&&(u=u.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),u):null}function Ro(u){return u=u.charCodeAt(0),"%"+(u>>4&15).toString(16)+(u&15).toString(16)}var Ys=/[#\/\?@]/g,Ks=/[#\?:]/g,Bc=/[#\?]/g,qc=/[#\?@]/g,Ur=/#/g;function yi(u,m){this.h=this.g=null,this.i=u||null,this.j=!!m}function vn(u){u.g||(u.g=new Map,u.h=0,u.i&&kc(u.i,function(m,p){u.add(decodeURIComponent(m.replace(/\+/g," ")),p)}))}r=yi.prototype,r.add=function(u,m){vn(this),this.i=null,u=Gn(this,u);var p=this.g.get(u);return p||this.g.set(u,p=[]),p.push(m),this.h+=1,this};function _i(u,m){vn(u),m=Gn(u,m),u.g.has(m)&&(u.i=null,u.h-=u.g.get(m).length,u.g.delete(m))}function vi(u,m){return vn(u),m=Gn(u,m),u.g.has(m)}r.forEach=function(u,m){vn(this),this.g.forEach(function(p,T){p.forEach(function(L){u.call(m,L,T,this)},this)},this)},r.na=function(){vn(this);const u=Array.from(this.g.values()),m=Array.from(this.g.keys()),p=[];for(let T=0;T<m.length;T++){const L=u[T];for(let q=0;q<L.length;q++)p.push(m[T])}return p},r.V=function(u){vn(this);let m=[];if(typeof u=="string")vi(this,u)&&(m=m.concat(this.g.get(Gn(this,u))));else{u=Array.from(this.g.values());for(let p=0;p<u.length;p++)m=m.concat(u[p])}return m},r.set=function(u,m){return vn(this),this.i=null,u=Gn(this,u),vi(this,u)&&(this.h-=this.g.get(u).length),this.g.set(u,[m]),this.h+=1,this},r.get=function(u,m){return u?(u=this.V(u),0<u.length?String(u[0]):m):m};function Xs(u,m,p){_i(u,m),0<p.length&&(u.i=null,u.g.set(Gn(u,m),$(p)),u.h+=p.length)}r.toString=function(){if(this.i)return this.i;if(!this.g)return"";const u=[],m=Array.from(this.g.keys());for(var p=0;p<m.length;p++){var T=m[p];const q=encodeURIComponent(String(T)),tt=this.V(T);for(T=0;T<tt.length;T++){var L=q;tt[T]!==""&&(L+="="+encodeURIComponent(String(tt[T]))),u.push(L)}}return this.i=u.join("&")};function Gn(u,m){return m=String(m),u.j&&(m=m.toLowerCase()),m}function wo(u,m){m&&!u.j&&(vn(u),u.i=null,u.g.forEach(function(p,T){var L=T.toLowerCase();T!=L&&(_i(this,T),Xs(this,L,p))},u)),u.j=m}function Qa(u,m){const p=new yn;if(g.Image){const T=new Image;T.onload=G(En,p,"TestLoadImage: loaded",!0,m,T),T.onerror=G(En,p,"TestLoadImage: error",!1,m,T),T.onabort=G(En,p,"TestLoadImage: abort",!1,m,T),T.ontimeout=G(En,p,"TestLoadImage: timeout",!1,m,T),g.setTimeout(function(){T.ontimeout&&T.ontimeout()},1e4),T.src=u}else m(!1)}function Mn(u,m){const p=new yn,T=new AbortController,L=setTimeout(()=>{T.abort(),En(p,"TestPingServer: timeout",!1,m)},1e4);fetch(u,{signal:T.signal}).then(q=>{clearTimeout(L),q.ok?En(p,"TestPingServer: ok",!0,m):En(p,"TestPingServer: server error",!1,m)}).catch(()=>{clearTimeout(L),En(p,"TestPingServer: error",!1,m)})}function En(u,m,p,T,L){try{L&&(L.onload=null,L.onerror=null,L.onabort=null,L.ontimeout=null),T(p)}catch{}}function Ya(){this.g=new za}function Fn(u,m,p){const T=p||"";try{Qs(u,function(L,q){let tt=L;_(L)&&(tt=Vn(L)),m.push(T+q+"="+encodeURIComponent(tt))})}catch(L){throw m.push(T+"type="+encodeURIComponent("_badmap")),L}}function Yi(u){this.l=u.Ub||null,this.j=u.eb||!1}J(Yi,Ps),Yi.prototype.g=function(){return new Ei(this.l,this.j)},Yi.prototype.i=(function(u){return function(){return u}})({});function Ei(u,m){ae.call(this),this.D=u,this.o=m,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}J(Ei,ae),r=Ei.prototype,r.open=function(u,m){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=u,this.A=m,this.readyState=1,Yn(this)},r.send=function(u){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const m={headers:this.u,method:this.B,credentials:this.m,cache:void 0};u&&(m.body=u),(this.D||g).fetch(new Request(this.A,m)).then(this.Sa.bind(this),this.ga.bind(this))},r.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Qn(this)),this.readyState=0},r.Sa=function(u){if(this.g&&(this.l=u,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=u.headers,this.readyState=2,Yn(this)),this.g&&(this.readyState=3,Yn(this),this.g)))if(this.responseType==="arraybuffer")u.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof g.ReadableStream<"u"&&"body"in u){if(this.j=u.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;Zs(this)}else u.text().then(this.Ra.bind(this),this.ga.bind(this))};function Zs(u){u.j.read().then(u.Pa.bind(u)).catch(u.ga.bind(u))}r.Pa=function(u){if(this.g){if(this.o&&u.value)this.response.push(u.value);else if(!this.o){var m=u.value?u.value:new Uint8Array(0);(m=this.v.decode(m,{stream:!u.done}))&&(this.response=this.responseText+=m)}u.done?Qn(this):Yn(this),this.readyState==3&&Zs(this)}},r.Ra=function(u){this.g&&(this.response=this.responseText=u,Qn(this))},r.Qa=function(u){this.g&&(this.response=u,Qn(this))},r.ga=function(){this.g&&Qn(this)};function Qn(u){u.readyState=4,u.l=null,u.j=null,u.v=null,Yn(u)}r.setRequestHeader=function(u,m){this.u.append(u,m)},r.getResponseHeader=function(u){return this.h&&this.h.get(u.toLowerCase())||""},r.getAllResponseHeaders=function(){if(!this.h)return"";const u=[],m=this.h.entries();for(var p=m.next();!p.done;)p=p.value,u.push(p[0]+": "+p[1]),p=m.next();return u.join(`\r
`)};function Yn(u){u.onreadystatechange&&u.onreadystatechange.call(u)}Object.defineProperty(Ei.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(u){this.m=u?"include":"same-origin"}});function $s(u){let m="";return Ut(u,function(p,T){m+=T,m+=":",m+=p,m+=`\r
`}),m}function we(u,m,p){t:{for(T in p){var T=!1;break t}T=!0}T||(p=$s(p),typeof u=="string"?p!=null&&encodeURIComponent(String(p)):Gt(u,m,p))}function kt(u){ae.call(this),this.headers=new Map,this.o=u||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}J(kt,ae);var Lr=/^https?$/i,Ka=["POST","PUT"];r=kt.prototype,r.Ha=function(u){this.J=u},r.ea=function(u,m,p,T){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+u);m=m?m.toUpperCase():"GET",this.D=u,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():qn.g(),this.v=this.o?zs(this.o):zs(qn),this.g.onreadystatechange=I(this.Ea,this);try{this.B=!0,this.g.open(m,String(u),!0),this.B=!1}catch(q){Co(this,q);return}if(u=p||"",p=new Map(this.headers),T)if(Object.getPrototypeOf(T)===Object.prototype)for(var L in T)p.set(L,T[L]);else if(typeof T.keys=="function"&&typeof T.get=="function")for(const q of T.keys())p.set(q,T.get(q));else throw Error("Unknown input type for opt_headers: "+String(T));T=Array.from(p.keys()).find(q=>q.toLowerCase()=="content-type"),L=g.FormData&&u instanceof g.FormData,!(0<=Array.prototype.indexOf.call(Ka,m,void 0))||T||L||p.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[q,tt]of p)this.g.setRequestHeader(q,tt);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{Xa(this),this.u=!0,this.g.send(u),this.u=!1}catch(q){Co(this,q)}};function Co(u,m){u.h=!1,u.g&&(u.j=!0,u.g.abort(),u.j=!1),u.l=m,u.m=5,Pr(u),Kn(u)}function Pr(u){u.A||(u.A=!0,qt(u,"complete"),qt(u,"error"))}r.abort=function(u){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=u||7,qt(this,"complete"),qt(this,"abort"),Kn(this))},r.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Kn(this,!0)),kt.aa.N.call(this)},r.Ea=function(){this.s||(this.B||this.u||this.j?zr(this):this.bb())},r.bb=function(){zr(this)};function zr(u){if(u.h&&typeof d<"u"&&(!u.v[1]||Tn(u)!=4||u.Z()!=2)){if(u.u&&Tn(u)==4)qe(u.Ea,0,u);else if(qt(u,"readystatechange"),Tn(u)==4){u.h=!1;try{const tt=u.Z();t:switch(tt){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var m=!0;break t;default:m=!1}var p;if(!(p=m)){var T;if(T=tt===0){var L=String(u.D).match(ja)[1]||null;!L&&g.self&&g.self.location&&(L=g.self.location.protocol.slice(0,-1)),T=!Lr.test(L?L.toLowerCase():"")}p=T}if(p)qt(u,"complete"),qt(u,"success");else{u.m=6;try{var q=2<Tn(u)?u.g.statusText:""}catch{q=""}u.l=q+" ["+u.Z()+"]",Pr(u)}}finally{Kn(u)}}}}function Kn(u,m){if(u.g){Xa(u);const p=u.g,T=u.v[0]?()=>{}:null;u.g=null,u.v=null,m||qt(u,"ready");try{p.onreadystatechange=T}catch{}}}function Xa(u){u.I&&(g.clearTimeout(u.I),u.I=null)}r.isActive=function(){return!!this.g};function Tn(u){return u.g?u.g.readyState:0}r.Z=function(){try{return 2<Tn(this)?this.g.status:-1}catch{return-1}},r.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},r.Oa=function(u){if(this.g){var m=this.g.responseText;return u&&m.indexOf(u)==0&&(m=m.substring(u.length)),Dr(m)}};function Do(u){try{if(!u.g)return null;if("response"in u.g)return u.g.response;switch(u.H){case"":case"text":return u.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in u.g)return u.g.mozResponseArrayBuffer}return null}catch{return null}}function jc(u){const m={};u=(u.g&&2<=Tn(u)&&u.g.getAllResponseHeaders()||"").split(`\r
`);for(let T=0;T<u.length;T++){if(ct(u[T]))continue;var p=M(u[T]);const L=p[0];if(p=p[1],typeof p!="string")continue;p=p.trim();const q=m[L]||[];m[L]=q,q.push(p)}N(m,function(T){return T.join(", ")})}r.Ba=function(){return this.m},r.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function Za(u,m,p){return p&&p.internalChannelParams&&p.internalChannelParams[u]||m}function kr(u){this.Aa=0,this.i=[],this.j=new yn,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Za("failFast",!1,u),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Za("baseRetryDelayMs",5e3,u),this.cb=Za("retryDelaySeedMs",1e4,u),this.Wa=Za("forwardChannelMaxRetries",2,u),this.wa=Za("forwardChannelRequestTimeoutMs",2e4,u),this.pa=u&&u.xmlHttpFactory||void 0,this.Xa=u&&u.Tb||void 0,this.Ca=u&&u.useFetchStreams||!1,this.L=void 0,this.J=u&&u.supportsCrossDomainXhr||!1,this.K="",this.h=new gi(u&&u.concurrentRequestLimit),this.Da=new Ya,this.P=u&&u.fastHandshake||!1,this.O=u&&u.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=u&&u.Rb||!1,u&&u.xa&&this.j.xa(),u&&u.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&u&&u.detectBufferingProxy||!1,this.ja=void 0,u&&u.longPollingTimeout&&0<u.longPollingTimeout&&(this.ja=u.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}r=kr.prototype,r.la=8,r.G=1,r.connect=function(u,m,p,T){Wt(0),this.W=u,this.H=m||{},p&&T!==void 0&&(this.H.OSID=p,this.H.OAID=T),this.F=this.X,this.I=Uo(this,null,this.W),qr(this)};function Js(u){if(Io(u),u.G==3){var m=u.U++,p=sn(u.I);if(Gt(p,"SID",u.K),Gt(p,"RID",m),Gt(p,"TYPE","terminate"),$a(u,p),m=new Ye(u,u.j,m),m.L=2,m.v=Ga(sn(p)),p=!1,g.navigator&&g.navigator.sendBeacon)try{p=g.navigator.sendBeacon(m.v.toString(),"")}catch{}!p&&g.Image&&(new Image().src=m.v,p=!0),p||(m.g=Lo(m.j,null),m.g.ea(m.v)),m.F=Date.now(),Ba(m)}xo(u)}function Br(u){u.g&&(Ja(u),u.g.cancel(),u.g=null)}function Io(u){Br(u),u.u&&(g.clearTimeout(u.u),u.u=null),jr(u),u.h.cancel(),u.s&&(typeof u.s=="number"&&g.clearTimeout(u.s),u.s=null)}function qr(u){if(!Or(u.h)&&!u.s){u.s=!0;var m=u.Ga;et||C(),ut||(et(),ut=!0),Pt.add(m,u),u.B=0}}function Hc(u,m){return Mr(u.h)>=u.h.j-(u.s?1:0)?!1:u.s?(u.i=m.D.concat(u.i),!0):u.G==1||u.G==2||u.B>=(u.Va?0:u.Wa)?!1:(u.s=he(I(u.Ga,u,m),el(u,u.B)),u.B++,!0)}r.Ga=function(u){if(this.s)if(this.s=null,this.G==1){if(!u){this.U=Math.floor(1e5*Math.random()),u=this.U++;const L=new Ye(this,this.j,u);let q=this.o;if(this.S&&(q?(q=S(q),O(q,this.S)):q=this.S),this.m!==null||this.O||(L.H=q,q=null),this.P)t:{for(var m=0,p=0;p<this.i.length;p++){e:{var T=this.i[p];if("__data__"in T.map&&(T=T.map.__data__,typeof T=="string")){T=T.length;break e}T=void 0}if(T===void 0)break;if(m+=T,4096<m){m=p;break t}if(m===4096||p===this.i.length-1){m=p+1;break t}}m=1e3}else m=1e3;m=Vo(this,L,m),p=sn(this.I),Gt(p,"RID",u),Gt(p,"CVER",22),this.D&&Gt(p,"X-HTTP-Session-Id",this.D),$a(this,p),q&&(this.O?m="headers="+encodeURIComponent(String($s(q)))+"&"+m:this.m&&we(p,this.m,q)),Nr(this.h,L),this.Ua&&Gt(p,"TYPE","init"),this.P?(Gt(p,"$req",m),Gt(p,"SID","null"),L.T=!0,On(L,p,null)):On(L,p,m),this.G=2}}else this.G==3&&(u?Ws(this,u):this.i.length==0||Or(this.h)||Ws(this))};function Ws(u,m){var p;m?p=m.l:p=u.U++;const T=sn(u.I);Gt(T,"SID",u.K),Gt(T,"RID",p),Gt(T,"AID",u.T),$a(u,T),u.m&&u.o&&we(T,u.m,u.o),p=new Ye(u,u.j,p,u.B+1),u.m===null&&(p.H=u.o),m&&(u.i=m.D.concat(u.i)),m=Vo(u,p,1e3),p.I=Math.round(.5*u.wa)+Math.round(.5*u.wa*Math.random()),Nr(u.h,p),On(p,T,m)}function $a(u,m){u.H&&Ut(u.H,function(p,T){Gt(m,T,p)}),u.l&&Qs({},function(p,T){Gt(m,T,p)})}function Vo(u,m,p){p=Math.min(u.i.length,p);var T=u.l?I(u.l.Na,u.l,u):null;t:{var L=u.i;let q=-1;for(;;){const tt=["count="+p];q==-1?0<p?(q=L[0].g,tt.push("ofs="+q)):q=0:tt.push("ofs="+q);let Vt=!0;for(let ve=0;ve<p;ve++){let Ot=L[ve].g;const Ce=L[ve].map;if(Ot-=q,0>Ot)q=Math.max(0,L[ve].g-100),Vt=!1;else try{Fn(Ce,tt,"req"+Ot+"_")}catch{T&&T(Ce)}}if(Vt){T=tt.join("&");break t}}}return u=u.i.splice(0,p),m.D=u,T}function Oo(u){if(!u.g&&!u.u){u.Y=1;var m=u.Fa;et||C(),ut||(et(),ut=!0),Pt.add(m,u),u.v=0}}function tl(u){return u.g||u.u||3<=u.v?!1:(u.Y++,u.u=he(I(u.Fa,u),el(u,u.v)),u.v++,!0)}r.Fa=function(){if(this.u=null,Mo(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var u=2*this.R;this.j.info("BP detection timer enabled: "+u),this.A=he(I(this.ab,this),u)}},r.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,Wt(10),Br(this),Mo(this))};function Ja(u){u.A!=null&&(g.clearTimeout(u.A),u.A=null)}function Mo(u){u.g=new Ye(u,u.j,"rpc",u.Y),u.m===null&&(u.g.H=u.o),u.g.O=0;var m=sn(u.qa);Gt(m,"RID","rpc"),Gt(m,"SID",u.K),Gt(m,"AID",u.T),Gt(m,"CI",u.F?"0":"1"),!u.F&&u.ja&&Gt(m,"TO",u.ja),Gt(m,"TYPE","xmlhttp"),$a(u,m),u.m&&u.o&&we(m,u.m,u.o),u.L&&(u.g.I=u.L);var p=u.g;u=u.ia,p.L=1,p.v=Ga(sn(m)),p.m=null,p.P=!0,mi(p,u)}r.Za=function(){this.C!=null&&(this.C=null,Br(this),tl(this),Wt(19))};function jr(u){u.C!=null&&(g.clearTimeout(u.C),u.C=null)}function No(u,m){var p=null;if(u.g==m){jr(u),Ja(u),u.g=null;var T=2}else if(Gs(u.h,m))p=m.D,Ke(u.h,m),T=1;else return;if(u.G!=0){if(m.o)if(T==1){p=m.m?m.m.length:0,m=Date.now()-m.F;var L=u.B;T=qi(),qt(T,new _e(T,p)),qr(u)}else Oo(u);else if(L=m.s,L==3||L==0&&0<m.X||!(T==1&&Hc(u,m)||T==2&&tl(u)))switch(p&&0<p.length&&(m=u.h,m.i=m.i.concat(p)),L){case 1:Ti(u,5);break;case 4:Ti(u,10);break;case 3:Ti(u,6);break;default:Ti(u,2)}}}function el(u,m){let p=u.Ta+Math.floor(Math.random()*u.cb);return u.isActive()||(p*=2),p*m}function Ti(u,m){if(u.j.info("Error code "+m),m==2){var p=I(u.fb,u),T=u.Xa;const L=!T;T=new de(T||"//www.google.com/images/cleardot.gif"),g.location&&g.location.protocol=="http"||Ha(T,"https"),Ga(T),L?Qa(T.toString(),p):Mn(T.toString(),p)}else Wt(2);u.G=0,u.l&&u.l.sa(m),xo(u),Io(u)}r.fb=function(u){u?(this.j.info("Successfully pinged google.com"),Wt(2)):(this.j.info("Failed to ping google.com"),Wt(1))};function xo(u){if(u.G=0,u.ka=[],u.l){const m=Fs(u.h);(m.length!=0||u.i.length!=0)&&(Z(u.ka,m),Z(u.ka,u.i),u.h.i.length=0,$(u.i),u.i.length=0),u.l.ra()}}function Uo(u,m,p){var T=p instanceof de?sn(p):new de(p);if(T.g!="")m&&(T.g=m+"."+T.g),Qi(T,T.s);else{var L=g.location;T=L.protocol,m=m?m+"."+L.hostname:L.hostname,L=+L.port;var q=new de(null);T&&Ha(q,T),m&&(q.g=m),L&&Qi(q,L),p&&(q.l=p),T=q}return p=u.D,m=u.ya,p&&m&&Gt(T,p,m),Gt(T,"VER",u.la),$a(u,T),T}function Lo(u,m,p){if(m&&!u.J)throw Error("Can't create secondary domain capable XhrIo object.");return m=u.Ca&&!u.pa?new kt(new Yi({eb:p})):new kt(u.pa),m.Ha(u.J),m}r.isActive=function(){return!!this.l&&this.l.isActive(this)};function Po(){}r=Po.prototype,r.ua=function(){},r.ta=function(){},r.sa=function(){},r.ra=function(){},r.isActive=function(){return!0},r.Na=function(){};function Hr(){}Hr.prototype.g=function(u,m){return new Xe(u,m)};function Xe(u,m){ae.call(this),this.g=new kr(m),this.l=u,this.h=m&&m.messageUrlParams||null,u=m&&m.messageHeaders||null,m&&m.clientProtocolHeaderRequired&&(u?u["X-Client-Protocol"]="webchannel":u={"X-Client-Protocol":"webchannel"}),this.g.o=u,u=m&&m.initMessageHeaders||null,m&&m.messageContentType&&(u?u["X-WebChannel-Content-Type"]=m.messageContentType:u={"X-WebChannel-Content-Type":m.messageContentType}),m&&m.va&&(u?u["X-WebChannel-Client-Profile"]=m.va:u={"X-WebChannel-Client-Profile":m.va}),this.g.S=u,(u=m&&m.Sb)&&!ct(u)&&(this.g.m=u),this.v=m&&m.supportsCrossDomainXhr||!1,this.u=m&&m.sendRawJson||!1,(m=m&&m.httpSessionIdParam)&&!ct(m)&&(this.g.D=m,u=this.h,u!==null&&m in u&&(u=this.h,m in u&&delete u[m])),this.j=new Xn(this)}J(Xe,ae),Xe.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},Xe.prototype.close=function(){Js(this.g)},Xe.prototype.o=function(u){var m=this.g;if(typeof u=="string"){var p={};p.__data__=u,u=p}else this.u&&(p={},p.__data__=Vn(u),u=p);m.i.push(new bo(m.Ya++,u)),m.G==3&&qr(m)},Xe.prototype.N=function(){this.g.l=null,delete this.j,Js(this.g),delete this.g,Xe.aa.N.call(this)};function zo(u){hi.call(this),u.__headers__&&(this.headers=u.__headers__,this.statusCode=u.__status__,delete u.__headers__,delete u.__status__);var m=u.__sm__;if(m){t:{for(const p in m){u=p;break t}u=void 0}(this.i=u)&&(u=this.i,m=m!==null&&u in m?m[u]:void 0),this.data=m}else this.data=u}J(zo,hi);function ko(){Bs.call(this),this.status=1}J(ko,Bs);function Xn(u){this.g=u}J(Xn,Po),Xn.prototype.ua=function(){qt(this.g,"a")},Xn.prototype.ta=function(u){qt(this.g,new zo(u))},Xn.prototype.sa=function(u){qt(this.g,new ko)},Xn.prototype.ra=function(){qt(this.g,"b")},Hr.prototype.createWebChannel=Hr.prototype.g,Xe.prototype.send=Xe.prototype.o,Xe.prototype.open=Xe.prototype.m,Xe.prototype.close=Xe.prototype.close,gv=function(){return new Hr},mv=function(){return qi()},dv=Bn,ad={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},Gi.NO_ERROR=0,Gi.TIMEOUT=8,Gi.HTTP_ERROR=6,Fu=Gi,di.COMPLETE="complete",hv=di,ks.EventType=fi,fi.OPEN="a",fi.CLOSE="b",fi.ERROR="c",fi.MESSAGE="d",ae.prototype.listen=ae.prototype.K,Gl=ks,kt.prototype.listenOnce=kt.prototype.L,kt.prototype.getLastError=kt.prototype.Ka,kt.prototype.getLastErrorCode=kt.prototype.Ba,kt.prototype.getStatus=kt.prototype.Z,kt.prototype.getResponseJson=kt.prototype.Oa,kt.prototype.getResponseText=kt.prototype.oa,kt.prototype.send=kt.prototype.ea,kt.prototype.setWithCredentials=kt.prototype.Ha,fv=kt}).apply(typeof Bu<"u"?Bu:typeof self<"u"?self:typeof window<"u"?window:{});const Fy="@firebase/firestore",Qy="4.9.1";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fe{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Fe.UNAUTHENTICATED=new Fe(null),Fe.GOOGLE_CREDENTIALS=new Fe("google-credentials-uid"),Fe.FIRST_PARTY=new Fe("first-party-uid"),Fe.MOCK_USER=new Fe("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Vs="12.2.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vr=new wd("@firebase/firestore");function _s(){return vr.logLevel}function it(r,...e){if(vr.logLevel<=xt.DEBUG){const i=e.map(Dd);vr.debug(`Firestore (${Vs}): ${r}`,...i)}}function zi(r,...e){if(vr.logLevel<=xt.ERROR){const i=e.map(Dd);vr.error(`Firestore (${Vs}): ${r}`,...i)}}function bs(r,...e){if(vr.logLevel<=xt.WARN){const i=e.map(Dd);vr.warn(`Firestore (${Vs}): ${r}`,...i)}}function Dd(r){if(typeof r=="string")return r;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return(function(i){return JSON.stringify(i)})(r)}catch{return r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pt(r,e,i){let s="Unexpected state";typeof e=="string"?s=e:i=e,pv(r,s,i)}function pv(r,e,i){let s=`FIRESTORE (${Vs}) INTERNAL ASSERTION FAILED: ${e} (ID: ${r.toString(16)})`;if(i!==void 0)try{s+=" CONTEXT: "+JSON.stringify(i)}catch{s+=" CONTEXT: "+i}throw zi(s),new Error(s)}function Bt(r,e,i,s){let o="Unexpected state";typeof i=="string"?o=i:s=i,r||pv(e,o,s)}function Et(r,e){return r}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const K={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class rt extends Da{constructor(e,i){super(e,i),this.code=e,this.message=i,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class va{constructor(){this.promise=new Promise(((e,i)=>{this.resolve=e,this.reject=i}))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yv{constructor(e,i){this.user=i,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class kA{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,i){e.enqueueRetryable((()=>i(Fe.UNAUTHENTICATED)))}shutdown(){}}class BA{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,i){this.changeListener=i,e.enqueueRetryable((()=>i(this.token.user)))}shutdown(){this.changeListener=null}}class qA{constructor(e){this.t=e,this.currentUser=Fe.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,i){Bt(this.o===void 0,42304);let s=this.i;const o=v=>this.i!==s?(s=this.i,i(v)):Promise.resolve();let f=new va;this.o=()=>{this.i++,this.currentUser=this.u(),f.resolve(),f=new va,e.enqueueRetryable((()=>o(this.currentUser)))};const d=()=>{const v=f;e.enqueueRetryable((async()=>{await v.promise,await o(this.currentUser)}))},g=v=>{it("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=v,this.o&&(this.auth.addAuthTokenListener(this.o),d())};this.t.onInit((v=>g(v))),setTimeout((()=>{if(!this.auth){const v=this.t.getImmediate({optional:!0});v?g(v):(it("FirebaseAuthCredentialsProvider","Auth not yet detected"),f.resolve(),f=new va)}}),0),d()}getToken(){const e=this.i,i=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(i).then((s=>this.i!==e?(it("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):s?(Bt(typeof s.accessToken=="string",31837,{l:s}),new yv(s.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Bt(e===null||typeof e=="string",2055,{h:e}),new Fe(e)}}class jA{constructor(e,i,s){this.P=e,this.T=i,this.I=s,this.type="FirstParty",this.user=Fe.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class HA{constructor(e,i,s){this.P=e,this.T=i,this.I=s}getToken(){return Promise.resolve(new jA(this.P,this.T,this.I))}start(e,i){e.enqueueRetryable((()=>i(Fe.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class Yy{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class GA{constructor(e,i){this.V=i,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,SA(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,i){Bt(this.o===void 0,3512);const s=f=>{f.error!=null&&it("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${f.error.message}`);const d=f.token!==this.m;return this.m=f.token,it("FirebaseAppCheckTokenProvider",`Received ${d?"new":"existing"} token.`),d?i(f.token):Promise.resolve()};this.o=f=>{e.enqueueRetryable((()=>s(f)))};const o=f=>{it("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=f,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((f=>o(f))),setTimeout((()=>{if(!this.appCheck){const f=this.V.getImmediate({optional:!0});f?o(f):it("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new Yy(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((i=>i?(Bt(typeof i.token=="string",44558,{tokenResult:i}),this.m=i.token,new Yy(i.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function FA(r){const e=typeof self<"u"&&(self.crypto||self.msCrypto),i=new Uint8Array(r);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(i);else for(let s=0;s<r;s++)i[s]=Math.floor(256*Math.random());return i}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Id{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",i=62*Math.floor(4.129032258064516);let s="";for(;s.length<20;){const o=FA(40);for(let f=0;f<o.length;++f)s.length<20&&o[f]<i&&(s+=e.charAt(o[f]%62))}return s}}function Dt(r,e){return r<e?-1:r>e?1:0}function rd(r,e){const i=Math.min(r.length,e.length);for(let s=0;s<i;s++){const o=r.charAt(s),f=e.charAt(s);if(o!==f)return Fh(o)===Fh(f)?Dt(o,f):Fh(o)?1:-1}return Dt(r.length,e.length)}const QA=55296,YA=57343;function Fh(r){const e=r.charCodeAt(0);return e>=QA&&e<=YA}function Rs(r,e,i){return r.length===e.length&&r.every(((s,o)=>i(s,e[o])))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ky="__name__";class ni{constructor(e,i,s){i===void 0?i=0:i>e.length&&pt(637,{offset:i,range:e.length}),s===void 0?s=e.length-i:s>e.length-i&&pt(1746,{length:s,range:e.length-i}),this.segments=e,this.offset=i,this.len=s}get length(){return this.len}isEqual(e){return ni.comparator(this,e)===0}child(e){const i=this.segments.slice(this.offset,this.limit());return e instanceof ni?e.forEach((s=>{i.push(s)})):i.push(e),this.construct(i)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let i=0;i<this.length;i++)if(this.get(i)!==e.get(i))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let i=0;i<this.length;i++)if(this.get(i)!==e.get(i))return!1;return!0}forEach(e){for(let i=this.offset,s=this.limit();i<s;i++)e(this.segments[i])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,i){const s=Math.min(e.length,i.length);for(let o=0;o<s;o++){const f=ni.compareSegments(e.get(o),i.get(o));if(f!==0)return f}return Dt(e.length,i.length)}static compareSegments(e,i){const s=ni.isNumericId(e),o=ni.isNumericId(i);return s&&!o?-1:!s&&o?1:s&&o?ni.extractNumericId(e).compare(ni.extractNumericId(i)):rd(e,i)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return _a.fromString(e.substring(4,e.length-2))}}class $t extends ni{construct(e,i,s){return new $t(e,i,s)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const i=[];for(const s of e){if(s.indexOf("//")>=0)throw new rt(K.INVALID_ARGUMENT,`Invalid segment (${s}). Paths must not contain // in them.`);i.push(...s.split("/").filter((o=>o.length>0)))}return new $t(i)}static emptyPath(){return new $t([])}}const KA=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class ke extends ni{construct(e,i,s){return new ke(e,i,s)}static isValidIdentifier(e){return KA.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),ke.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===Ky}static keyField(){return new ke([Ky])}static fromServerFormat(e){const i=[];let s="",o=0;const f=()=>{if(s.length===0)throw new rt(K.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);i.push(s),s=""};let d=!1;for(;o<e.length;){const g=e[o];if(g==="\\"){if(o+1===e.length)throw new rt(K.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const v=e[o+1];if(v!=="\\"&&v!=="."&&v!=="`")throw new rt(K.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);s+=v,o+=2}else g==="`"?(d=!d,o++):g!=="."||d?(s+=g,o++):(f(),o++)}if(f(),d)throw new rt(K.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new ke(i)}static emptyPath(){return new ke([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ht{constructor(e){this.path=e}static fromPath(e){return new ht($t.fromString(e))}static fromName(e){return new ht($t.fromString(e).popFirst(5))}static empty(){return new ht($t.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&$t.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,i){return $t.comparator(e.path,i.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new ht(new $t(e.slice()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _v(r,e,i){if(!i)throw new rt(K.INVALID_ARGUMENT,`Function ${r}() cannot be called with an empty ${e}.`)}function XA(r,e,i,s){if(e===!0&&s===!0)throw new rt(K.INVALID_ARGUMENT,`${r} and ${i} cannot be used together.`)}function Xy(r){if(!ht.isDocumentKey(r))throw new rt(K.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${r} has ${r.length}.`)}function Zy(r){if(ht.isDocumentKey(r))throw new rt(K.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${r} has ${r.length}.`)}function vv(r){return typeof r=="object"&&r!==null&&(Object.getPrototypeOf(r)===Object.prototype||Object.getPrototypeOf(r)===null)}function Vd(r){if(r===void 0)return"undefined";if(r===null)return"null";if(typeof r=="string")return r.length>20&&(r=`${r.substring(0,20)}...`),JSON.stringify(r);if(typeof r=="number"||typeof r=="boolean")return""+r;if(typeof r=="object"){if(r instanceof Array)return"an array";{const e=(function(s){return s.constructor?s.constructor.name:null})(r);return e?`a custom ${e} object`:"an object"}}return typeof r=="function"?"a function":pt(12329,{type:typeof r})}function Ln(r,e){if("_delegate"in r&&(r=r._delegate),!(r instanceof e)){if(e.name===r.constructor.name)throw new rt(K.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const i=Vd(r);throw new rt(K.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${i}`)}}return r}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ye(r,e){const i={typeString:r};return e&&(i.value=e),i}function co(r,e){if(!vv(r))throw new rt(K.INVALID_ARGUMENT,"JSON must be an object");let i;for(const s in e)if(e[s]){const o=e[s].typeString,f="value"in e[s]?{value:e[s].value}:void 0;if(!(s in r)){i=`JSON missing required field: '${s}'`;break}const d=r[s];if(o&&typeof d!==o){i=`JSON field '${s}' must be a ${o}.`;break}if(f!==void 0&&d!==f.value){i=`Expected '${s}' field to equal '${f.value}'`;break}}if(i)throw new rt(K.INVALID_ARGUMENT,i);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $y=-62135596800,Jy=1e6;class Jt{static now(){return Jt.fromMillis(Date.now())}static fromDate(e){return Jt.fromMillis(e.getTime())}static fromMillis(e){const i=Math.floor(e/1e3),s=Math.floor((e-1e3*i)*Jy);return new Jt(i,s)}constructor(e,i){if(this.seconds=e,this.nanoseconds=i,i<0)throw new rt(K.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+i);if(i>=1e9)throw new rt(K.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+i);if(e<$y)throw new rt(K.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new rt(K.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/Jy}_compareTo(e){return this.seconds===e.seconds?Dt(this.nanoseconds,e.nanoseconds):Dt(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:Jt._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(co(e,Jt._jsonSchema))return new Jt(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-$y;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}Jt._jsonSchemaVersion="firestore/timestamp/1.0",Jt._jsonSchema={type:ye("string",Jt._jsonSchemaVersion),seconds:ye("number"),nanoseconds:ye("number")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vt{static fromTimestamp(e){return new vt(e)}static min(){return new vt(new Jt(0,0))}static max(){return new vt(new Jt(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const io=-1;function ZA(r,e){const i=r.toTimestamp().seconds,s=r.toTimestamp().nanoseconds+1,o=vt.fromTimestamp(s===1e9?new Jt(i+1,0):new Jt(i,s));return new Aa(o,ht.empty(),e)}function $A(r){return new Aa(r.readTime,r.key,io)}class Aa{constructor(e,i,s){this.readTime=e,this.documentKey=i,this.largestBatchId=s}static min(){return new Aa(vt.min(),ht.empty(),io)}static max(){return new Aa(vt.max(),ht.empty(),io)}}function JA(r,e){let i=r.readTime.compareTo(e.readTime);return i!==0?i:(i=ht.comparator(r.documentKey,e.documentKey),i!==0?i:Dt(r.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const WA="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class tS{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Os(r){if(r.code!==K.FAILED_PRECONDITION||r.message!==WA)throw r;it("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Y{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((i=>{this.isDone=!0,this.result=i,this.nextCallback&&this.nextCallback(i)}),(i=>{this.isDone=!0,this.error=i,this.catchCallback&&this.catchCallback(i)}))}catch(e){return this.next(void 0,e)}next(e,i){return this.callbackAttached&&pt(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(i,this.error):this.wrapSuccess(e,this.result):new Y(((s,o)=>{this.nextCallback=f=>{this.wrapSuccess(e,f).next(s,o)},this.catchCallback=f=>{this.wrapFailure(i,f).next(s,o)}}))}toPromise(){return new Promise(((e,i)=>{this.next(e,i)}))}wrapUserFunction(e){try{const i=e();return i instanceof Y?i:Y.resolve(i)}catch(i){return Y.reject(i)}}wrapSuccess(e,i){return e?this.wrapUserFunction((()=>e(i))):Y.resolve(i)}wrapFailure(e,i){return e?this.wrapUserFunction((()=>e(i))):Y.reject(i)}static resolve(e){return new Y(((i,s)=>{i(e)}))}static reject(e){return new Y(((i,s)=>{s(e)}))}static waitFor(e){return new Y(((i,s)=>{let o=0,f=0,d=!1;e.forEach((g=>{++o,g.next((()=>{++f,d&&f===o&&i()}),(v=>s(v)))})),d=!0,f===o&&i()}))}static or(e){let i=Y.resolve(!1);for(const s of e)i=i.next((o=>o?Y.resolve(o):s()));return i}static forEach(e,i){const s=[];return e.forEach(((o,f)=>{s.push(i.call(this,o,f))})),this.waitFor(s)}static mapArray(e,i){return new Y(((s,o)=>{const f=e.length,d=new Array(f);let g=0;for(let v=0;v<f;v++){const _=v;i(e[_]).next((A=>{d[_]=A,++g,g===f&&s(d)}),(A=>o(A)))}}))}static doWhile(e,i){return new Y(((s,o)=>{const f=()=>{e()===!0?i().next((()=>{f()}),o):s()};f()}))}}function eS(r){const e=r.match(/Android ([\d.]+)/i),i=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(i)}function Ms(r){return r.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mc{constructor(e,i){this.previousValue=e,i&&(i.sequenceNumberHandler=s=>this.ae(s),this.ue=s=>i.writeSequenceNumber(s))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}mc.ce=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Od=-1;function gc(r){return r==null}function Wu(r){return r===0&&1/r==-1/0}function nS(r){return typeof r=="number"&&Number.isInteger(r)&&!Wu(r)&&r<=Number.MAX_SAFE_INTEGER&&r>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ev="";function iS(r){let e="";for(let i=0;i<r.length;i++)e.length>0&&(e=Wy(e)),e=aS(r.get(i),e);return Wy(e)}function aS(r,e){let i=e;const s=r.length;for(let o=0;o<s;o++){const f=r.charAt(o);switch(f){case"\0":i+="";break;case Ev:i+="";break;default:i+=f}}return i}function Wy(r){return r+Ev+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function t_(r){let e=0;for(const i in r)Object.prototype.hasOwnProperty.call(r,i)&&e++;return e}function Ia(r,e){for(const i in r)Object.prototype.hasOwnProperty.call(r,i)&&e(i,r[i])}function Tv(r){for(const e in r)if(Object.prototype.hasOwnProperty.call(r,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ne{constructor(e,i){this.comparator=e,this.root=i||ze.EMPTY}insert(e,i){return new ne(this.comparator,this.root.insert(e,i,this.comparator).copy(null,null,ze.BLACK,null,null))}remove(e){return new ne(this.comparator,this.root.remove(e,this.comparator).copy(null,null,ze.BLACK,null,null))}get(e){let i=this.root;for(;!i.isEmpty();){const s=this.comparator(e,i.key);if(s===0)return i.value;s<0?i=i.left:s>0&&(i=i.right)}return null}indexOf(e){let i=0,s=this.root;for(;!s.isEmpty();){const o=this.comparator(e,s.key);if(o===0)return i+s.left.size;o<0?s=s.left:(i+=s.left.size+1,s=s.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((i,s)=>(e(i,s),!1)))}toString(){const e=[];return this.inorderTraversal(((i,s)=>(e.push(`${i}:${s}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new qu(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new qu(this.root,e,this.comparator,!1)}getReverseIterator(){return new qu(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new qu(this.root,e,this.comparator,!0)}}class qu{constructor(e,i,s,o){this.isReverse=o,this.nodeStack=[];let f=1;for(;!e.isEmpty();)if(f=i?s(e.key,i):1,i&&o&&(f*=-1),f<0)e=this.isReverse?e.left:e.right;else{if(f===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const i={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return i}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class ze{constructor(e,i,s,o,f){this.key=e,this.value=i,this.color=s??ze.RED,this.left=o??ze.EMPTY,this.right=f??ze.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,i,s,o,f){return new ze(e??this.key,i??this.value,s??this.color,o??this.left,f??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,i,s){let o=this;const f=s(e,o.key);return o=f<0?o.copy(null,null,null,o.left.insert(e,i,s),null):f===0?o.copy(null,i,null,null,null):o.copy(null,null,null,null,o.right.insert(e,i,s)),o.fixUp()}removeMin(){if(this.left.isEmpty())return ze.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,i){let s,o=this;if(i(e,o.key)<0)o.left.isEmpty()||o.left.isRed()||o.left.left.isRed()||(o=o.moveRedLeft()),o=o.copy(null,null,null,o.left.remove(e,i),null);else{if(o.left.isRed()&&(o=o.rotateRight()),o.right.isEmpty()||o.right.isRed()||o.right.left.isRed()||(o=o.moveRedRight()),i(e,o.key)===0){if(o.right.isEmpty())return ze.EMPTY;s=o.right.min(),o=o.copy(s.key,s.value,null,null,o.right.removeMin())}o=o.copy(null,null,null,null,o.right.remove(e,i))}return o.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,ze.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,ze.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),i=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,i)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw pt(43730,{key:this.key,value:this.value});if(this.right.isRed())throw pt(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw pt(27949);return e+(this.isRed()?0:1)}}ze.EMPTY=null,ze.RED=!0,ze.BLACK=!1;ze.EMPTY=new class{constructor(){this.size=0}get key(){throw pt(57766)}get value(){throw pt(16141)}get color(){throw pt(16727)}get left(){throw pt(29726)}get right(){throw pt(36894)}copy(e,i,s,o,f){return this}insert(e,i,s){return new ze(e,i)}remove(e,i){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class be{constructor(e){this.comparator=e,this.data=new ne(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((i,s)=>(e(i),!1)))}forEachInRange(e,i){const s=this.data.getIteratorFrom(e[0]);for(;s.hasNext();){const o=s.getNext();if(this.comparator(o.key,e[1])>=0)return;i(o.key)}}forEachWhile(e,i){let s;for(s=i!==void 0?this.data.getIteratorFrom(i):this.data.getIterator();s.hasNext();)if(!e(s.getNext().key))return}firstAfterOrEqual(e){const i=this.data.getIteratorFrom(e);return i.hasNext()?i.getNext().key:null}getIterator(){return new e_(this.data.getIterator())}getIteratorFrom(e){return new e_(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let i=this;return i.size<e.size&&(i=e,e=this),e.forEach((s=>{i=i.add(s)})),i}isEqual(e){if(!(e instanceof be)||this.size!==e.size)return!1;const i=this.data.getIterator(),s=e.data.getIterator();for(;i.hasNext();){const o=i.getNext().key,f=s.getNext().key;if(this.comparator(o,f)!==0)return!1}return!0}toArray(){const e=[];return this.forEach((i=>{e.push(i)})),e}toString(){const e=[];return this.forEach((i=>e.push(i))),"SortedSet("+e.toString()+")"}copy(e){const i=new be(this.comparator);return i.data=e,i}}class e_{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mn{constructor(e){this.fields=e,e.sort(ke.comparator)}static empty(){return new mn([])}unionWith(e){let i=new be(ke.comparator);for(const s of this.fields)i=i.add(s);for(const s of e)i=i.add(s);return new mn(i.toArray())}covers(e){for(const i of this.fields)if(i.isPrefixOf(e))return!0;return!1}isEqual(e){return Rs(this.fields,e.fields,((i,s)=>i.isEqual(s)))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Av extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Be{constructor(e){this.binaryString=e}static fromBase64String(e){const i=(function(o){try{return atob(o)}catch(f){throw typeof DOMException<"u"&&f instanceof DOMException?new Av("Invalid base64 string: "+f):f}})(e);return new Be(i)}static fromUint8Array(e){const i=(function(o){let f="";for(let d=0;d<o.length;++d)f+=String.fromCharCode(o[d]);return f})(e);return new Be(i)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(i){return btoa(i)})(this.binaryString)}toUint8Array(){return(function(i){const s=new Uint8Array(i.length);for(let o=0;o<i.length;o++)s[o]=i.charCodeAt(o);return s})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Dt(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Be.EMPTY_BYTE_STRING=new Be("");const rS=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Sa(r){if(Bt(!!r,39018),typeof r=="string"){let e=0;const i=rS.exec(r);if(Bt(!!i,46558,{timestamp:r}),i[1]){let o=i[1];o=(o+"000000000").substr(0,9),e=Number(o)}const s=new Date(r);return{seconds:Math.floor(s.getTime()/1e3),nanos:e}}return{seconds:ce(r.seconds),nanos:ce(r.nanos)}}function ce(r){return typeof r=="number"?r:typeof r=="string"?Number(r):0}function ba(r){return typeof r=="string"?Be.fromBase64String(r):Be.fromUint8Array(r)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Sv="server_timestamp",bv="__type__",Rv="__previous_value__",wv="__local_write_time__";function Md(r){return(r?.mapValue?.fields||{})[bv]?.stringValue===Sv}function pc(r){const e=r.mapValue.fields[Rv];return Md(e)?pc(e):e}function ao(r){const e=Sa(r.mapValue.fields[wv].timestampValue);return new Jt(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sS{constructor(e,i,s,o,f,d,g,v,_,A){this.databaseId=e,this.appId=i,this.persistenceKey=s,this.host=o,this.ssl=f,this.forceLongPolling=d,this.autoDetectLongPolling=g,this.longPollingOptions=v,this.useFetchStreams=_,this.isUsingEmulator=A}}const tc="(default)";class ro{constructor(e,i){this.projectId=e,this.database=i||tc}static empty(){return new ro("","")}get isDefaultDatabase(){return this.database===tc}isEqual(e){return e instanceof ro&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Cv="__type__",lS="__max__",ju={mapValue:{}},Dv="__vector__",ec="value";function Ra(r){return"nullValue"in r?0:"booleanValue"in r?1:"integerValue"in r||"doubleValue"in r?2:"timestampValue"in r?3:"stringValue"in r?5:"bytesValue"in r?6:"referenceValue"in r?7:"geoPointValue"in r?8:"arrayValue"in r?9:"mapValue"in r?Md(r)?4:uS(r)?9007199254740991:oS(r)?10:11:pt(28295,{value:r})}function oi(r,e){if(r===e)return!0;const i=Ra(r);if(i!==Ra(e))return!1;switch(i){case 0:case 9007199254740991:return!0;case 1:return r.booleanValue===e.booleanValue;case 4:return ao(r).isEqual(ao(e));case 3:return(function(o,f){if(typeof o.timestampValue=="string"&&typeof f.timestampValue=="string"&&o.timestampValue.length===f.timestampValue.length)return o.timestampValue===f.timestampValue;const d=Sa(o.timestampValue),g=Sa(f.timestampValue);return d.seconds===g.seconds&&d.nanos===g.nanos})(r,e);case 5:return r.stringValue===e.stringValue;case 6:return(function(o,f){return ba(o.bytesValue).isEqual(ba(f.bytesValue))})(r,e);case 7:return r.referenceValue===e.referenceValue;case 8:return(function(o,f){return ce(o.geoPointValue.latitude)===ce(f.geoPointValue.latitude)&&ce(o.geoPointValue.longitude)===ce(f.geoPointValue.longitude)})(r,e);case 2:return(function(o,f){if("integerValue"in o&&"integerValue"in f)return ce(o.integerValue)===ce(f.integerValue);if("doubleValue"in o&&"doubleValue"in f){const d=ce(o.doubleValue),g=ce(f.doubleValue);return d===g?Wu(d)===Wu(g):isNaN(d)&&isNaN(g)}return!1})(r,e);case 9:return Rs(r.arrayValue.values||[],e.arrayValue.values||[],oi);case 10:case 11:return(function(o,f){const d=o.mapValue.fields||{},g=f.mapValue.fields||{};if(t_(d)!==t_(g))return!1;for(const v in d)if(d.hasOwnProperty(v)&&(g[v]===void 0||!oi(d[v],g[v])))return!1;return!0})(r,e);default:return pt(52216,{left:r})}}function so(r,e){return(r.values||[]).find((i=>oi(i,e)))!==void 0}function ws(r,e){if(r===e)return 0;const i=Ra(r),s=Ra(e);if(i!==s)return Dt(i,s);switch(i){case 0:case 9007199254740991:return 0;case 1:return Dt(r.booleanValue,e.booleanValue);case 2:return(function(f,d){const g=ce(f.integerValue||f.doubleValue),v=ce(d.integerValue||d.doubleValue);return g<v?-1:g>v?1:g===v?0:isNaN(g)?isNaN(v)?0:-1:1})(r,e);case 3:return n_(r.timestampValue,e.timestampValue);case 4:return n_(ao(r),ao(e));case 5:return rd(r.stringValue,e.stringValue);case 6:return(function(f,d){const g=ba(f),v=ba(d);return g.compareTo(v)})(r.bytesValue,e.bytesValue);case 7:return(function(f,d){const g=f.split("/"),v=d.split("/");for(let _=0;_<g.length&&_<v.length;_++){const A=Dt(g[_],v[_]);if(A!==0)return A}return Dt(g.length,v.length)})(r.referenceValue,e.referenceValue);case 8:return(function(f,d){const g=Dt(ce(f.latitude),ce(d.latitude));return g!==0?g:Dt(ce(f.longitude),ce(d.longitude))})(r.geoPointValue,e.geoPointValue);case 9:return i_(r.arrayValue,e.arrayValue);case 10:return(function(f,d){const g=f.fields||{},v=d.fields||{},_=g[ec]?.arrayValue,A=v[ec]?.arrayValue,V=Dt(_?.values?.length||0,A?.values?.length||0);return V!==0?V:i_(_,A)})(r.mapValue,e.mapValue);case 11:return(function(f,d){if(f===ju.mapValue&&d===ju.mapValue)return 0;if(f===ju.mapValue)return 1;if(d===ju.mapValue)return-1;const g=f.fields||{},v=Object.keys(g),_=d.fields||{},A=Object.keys(_);v.sort(),A.sort();for(let V=0;V<v.length&&V<A.length;++V){const I=rd(v[V],A[V]);if(I!==0)return I;const G=ws(g[v[V]],_[A[V]]);if(G!==0)return G}return Dt(v.length,A.length)})(r.mapValue,e.mapValue);default:throw pt(23264,{he:i})}}function n_(r,e){if(typeof r=="string"&&typeof e=="string"&&r.length===e.length)return Dt(r,e);const i=Sa(r),s=Sa(e),o=Dt(i.seconds,s.seconds);return o!==0?o:Dt(i.nanos,s.nanos)}function i_(r,e){const i=r.values||[],s=e.values||[];for(let o=0;o<i.length&&o<s.length;++o){const f=ws(i[o],s[o]);if(f)return f}return Dt(i.length,s.length)}function Cs(r){return sd(r)}function sd(r){return"nullValue"in r?"null":"booleanValue"in r?""+r.booleanValue:"integerValue"in r?""+r.integerValue:"doubleValue"in r?""+r.doubleValue:"timestampValue"in r?(function(i){const s=Sa(i);return`time(${s.seconds},${s.nanos})`})(r.timestampValue):"stringValue"in r?r.stringValue:"bytesValue"in r?(function(i){return ba(i).toBase64()})(r.bytesValue):"referenceValue"in r?(function(i){return ht.fromName(i).toString()})(r.referenceValue):"geoPointValue"in r?(function(i){return`geo(${i.latitude},${i.longitude})`})(r.geoPointValue):"arrayValue"in r?(function(i){let s="[",o=!0;for(const f of i.values||[])o?o=!1:s+=",",s+=sd(f);return s+"]"})(r.arrayValue):"mapValue"in r?(function(i){const s=Object.keys(i.fields||{}).sort();let o="{",f=!0;for(const d of s)f?f=!1:o+=",",o+=`${d}:${sd(i.fields[d])}`;return o+"}"})(r.mapValue):pt(61005,{value:r})}function Qu(r){switch(Ra(r)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=pc(r);return e?16+Qu(e):16;case 5:return 2*r.stringValue.length;case 6:return ba(r.bytesValue).approximateByteSize();case 7:return r.referenceValue.length;case 9:return(function(s){return(s.values||[]).reduce(((o,f)=>o+Qu(f)),0)})(r.arrayValue);case 10:case 11:return(function(s){let o=0;return Ia(s.fields,((f,d)=>{o+=f.length+Qu(d)})),o})(r.mapValue);default:throw pt(13486,{value:r})}}function ld(r){return!!r&&"integerValue"in r}function Nd(r){return!!r&&"arrayValue"in r}function a_(r){return!!r&&"nullValue"in r}function r_(r){return!!r&&"doubleValue"in r&&isNaN(Number(r.doubleValue))}function Yu(r){return!!r&&"mapValue"in r}function oS(r){return(r?.mapValue?.fields||{})[Cv]?.stringValue===Dv}function Xl(r){if(r.geoPointValue)return{geoPointValue:{...r.geoPointValue}};if(r.timestampValue&&typeof r.timestampValue=="object")return{timestampValue:{...r.timestampValue}};if(r.mapValue){const e={mapValue:{fields:{}}};return Ia(r.mapValue.fields,((i,s)=>e.mapValue.fields[i]=Xl(s))),e}if(r.arrayValue){const e={arrayValue:{values:[]}};for(let i=0;i<(r.arrayValue.values||[]).length;++i)e.arrayValue.values[i]=Xl(r.arrayValue.values[i]);return e}return{...r}}function uS(r){return(((r.mapValue||{}).fields||{}).__type__||{}).stringValue===lS}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nn{constructor(e){this.value=e}static empty(){return new nn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let i=this.value;for(let s=0;s<e.length-1;++s)if(i=(i.mapValue.fields||{})[e.get(s)],!Yu(i))return null;return i=(i.mapValue.fields||{})[e.lastSegment()],i||null}}set(e,i){this.getFieldsMap(e.popLast())[e.lastSegment()]=Xl(i)}setAll(e){let i=ke.emptyPath(),s={},o=[];e.forEach(((d,g)=>{if(!i.isImmediateParentOf(g)){const v=this.getFieldsMap(i);this.applyChanges(v,s,o),s={},o=[],i=g.popLast()}d?s[g.lastSegment()]=Xl(d):o.push(g.lastSegment())}));const f=this.getFieldsMap(i);this.applyChanges(f,s,o)}delete(e){const i=this.field(e.popLast());Yu(i)&&i.mapValue.fields&&delete i.mapValue.fields[e.lastSegment()]}isEqual(e){return oi(this.value,e.value)}getFieldsMap(e){let i=this.value;i.mapValue.fields||(i.mapValue={fields:{}});for(let s=0;s<e.length;++s){let o=i.mapValue.fields[e.get(s)];Yu(o)&&o.mapValue.fields||(o={mapValue:{fields:{}}},i.mapValue.fields[e.get(s)]=o),i=o}return i.mapValue.fields}applyChanges(e,i,s){Ia(i,((o,f)=>e[o]=f));for(const o of s)delete e[o]}clone(){return new nn(Xl(this.value))}}function Iv(r){const e=[];return Ia(r.fields,((i,s)=>{const o=new ke([i]);if(Yu(s)){const f=Iv(s.mapValue).fields;if(f.length===0)e.push(o);else for(const d of f)e.push(o.child(d))}else e.push(o)})),new mn(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qe{constructor(e,i,s,o,f,d,g){this.key=e,this.documentType=i,this.version=s,this.readTime=o,this.createTime=f,this.data=d,this.documentState=g}static newInvalidDocument(e){return new Qe(e,0,vt.min(),vt.min(),vt.min(),nn.empty(),0)}static newFoundDocument(e,i,s,o){return new Qe(e,1,i,vt.min(),s,o,0)}static newNoDocument(e,i){return new Qe(e,2,i,vt.min(),vt.min(),nn.empty(),0)}static newUnknownDocument(e,i){return new Qe(e,3,i,vt.min(),vt.min(),nn.empty(),2)}convertToFoundDocument(e,i){return!this.createTime.isEqual(vt.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=i,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=nn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=nn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=vt.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Qe&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Qe(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nc{constructor(e,i){this.position=e,this.inclusive=i}}function s_(r,e,i){let s=0;for(let o=0;o<r.position.length;o++){const f=e[o],d=r.position[o];if(f.field.isKeyField()?s=ht.comparator(ht.fromName(d.referenceValue),i.key):s=ws(d,i.data.field(f.field)),f.dir==="desc"&&(s*=-1),s!==0)break}return s}function l_(r,e){if(r===null)return e===null;if(e===null||r.inclusive!==e.inclusive||r.position.length!==e.position.length)return!1;for(let i=0;i<r.position.length;i++)if(!oi(r.position[i],e.position[i]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ic{constructor(e,i="asc"){this.field=e,this.dir=i}}function cS(r,e){return r.dir===e.dir&&r.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vv{}class Se extends Vv{constructor(e,i,s){super(),this.field=e,this.op=i,this.value=s}static create(e,i,s){return e.isKeyField()?i==="in"||i==="not-in"?this.createKeyFieldInFilter(e,i,s):new hS(e,i,s):i==="array-contains"?new gS(e,s):i==="in"?new pS(e,s):i==="not-in"?new yS(e,s):i==="array-contains-any"?new _S(e,s):new Se(e,i,s)}static createKeyFieldInFilter(e,i,s){return i==="in"?new dS(e,s):new mS(e,s)}matches(e){const i=e.data.field(this.field);return this.op==="!="?i!==null&&i.nullValue===void 0&&this.matchesComparison(ws(i,this.value)):i!==null&&Ra(this.value)===Ra(i)&&this.matchesComparison(ws(i,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return pt(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class ui extends Vv{constructor(e,i){super(),this.filters=e,this.op=i,this.Pe=null}static create(e,i){return new ui(e,i)}matches(e){return Ov(this)?this.filters.find((i=>!i.matches(e)))===void 0:this.filters.find((i=>i.matches(e)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((e,i)=>e.concat(i.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function Ov(r){return r.op==="and"}function Mv(r){return fS(r)&&Ov(r)}function fS(r){for(const e of r.filters)if(e instanceof ui)return!1;return!0}function od(r){if(r instanceof Se)return r.field.canonicalString()+r.op.toString()+Cs(r.value);if(Mv(r))return r.filters.map((e=>od(e))).join(",");{const e=r.filters.map((i=>od(i))).join(",");return`${r.op}(${e})`}}function Nv(r,e){return r instanceof Se?(function(s,o){return o instanceof Se&&s.op===o.op&&s.field.isEqual(o.field)&&oi(s.value,o.value)})(r,e):r instanceof ui?(function(s,o){return o instanceof ui&&s.op===o.op&&s.filters.length===o.filters.length?s.filters.reduce(((f,d,g)=>f&&Nv(d,o.filters[g])),!0):!1})(r,e):void pt(19439)}function xv(r){return r instanceof Se?(function(i){return`${i.field.canonicalString()} ${i.op} ${Cs(i.value)}`})(r):r instanceof ui?(function(i){return i.op.toString()+" {"+i.getFilters().map(xv).join(" ,")+"}"})(r):"Filter"}class hS extends Se{constructor(e,i,s){super(e,i,s),this.key=ht.fromName(s.referenceValue)}matches(e){const i=ht.comparator(e.key,this.key);return this.matchesComparison(i)}}class dS extends Se{constructor(e,i){super(e,"in",i),this.keys=Uv("in",i)}matches(e){return this.keys.some((i=>i.isEqual(e.key)))}}class mS extends Se{constructor(e,i){super(e,"not-in",i),this.keys=Uv("not-in",i)}matches(e){return!this.keys.some((i=>i.isEqual(e.key)))}}function Uv(r,e){return(e.arrayValue?.values||[]).map((i=>ht.fromName(i.referenceValue)))}class gS extends Se{constructor(e,i){super(e,"array-contains",i)}matches(e){const i=e.data.field(this.field);return Nd(i)&&so(i.arrayValue,this.value)}}class pS extends Se{constructor(e,i){super(e,"in",i)}matches(e){const i=e.data.field(this.field);return i!==null&&so(this.value.arrayValue,i)}}class yS extends Se{constructor(e,i){super(e,"not-in",i)}matches(e){if(so(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const i=e.data.field(this.field);return i!==null&&i.nullValue===void 0&&!so(this.value.arrayValue,i)}}class _S extends Se{constructor(e,i){super(e,"array-contains-any",i)}matches(e){const i=e.data.field(this.field);return!(!Nd(i)||!i.arrayValue.values)&&i.arrayValue.values.some((s=>so(this.value.arrayValue,s)))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vS{constructor(e,i=null,s=[],o=[],f=null,d=null,g=null){this.path=e,this.collectionGroup=i,this.orderBy=s,this.filters=o,this.limit=f,this.startAt=d,this.endAt=g,this.Te=null}}function o_(r,e=null,i=[],s=[],o=null,f=null,d=null){return new vS(r,e,i,s,o,f,d)}function xd(r){const e=Et(r);if(e.Te===null){let i=e.path.canonicalString();e.collectionGroup!==null&&(i+="|cg:"+e.collectionGroup),i+="|f:",i+=e.filters.map((s=>od(s))).join(","),i+="|ob:",i+=e.orderBy.map((s=>(function(f){return f.field.canonicalString()+f.dir})(s))).join(","),gc(e.limit)||(i+="|l:",i+=e.limit),e.startAt&&(i+="|lb:",i+=e.startAt.inclusive?"b:":"a:",i+=e.startAt.position.map((s=>Cs(s))).join(",")),e.endAt&&(i+="|ub:",i+=e.endAt.inclusive?"a:":"b:",i+=e.endAt.position.map((s=>Cs(s))).join(",")),e.Te=i}return e.Te}function Ud(r,e){if(r.limit!==e.limit||r.orderBy.length!==e.orderBy.length)return!1;for(let i=0;i<r.orderBy.length;i++)if(!cS(r.orderBy[i],e.orderBy[i]))return!1;if(r.filters.length!==e.filters.length)return!1;for(let i=0;i<r.filters.length;i++)if(!Nv(r.filters[i],e.filters[i]))return!1;return r.collectionGroup===e.collectionGroup&&!!r.path.isEqual(e.path)&&!!l_(r.startAt,e.startAt)&&l_(r.endAt,e.endAt)}function ud(r){return ht.isDocumentKey(r.path)&&r.collectionGroup===null&&r.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yc{constructor(e,i=null,s=[],o=[],f=null,d="F",g=null,v=null){this.path=e,this.collectionGroup=i,this.explicitOrderBy=s,this.filters=o,this.limit=f,this.limitType=d,this.startAt=g,this.endAt=v,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function ES(r,e,i,s,o,f,d,g){return new yc(r,e,i,s,o,f,d,g)}function _c(r){return new yc(r)}function u_(r){return r.filters.length===0&&r.limit===null&&r.startAt==null&&r.endAt==null&&(r.explicitOrderBy.length===0||r.explicitOrderBy.length===1&&r.explicitOrderBy[0].field.isKeyField())}function TS(r){return r.collectionGroup!==null}function Zl(r){const e=Et(r);if(e.Ie===null){e.Ie=[];const i=new Set;for(const f of e.explicitOrderBy)e.Ie.push(f),i.add(f.field.canonicalString());const s=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(d){let g=new be(ke.comparator);return d.filters.forEach((v=>{v.getFlattenedFilters().forEach((_=>{_.isInequality()&&(g=g.add(_.field))}))})),g})(e).forEach((f=>{i.has(f.canonicalString())||f.isKeyField()||e.Ie.push(new ic(f,s))})),i.has(ke.keyField().canonicalString())||e.Ie.push(new ic(ke.keyField(),s))}return e.Ie}function ai(r){const e=Et(r);return e.Ee||(e.Ee=AS(e,Zl(r))),e.Ee}function AS(r,e){if(r.limitType==="F")return o_(r.path,r.collectionGroup,e,r.filters,r.limit,r.startAt,r.endAt);{e=e.map((o=>{const f=o.dir==="desc"?"asc":"desc";return new ic(o.field,f)}));const i=r.endAt?new nc(r.endAt.position,r.endAt.inclusive):null,s=r.startAt?new nc(r.startAt.position,r.startAt.inclusive):null;return o_(r.path,r.collectionGroup,e,r.filters,r.limit,i,s)}}function cd(r,e,i){return new yc(r.path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),e,i,r.startAt,r.endAt)}function vc(r,e){return Ud(ai(r),ai(e))&&r.limitType===e.limitType}function Lv(r){return`${xd(ai(r))}|lt:${r.limitType}`}function vs(r){return`Query(target=${(function(i){let s=i.path.canonicalString();return i.collectionGroup!==null&&(s+=" collectionGroup="+i.collectionGroup),i.filters.length>0&&(s+=`, filters: [${i.filters.map((o=>xv(o))).join(", ")}]`),gc(i.limit)||(s+=", limit: "+i.limit),i.orderBy.length>0&&(s+=`, orderBy: [${i.orderBy.map((o=>(function(d){return`${d.field.canonicalString()} (${d.dir})`})(o))).join(", ")}]`),i.startAt&&(s+=", startAt: ",s+=i.startAt.inclusive?"b:":"a:",s+=i.startAt.position.map((o=>Cs(o))).join(",")),i.endAt&&(s+=", endAt: ",s+=i.endAt.inclusive?"a:":"b:",s+=i.endAt.position.map((o=>Cs(o))).join(",")),`Target(${s})`})(ai(r))}; limitType=${r.limitType})`}function Ec(r,e){return e.isFoundDocument()&&(function(s,o){const f=o.key.path;return s.collectionGroup!==null?o.key.hasCollectionId(s.collectionGroup)&&s.path.isPrefixOf(f):ht.isDocumentKey(s.path)?s.path.isEqual(f):s.path.isImmediateParentOf(f)})(r,e)&&(function(s,o){for(const f of Zl(s))if(!f.field.isKeyField()&&o.data.field(f.field)===null)return!1;return!0})(r,e)&&(function(s,o){for(const f of s.filters)if(!f.matches(o))return!1;return!0})(r,e)&&(function(s,o){return!(s.startAt&&!(function(d,g,v){const _=s_(d,g,v);return d.inclusive?_<=0:_<0})(s.startAt,Zl(s),o)||s.endAt&&!(function(d,g,v){const _=s_(d,g,v);return d.inclusive?_>=0:_>0})(s.endAt,Zl(s),o))})(r,e)}function SS(r){return r.collectionGroup||(r.path.length%2==1?r.path.lastSegment():r.path.get(r.path.length-2))}function Pv(r){return(e,i)=>{let s=!1;for(const o of Zl(r)){const f=bS(o,e,i);if(f!==0)return f;s=s||o.field.isKeyField()}return 0}}function bS(r,e,i){const s=r.field.isKeyField()?ht.comparator(e.key,i.key):(function(f,d,g){const v=d.data.field(f),_=g.data.field(f);return v!==null&&_!==null?ws(v,_):pt(42886)})(r.field,e,i);switch(r.dir){case"asc":return s;case"desc":return-1*s;default:return pt(19790,{direction:r.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class br{constructor(e,i){this.mapKeyFn=e,this.equalsFn=i,this.inner={},this.innerSize=0}get(e){const i=this.mapKeyFn(e),s=this.inner[i];if(s!==void 0){for(const[o,f]of s)if(this.equalsFn(o,e))return f}}has(e){return this.get(e)!==void 0}set(e,i){const s=this.mapKeyFn(e),o=this.inner[s];if(o===void 0)return this.inner[s]=[[e,i]],void this.innerSize++;for(let f=0;f<o.length;f++)if(this.equalsFn(o[f][0],e))return void(o[f]=[e,i]);o.push([e,i]),this.innerSize++}delete(e){const i=this.mapKeyFn(e),s=this.inner[i];if(s===void 0)return!1;for(let o=0;o<s.length;o++)if(this.equalsFn(s[o][0],e))return s.length===1?delete this.inner[i]:s.splice(o,1),this.innerSize--,!0;return!1}forEach(e){Ia(this.inner,((i,s)=>{for(const[o,f]of s)e(o,f)}))}isEmpty(){return Tv(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const RS=new ne(ht.comparator);function ki(){return RS}const zv=new ne(ht.comparator);function Fl(...r){let e=zv;for(const i of r)e=e.insert(i.key,i);return e}function kv(r){let e=zv;return r.forEach(((i,s)=>e=e.insert(i,s.overlayedDocument))),e}function pr(){return $l()}function Bv(){return $l()}function $l(){return new br((r=>r.toString()),((r,e)=>r.isEqual(e)))}const wS=new ne(ht.comparator),CS=new be(ht.comparator);function It(...r){let e=CS;for(const i of r)e=e.add(i);return e}const DS=new be(Dt);function IS(){return DS}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ld(r,e){if(r.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Wu(e)?"-0":e}}function qv(r){return{integerValue:""+r}}function VS(r,e){return nS(e)?qv(e):Ld(r,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tc{constructor(){this._=void 0}}function OS(r,e,i){return r instanceof ac?(function(o,f){const d={fields:{[bv]:{stringValue:Sv},[wv]:{timestampValue:{seconds:o.seconds,nanos:o.nanoseconds}}}};return f&&Md(f)&&(f=pc(f)),f&&(d.fields[Rv]=f),{mapValue:d}})(i,e):r instanceof lo?Hv(r,e):r instanceof oo?Gv(r,e):(function(o,f){const d=jv(o,f),g=c_(d)+c_(o.Ae);return ld(d)&&ld(o.Ae)?qv(g):Ld(o.serializer,g)})(r,e)}function MS(r,e,i){return r instanceof lo?Hv(r,e):r instanceof oo?Gv(r,e):i}function jv(r,e){return r instanceof rc?(function(s){return ld(s)||(function(f){return!!f&&"doubleValue"in f})(s)})(e)?e:{integerValue:0}:null}class ac extends Tc{}class lo extends Tc{constructor(e){super(),this.elements=e}}function Hv(r,e){const i=Fv(e);for(const s of r.elements)i.some((o=>oi(o,s)))||i.push(s);return{arrayValue:{values:i}}}class oo extends Tc{constructor(e){super(),this.elements=e}}function Gv(r,e){let i=Fv(e);for(const s of r.elements)i=i.filter((o=>!oi(o,s)));return{arrayValue:{values:i}}}class rc extends Tc{constructor(e,i){super(),this.serializer=e,this.Ae=i}}function c_(r){return ce(r.integerValue||r.doubleValue)}function Fv(r){return Nd(r)&&r.arrayValue.values?r.arrayValue.values.slice():[]}function NS(r,e){return r.field.isEqual(e.field)&&(function(s,o){return s instanceof lo&&o instanceof lo||s instanceof oo&&o instanceof oo?Rs(s.elements,o.elements,oi):s instanceof rc&&o instanceof rc?oi(s.Ae,o.Ae):s instanceof ac&&o instanceof ac})(r.transform,e.transform)}class xS{constructor(e,i){this.version=e,this.transformResults=i}}class Pn{constructor(e,i){this.updateTime=e,this.exists=i}static none(){return new Pn}static exists(e){return new Pn(void 0,e)}static updateTime(e){return new Pn(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Ku(r,e){return r.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(r.updateTime):r.exists===void 0||r.exists===e.isFoundDocument()}class Ac{}function Qv(r,e){if(!r.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return r.isNoDocument()?new Kv(r.key,Pn.none()):new fo(r.key,r.data,Pn.none());{const i=r.data,s=nn.empty();let o=new be(ke.comparator);for(let f of e.fields)if(!o.has(f)){let d=i.field(f);d===null&&f.length>1&&(f=f.popLast(),d=i.field(f)),d===null?s.delete(f):s.set(f,d),o=o.add(f)}return new Va(r.key,s,new mn(o.toArray()),Pn.none())}}function US(r,e,i){r instanceof fo?(function(o,f,d){const g=o.value.clone(),v=h_(o.fieldTransforms,f,d.transformResults);g.setAll(v),f.convertToFoundDocument(d.version,g).setHasCommittedMutations()})(r,e,i):r instanceof Va?(function(o,f,d){if(!Ku(o.precondition,f))return void f.convertToUnknownDocument(d.version);const g=h_(o.fieldTransforms,f,d.transformResults),v=f.data;v.setAll(Yv(o)),v.setAll(g),f.convertToFoundDocument(d.version,v).setHasCommittedMutations()})(r,e,i):(function(o,f,d){f.convertToNoDocument(d.version).setHasCommittedMutations()})(0,e,i)}function Jl(r,e,i,s){return r instanceof fo?(function(f,d,g,v){if(!Ku(f.precondition,d))return g;const _=f.value.clone(),A=d_(f.fieldTransforms,v,d);return _.setAll(A),d.convertToFoundDocument(d.version,_).setHasLocalMutations(),null})(r,e,i,s):r instanceof Va?(function(f,d,g,v){if(!Ku(f.precondition,d))return g;const _=d_(f.fieldTransforms,v,d),A=d.data;return A.setAll(Yv(f)),A.setAll(_),d.convertToFoundDocument(d.version,A).setHasLocalMutations(),g===null?null:g.unionWith(f.fieldMask.fields).unionWith(f.fieldTransforms.map((V=>V.field)))})(r,e,i,s):(function(f,d,g){return Ku(f.precondition,d)?(d.convertToNoDocument(d.version).setHasLocalMutations(),null):g})(r,e,i)}function LS(r,e){let i=null;for(const s of r.fieldTransforms){const o=e.data.field(s.field),f=jv(s.transform,o||null);f!=null&&(i===null&&(i=nn.empty()),i.set(s.field,f))}return i||null}function f_(r,e){return r.type===e.type&&!!r.key.isEqual(e.key)&&!!r.precondition.isEqual(e.precondition)&&!!(function(s,o){return s===void 0&&o===void 0||!(!s||!o)&&Rs(s,o,((f,d)=>NS(f,d)))})(r.fieldTransforms,e.fieldTransforms)&&(r.type===0?r.value.isEqual(e.value):r.type!==1||r.data.isEqual(e.data)&&r.fieldMask.isEqual(e.fieldMask))}class fo extends Ac{constructor(e,i,s,o=[]){super(),this.key=e,this.value=i,this.precondition=s,this.fieldTransforms=o,this.type=0}getFieldMask(){return null}}class Va extends Ac{constructor(e,i,s,o,f=[]){super(),this.key=e,this.data=i,this.fieldMask=s,this.precondition=o,this.fieldTransforms=f,this.type=1}getFieldMask(){return this.fieldMask}}function Yv(r){const e=new Map;return r.fieldMask.fields.forEach((i=>{if(!i.isEmpty()){const s=r.data.field(i);e.set(i,s)}})),e}function h_(r,e,i){const s=new Map;Bt(r.length===i.length,32656,{Re:i.length,Ve:r.length});for(let o=0;o<i.length;o++){const f=r[o],d=f.transform,g=e.data.field(f.field);s.set(f.field,MS(d,g,i[o]))}return s}function d_(r,e,i){const s=new Map;for(const o of r){const f=o.transform,d=i.data.field(o.field);s.set(o.field,OS(f,d,e))}return s}class Kv extends Ac{constructor(e,i){super(),this.key=e,this.precondition=i,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class PS extends Ac{constructor(e,i){super(),this.key=e,this.precondition=i,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zS{constructor(e,i,s,o){this.batchId=e,this.localWriteTime=i,this.baseMutations=s,this.mutations=o}applyToRemoteDocument(e,i){const s=i.mutationResults;for(let o=0;o<this.mutations.length;o++){const f=this.mutations[o];f.key.isEqual(e.key)&&US(f,e,s[o])}}applyToLocalView(e,i){for(const s of this.baseMutations)s.key.isEqual(e.key)&&(i=Jl(s,e,i,this.localWriteTime));for(const s of this.mutations)s.key.isEqual(e.key)&&(i=Jl(s,e,i,this.localWriteTime));return i}applyToLocalDocumentSet(e,i){const s=Bv();return this.mutations.forEach((o=>{const f=e.get(o.key),d=f.overlayedDocument;let g=this.applyToLocalView(d,f.mutatedFields);g=i.has(o.key)?null:g;const v=Qv(d,g);v!==null&&s.set(o.key,v),d.isValidDocument()||d.convertToNoDocument(vt.min())})),s}keys(){return this.mutations.reduce(((e,i)=>e.add(i.key)),It())}isEqual(e){return this.batchId===e.batchId&&Rs(this.mutations,e.mutations,((i,s)=>f_(i,s)))&&Rs(this.baseMutations,e.baseMutations,((i,s)=>f_(i,s)))}}class Pd{constructor(e,i,s,o){this.batch=e,this.commitVersion=i,this.mutationResults=s,this.docVersions=o}static from(e,i,s){Bt(e.mutations.length===s.length,58842,{me:e.mutations.length,fe:s.length});let o=(function(){return wS})();const f=e.mutations;for(let d=0;d<f.length;d++)o=o.insert(f[d].key,s[d].version);return new Pd(e,i,s,o)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kS{constructor(e,i){this.largestBatchId=e,this.mutation=i}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BS{constructor(e,i){this.count=e,this.unchangedNames=i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var pe,Nt;function qS(r){switch(r){case K.OK:return pt(64938);case K.CANCELLED:case K.UNKNOWN:case K.DEADLINE_EXCEEDED:case K.RESOURCE_EXHAUSTED:case K.INTERNAL:case K.UNAVAILABLE:case K.UNAUTHENTICATED:return!1;case K.INVALID_ARGUMENT:case K.NOT_FOUND:case K.ALREADY_EXISTS:case K.PERMISSION_DENIED:case K.FAILED_PRECONDITION:case K.ABORTED:case K.OUT_OF_RANGE:case K.UNIMPLEMENTED:case K.DATA_LOSS:return!0;default:return pt(15467,{code:r})}}function Xv(r){if(r===void 0)return zi("GRPC error has no .code"),K.UNKNOWN;switch(r){case pe.OK:return K.OK;case pe.CANCELLED:return K.CANCELLED;case pe.UNKNOWN:return K.UNKNOWN;case pe.DEADLINE_EXCEEDED:return K.DEADLINE_EXCEEDED;case pe.RESOURCE_EXHAUSTED:return K.RESOURCE_EXHAUSTED;case pe.INTERNAL:return K.INTERNAL;case pe.UNAVAILABLE:return K.UNAVAILABLE;case pe.UNAUTHENTICATED:return K.UNAUTHENTICATED;case pe.INVALID_ARGUMENT:return K.INVALID_ARGUMENT;case pe.NOT_FOUND:return K.NOT_FOUND;case pe.ALREADY_EXISTS:return K.ALREADY_EXISTS;case pe.PERMISSION_DENIED:return K.PERMISSION_DENIED;case pe.FAILED_PRECONDITION:return K.FAILED_PRECONDITION;case pe.ABORTED:return K.ABORTED;case pe.OUT_OF_RANGE:return K.OUT_OF_RANGE;case pe.UNIMPLEMENTED:return K.UNIMPLEMENTED;case pe.DATA_LOSS:return K.DATA_LOSS;default:return pt(39323,{code:r})}}(Nt=pe||(pe={}))[Nt.OK=0]="OK",Nt[Nt.CANCELLED=1]="CANCELLED",Nt[Nt.UNKNOWN=2]="UNKNOWN",Nt[Nt.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Nt[Nt.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Nt[Nt.NOT_FOUND=5]="NOT_FOUND",Nt[Nt.ALREADY_EXISTS=6]="ALREADY_EXISTS",Nt[Nt.PERMISSION_DENIED=7]="PERMISSION_DENIED",Nt[Nt.UNAUTHENTICATED=16]="UNAUTHENTICATED",Nt[Nt.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Nt[Nt.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Nt[Nt.ABORTED=10]="ABORTED",Nt[Nt.OUT_OF_RANGE=11]="OUT_OF_RANGE",Nt[Nt.UNIMPLEMENTED=12]="UNIMPLEMENTED",Nt[Nt.INTERNAL=13]="INTERNAL",Nt[Nt.UNAVAILABLE=14]="UNAVAILABLE",Nt[Nt.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jS(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const HS=new _a([4294967295,4294967295],0);function m_(r){const e=jS().encode(r),i=new cv;return i.update(e),new Uint8Array(i.digest())}function g_(r){const e=new DataView(r.buffer),i=e.getUint32(0,!0),s=e.getUint32(4,!0),o=e.getUint32(8,!0),f=e.getUint32(12,!0);return[new _a([i,s],0),new _a([o,f],0)]}class zd{constructor(e,i,s){if(this.bitmap=e,this.padding=i,this.hashCount=s,i<0||i>=8)throw new Ql(`Invalid padding: ${i}`);if(s<0)throw new Ql(`Invalid hash count: ${s}`);if(e.length>0&&this.hashCount===0)throw new Ql(`Invalid hash count: ${s}`);if(e.length===0&&i!==0)throw new Ql(`Invalid padding when bitmap length is 0: ${i}`);this.ge=8*e.length-i,this.pe=_a.fromNumber(this.ge)}ye(e,i,s){let o=e.add(i.multiply(_a.fromNumber(s)));return o.compare(HS)===1&&(o=new _a([o.getBits(0),o.getBits(1)],0)),o.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const i=m_(e),[s,o]=g_(i);for(let f=0;f<this.hashCount;f++){const d=this.ye(s,o,f);if(!this.we(d))return!1}return!0}static create(e,i,s){const o=e%8==0?0:8-e%8,f=new Uint8Array(Math.ceil(e/8)),d=new zd(f,o,i);return s.forEach((g=>d.insert(g))),d}insert(e){if(this.ge===0)return;const i=m_(e),[s,o]=g_(i);for(let f=0;f<this.hashCount;f++){const d=this.ye(s,o,f);this.Se(d)}}Se(e){const i=Math.floor(e/8),s=e%8;this.bitmap[i]|=1<<s}}class Ql extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sc{constructor(e,i,s,o,f){this.snapshotVersion=e,this.targetChanges=i,this.targetMismatches=s,this.documentUpdates=o,this.resolvedLimboDocuments=f}static createSynthesizedRemoteEventForCurrentChange(e,i,s){const o=new Map;return o.set(e,ho.createSynthesizedTargetChangeForCurrentChange(e,i,s)),new Sc(vt.min(),o,new ne(Dt),ki(),It())}}class ho{constructor(e,i,s,o,f){this.resumeToken=e,this.current=i,this.addedDocuments=s,this.modifiedDocuments=o,this.removedDocuments=f}static createSynthesizedTargetChangeForCurrentChange(e,i,s){return new ho(s,i,It(),It(),It())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xu{constructor(e,i,s,o){this.be=e,this.removedTargetIds=i,this.key=s,this.De=o}}class Zv{constructor(e,i){this.targetId=e,this.Ce=i}}class $v{constructor(e,i,s=Be.EMPTY_BYTE_STRING,o=null){this.state=e,this.targetIds=i,this.resumeToken=s,this.cause=o}}class p_{constructor(){this.ve=0,this.Fe=y_(),this.Me=Be.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=It(),i=It(),s=It();return this.Fe.forEach(((o,f)=>{switch(f){case 0:e=e.add(o);break;case 2:i=i.add(o);break;case 1:s=s.add(o);break;default:pt(38017,{changeType:f})}})),new ho(this.Me,this.xe,e,i,s)}qe(){this.Oe=!1,this.Fe=y_()}Qe(e,i){this.Oe=!0,this.Fe=this.Fe.insert(e,i)}$e(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}Ue(){this.ve+=1}Ke(){this.ve-=1,Bt(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class GS{constructor(e){this.Ge=e,this.ze=new Map,this.je=ki(),this.Je=Hu(),this.He=Hu(),this.Ye=new ne(Dt)}Ze(e){for(const i of e.be)e.De&&e.De.isFoundDocument()?this.Xe(i,e.De):this.et(i,e.key,e.De);for(const i of e.removedTargetIds)this.et(i,e.key,e.De)}tt(e){this.forEachTarget(e,(i=>{const s=this.nt(i);switch(e.state){case 0:this.rt(i)&&s.Le(e.resumeToken);break;case 1:s.Ke(),s.Ne||s.qe(),s.Le(e.resumeToken);break;case 2:s.Ke(),s.Ne||this.removeTarget(i);break;case 3:this.rt(i)&&(s.We(),s.Le(e.resumeToken));break;case 4:this.rt(i)&&(this.it(i),s.Le(e.resumeToken));break;default:pt(56790,{state:e.state})}}))}forEachTarget(e,i){e.targetIds.length>0?e.targetIds.forEach(i):this.ze.forEach(((s,o)=>{this.rt(o)&&i(o)}))}st(e){const i=e.targetId,s=e.Ce.count,o=this.ot(i);if(o){const f=o.target;if(ud(f))if(s===0){const d=new ht(f.path);this.et(i,d,Qe.newNoDocument(d,vt.min()))}else Bt(s===1,20013,{expectedCount:s});else{const d=this._t(i);if(d!==s){const g=this.ut(e),v=g?this.ct(g,e,d):1;if(v!==0){this.it(i);const _=v===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(i,_)}}}}}ut(e){const i=e.Ce.unchangedNames;if(!i||!i.bits)return null;const{bits:{bitmap:s="",padding:o=0},hashCount:f=0}=i;let d,g;try{d=ba(s).toUint8Array()}catch(v){if(v instanceof Av)return bs("Decoding the base64 bloom filter in existence filter failed ("+v.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw v}try{g=new zd(d,o,f)}catch(v){return bs(v instanceof Ql?"BloomFilter error: ":"Applying bloom filter failed: ",v),null}return g.ge===0?null:g}ct(e,i,s){return i.Ce.count===s-this.Pt(e,i.targetId)?0:2}Pt(e,i){const s=this.Ge.getRemoteKeysForTarget(i);let o=0;return s.forEach((f=>{const d=this.Ge.ht(),g=`projects/${d.projectId}/databases/${d.database}/documents/${f.path.canonicalString()}`;e.mightContain(g)||(this.et(i,f,null),o++)})),o}Tt(e){const i=new Map;this.ze.forEach(((f,d)=>{const g=this.ot(d);if(g){if(f.current&&ud(g.target)){const v=new ht(g.target.path);this.It(v).has(d)||this.Et(d,v)||this.et(d,v,Qe.newNoDocument(v,e))}f.Be&&(i.set(d,f.ke()),f.qe())}}));let s=It();this.He.forEach(((f,d)=>{let g=!0;d.forEachWhile((v=>{const _=this.ot(v);return!_||_.purpose==="TargetPurposeLimboResolution"||(g=!1,!1)})),g&&(s=s.add(f))})),this.je.forEach(((f,d)=>d.setReadTime(e)));const o=new Sc(e,i,this.Ye,this.je,s);return this.je=ki(),this.Je=Hu(),this.He=Hu(),this.Ye=new ne(Dt),o}Xe(e,i){if(!this.rt(e))return;const s=this.Et(e,i.key)?2:0;this.nt(e).Qe(i.key,s),this.je=this.je.insert(i.key,i),this.Je=this.Je.insert(i.key,this.It(i.key).add(e)),this.He=this.He.insert(i.key,this.dt(i.key).add(e))}et(e,i,s){if(!this.rt(e))return;const o=this.nt(e);this.Et(e,i)?o.Qe(i,1):o.$e(i),this.He=this.He.insert(i,this.dt(i).delete(e)),this.He=this.He.insert(i,this.dt(i).add(e)),s&&(this.je=this.je.insert(i,s))}removeTarget(e){this.ze.delete(e)}_t(e){const i=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+i.addedDocuments.size-i.removedDocuments.size}Ue(e){this.nt(e).Ue()}nt(e){let i=this.ze.get(e);return i||(i=new p_,this.ze.set(e,i)),i}dt(e){let i=this.He.get(e);return i||(i=new be(Dt),this.He=this.He.insert(e,i)),i}It(e){let i=this.Je.get(e);return i||(i=new be(Dt),this.Je=this.Je.insert(e,i)),i}rt(e){const i=this.ot(e)!==null;return i||it("WatchChangeAggregator","Detected inactive target",e),i}ot(e){const i=this.ze.get(e);return i&&i.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new p_),this.Ge.getRemoteKeysForTarget(e).forEach((i=>{this.et(e,i,null)}))}Et(e,i){return this.Ge.getRemoteKeysForTarget(e).has(i)}}function Hu(){return new ne(ht.comparator)}function y_(){return new ne(ht.comparator)}const FS={asc:"ASCENDING",desc:"DESCENDING"},QS={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},YS={and:"AND",or:"OR"};class KS{constructor(e,i){this.databaseId=e,this.useProto3Json=i}}function fd(r,e){return r.useProto3Json||gc(e)?e:{value:e}}function sc(r,e){return r.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function Jv(r,e){return r.useProto3Json?e.toBase64():e.toUint8Array()}function XS(r,e){return sc(r,e.toTimestamp())}function ri(r){return Bt(!!r,49232),vt.fromTimestamp((function(i){const s=Sa(i);return new Jt(s.seconds,s.nanos)})(r))}function kd(r,e){return hd(r,e).canonicalString()}function hd(r,e){const i=(function(o){return new $t(["projects",o.projectId,"databases",o.database])})(r).child("documents");return e===void 0?i:i.child(e)}function Wv(r){const e=$t.fromString(r);return Bt(aE(e),10190,{key:e.toString()}),e}function dd(r,e){return kd(r.databaseId,e.path)}function Qh(r,e){const i=Wv(e);if(i.get(1)!==r.databaseId.projectId)throw new rt(K.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+i.get(1)+" vs "+r.databaseId.projectId);if(i.get(3)!==r.databaseId.database)throw new rt(K.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+i.get(3)+" vs "+r.databaseId.database);return new ht(eE(i))}function tE(r,e){return kd(r.databaseId,e)}function ZS(r){const e=Wv(r);return e.length===4?$t.emptyPath():eE(e)}function md(r){return new $t(["projects",r.databaseId.projectId,"databases",r.databaseId.database]).canonicalString()}function eE(r){return Bt(r.length>4&&r.get(4)==="documents",29091,{key:r.toString()}),r.popFirst(5)}function __(r,e,i){return{name:dd(r,e),fields:i.value.mapValue.fields}}function $S(r,e){let i;if("targetChange"in e){e.targetChange;const s=(function(_){return _==="NO_CHANGE"?0:_==="ADD"?1:_==="REMOVE"?2:_==="CURRENT"?3:_==="RESET"?4:pt(39313,{state:_})})(e.targetChange.targetChangeType||"NO_CHANGE"),o=e.targetChange.targetIds||[],f=(function(_,A){return _.useProto3Json?(Bt(A===void 0||typeof A=="string",58123),Be.fromBase64String(A||"")):(Bt(A===void 0||A instanceof Buffer||A instanceof Uint8Array,16193),Be.fromUint8Array(A||new Uint8Array))})(r,e.targetChange.resumeToken),d=e.targetChange.cause,g=d&&(function(_){const A=_.code===void 0?K.UNKNOWN:Xv(_.code);return new rt(A,_.message||"")})(d);i=new $v(s,o,f,g||null)}else if("documentChange"in e){e.documentChange;const s=e.documentChange;s.document,s.document.name,s.document.updateTime;const o=Qh(r,s.document.name),f=ri(s.document.updateTime),d=s.document.createTime?ri(s.document.createTime):vt.min(),g=new nn({mapValue:{fields:s.document.fields}}),v=Qe.newFoundDocument(o,f,d,g),_=s.targetIds||[],A=s.removedTargetIds||[];i=new Xu(_,A,v.key,v)}else if("documentDelete"in e){e.documentDelete;const s=e.documentDelete;s.document;const o=Qh(r,s.document),f=s.readTime?ri(s.readTime):vt.min(),d=Qe.newNoDocument(o,f),g=s.removedTargetIds||[];i=new Xu([],g,d.key,d)}else if("documentRemove"in e){e.documentRemove;const s=e.documentRemove;s.document;const o=Qh(r,s.document),f=s.removedTargetIds||[];i=new Xu([],f,o,null)}else{if(!("filter"in e))return pt(11601,{Rt:e});{e.filter;const s=e.filter;s.targetId;const{count:o=0,unchangedNames:f}=s,d=new BS(o,f),g=s.targetId;i=new Zv(g,d)}}return i}function JS(r,e){let i;if(e instanceof fo)i={update:__(r,e.key,e.value)};else if(e instanceof Kv)i={delete:dd(r,e.key)};else if(e instanceof Va)i={update:__(r,e.key,e.data),updateMask:lb(e.fieldMask)};else{if(!(e instanceof PS))return pt(16599,{Vt:e.type});i={verify:dd(r,e.key)}}return e.fieldTransforms.length>0&&(i.updateTransforms=e.fieldTransforms.map((s=>(function(f,d){const g=d.transform;if(g instanceof ac)return{fieldPath:d.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(g instanceof lo)return{fieldPath:d.field.canonicalString(),appendMissingElements:{values:g.elements}};if(g instanceof oo)return{fieldPath:d.field.canonicalString(),removeAllFromArray:{values:g.elements}};if(g instanceof rc)return{fieldPath:d.field.canonicalString(),increment:g.Ae};throw pt(20930,{transform:d.transform})})(0,s)))),e.precondition.isNone||(i.currentDocument=(function(o,f){return f.updateTime!==void 0?{updateTime:XS(o,f.updateTime)}:f.exists!==void 0?{exists:f.exists}:pt(27497)})(r,e.precondition)),i}function WS(r,e){return r&&r.length>0?(Bt(e!==void 0,14353),r.map((i=>(function(o,f){let d=o.updateTime?ri(o.updateTime):ri(f);return d.isEqual(vt.min())&&(d=ri(f)),new xS(d,o.transformResults||[])})(i,e)))):[]}function tb(r,e){return{documents:[tE(r,e.path)]}}function eb(r,e){const i={structuredQuery:{}},s=e.path;let o;e.collectionGroup!==null?(o=s,i.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(o=s.popLast(),i.structuredQuery.from=[{collectionId:s.lastSegment()}]),i.parent=tE(r,o);const f=(function(_){if(_.length!==0)return iE(ui.create(_,"and"))})(e.filters);f&&(i.structuredQuery.where=f);const d=(function(_){if(_.length!==0)return _.map((A=>(function(I){return{field:Es(I.field),direction:ab(I.dir)}})(A)))})(e.orderBy);d&&(i.structuredQuery.orderBy=d);const g=fd(r,e.limit);return g!==null&&(i.structuredQuery.limit=g),e.startAt&&(i.structuredQuery.startAt=(function(_){return{before:_.inclusive,values:_.position}})(e.startAt)),e.endAt&&(i.structuredQuery.endAt=(function(_){return{before:!_.inclusive,values:_.position}})(e.endAt)),{ft:i,parent:o}}function nb(r){let e=ZS(r.parent);const i=r.structuredQuery,s=i.from?i.from.length:0;let o=null;if(s>0){Bt(s===1,65062);const A=i.from[0];A.allDescendants?o=A.collectionId:e=e.child(A.collectionId)}let f=[];i.where&&(f=(function(V){const I=nE(V);return I instanceof ui&&Mv(I)?I.getFilters():[I]})(i.where));let d=[];i.orderBy&&(d=(function(V){return V.map((I=>(function(J){return new ic(Ts(J.field),(function(Z){switch(Z){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(J.direction))})(I)))})(i.orderBy));let g=null;i.limit&&(g=(function(V){let I;return I=typeof V=="object"?V.value:V,gc(I)?null:I})(i.limit));let v=null;i.startAt&&(v=(function(V){const I=!!V.before,G=V.values||[];return new nc(G,I)})(i.startAt));let _=null;return i.endAt&&(_=(function(V){const I=!V.before,G=V.values||[];return new nc(G,I)})(i.endAt)),ES(e,o,d,f,g,"F",v,_)}function ib(r,e){const i=(function(o){switch(o){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return pt(28987,{purpose:o})}})(e.purpose);return i==null?null:{"goog-listen-tags":i}}function nE(r){return r.unaryFilter!==void 0?(function(i){switch(i.unaryFilter.op){case"IS_NAN":const s=Ts(i.unaryFilter.field);return Se.create(s,"==",{doubleValue:NaN});case"IS_NULL":const o=Ts(i.unaryFilter.field);return Se.create(o,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const f=Ts(i.unaryFilter.field);return Se.create(f,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const d=Ts(i.unaryFilter.field);return Se.create(d,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return pt(61313);default:return pt(60726)}})(r):r.fieldFilter!==void 0?(function(i){return Se.create(Ts(i.fieldFilter.field),(function(o){switch(o){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return pt(58110);default:return pt(50506)}})(i.fieldFilter.op),i.fieldFilter.value)})(r):r.compositeFilter!==void 0?(function(i){return ui.create(i.compositeFilter.filters.map((s=>nE(s))),(function(o){switch(o){case"AND":return"and";case"OR":return"or";default:return pt(1026)}})(i.compositeFilter.op))})(r):pt(30097,{filter:r})}function ab(r){return FS[r]}function rb(r){return QS[r]}function sb(r){return YS[r]}function Es(r){return{fieldPath:r.canonicalString()}}function Ts(r){return ke.fromServerFormat(r.fieldPath)}function iE(r){return r instanceof Se?(function(i){if(i.op==="=="){if(r_(i.value))return{unaryFilter:{field:Es(i.field),op:"IS_NAN"}};if(a_(i.value))return{unaryFilter:{field:Es(i.field),op:"IS_NULL"}}}else if(i.op==="!="){if(r_(i.value))return{unaryFilter:{field:Es(i.field),op:"IS_NOT_NAN"}};if(a_(i.value))return{unaryFilter:{field:Es(i.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Es(i.field),op:rb(i.op),value:i.value}}})(r):r instanceof ui?(function(i){const s=i.getFilters().map((o=>iE(o)));return s.length===1?s[0]:{compositeFilter:{op:sb(i.op),filters:s}}})(r):pt(54877,{filter:r})}function lb(r){const e=[];return r.fields.forEach((i=>e.push(i.canonicalString()))),{fieldPaths:e}}function aE(r){return r.length>=4&&r.get(0)==="projects"&&r.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ga{constructor(e,i,s,o,f=vt.min(),d=vt.min(),g=Be.EMPTY_BYTE_STRING,v=null){this.target=e,this.targetId=i,this.purpose=s,this.sequenceNumber=o,this.snapshotVersion=f,this.lastLimboFreeSnapshotVersion=d,this.resumeToken=g,this.expectedCount=v}withSequenceNumber(e){return new ga(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,i){return new ga(this.target,this.targetId,this.purpose,this.sequenceNumber,i,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new ga(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new ga(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ob{constructor(e){this.yt=e}}function ub(r){const e=nb({parent:r.parent,structuredQuery:r.structuredQuery});return r.limitType==="LAST"?cd(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cb{constructor(){this.Cn=new fb}addToCollectionParentIndex(e,i){return this.Cn.add(i),Y.resolve()}getCollectionParents(e,i){return Y.resolve(this.Cn.getEntries(i))}addFieldIndex(e,i){return Y.resolve()}deleteFieldIndex(e,i){return Y.resolve()}deleteAllFieldIndexes(e){return Y.resolve()}createTargetIndexes(e,i){return Y.resolve()}getDocumentsMatchingTarget(e,i){return Y.resolve(null)}getIndexType(e,i){return Y.resolve(0)}getFieldIndexes(e,i){return Y.resolve([])}getNextCollectionGroupToUpdate(e){return Y.resolve(null)}getMinOffset(e,i){return Y.resolve(Aa.min())}getMinOffsetFromCollectionGroup(e,i){return Y.resolve(Aa.min())}updateCollectionGroup(e,i,s){return Y.resolve()}updateIndexEntries(e,i){return Y.resolve()}}class fb{constructor(){this.index={}}add(e){const i=e.lastSegment(),s=e.popLast(),o=this.index[i]||new be($t.comparator),f=!o.has(s);return this.index[i]=o.add(s),f}has(e){const i=e.lastSegment(),s=e.popLast(),o=this.index[i];return o&&o.has(s)}getEntries(e){return(this.index[e]||new be($t.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const v_={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},rE=41943040;class en{static withCacheSize(e){return new en(e,en.DEFAULT_COLLECTION_PERCENTILE,en.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,i,s){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=i,this.maximumSequenceNumbersToCollect=s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */en.DEFAULT_COLLECTION_PERCENTILE=10,en.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,en.DEFAULT=new en(rE,en.DEFAULT_COLLECTION_PERCENTILE,en.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),en.DISABLED=new en(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ds{constructor(e){this.ar=e}next(){return this.ar+=2,this.ar}static ur(){return new Ds(0)}static cr(){return new Ds(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const E_="LruGarbageCollector",hb=1048576;function T_([r,e],[i,s]){const o=Dt(r,i);return o===0?Dt(e,s):o}class db{constructor(e){this.Ir=e,this.buffer=new be(T_),this.Er=0}dr(){return++this.Er}Ar(e){const i=[e,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(i);else{const s=this.buffer.last();T_(i,s)<0&&(this.buffer=this.buffer.delete(s).add(i))}}get maxValue(){return this.buffer.last()[0]}}class mb{constructor(e,i,s){this.garbageCollector=e,this.asyncQueue=i,this.localStore=s,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(e){it(E_,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(i){Ms(i)?it(E_,"Ignoring IndexedDB error during garbage collection: ",i):await Os(i)}await this.Vr(3e5)}))}}class gb{constructor(e,i){this.mr=e,this.params=i}calculateTargetCount(e,i){return this.mr.gr(e).next((s=>Math.floor(i/100*s)))}nthSequenceNumber(e,i){if(i===0)return Y.resolve(mc.ce);const s=new db(i);return this.mr.forEachTarget(e,(o=>s.Ar(o.sequenceNumber))).next((()=>this.mr.pr(e,(o=>s.Ar(o))))).next((()=>s.maxValue))}removeTargets(e,i,s){return this.mr.removeTargets(e,i,s)}removeOrphanedDocuments(e,i){return this.mr.removeOrphanedDocuments(e,i)}collect(e,i){return this.params.cacheSizeCollectionThreshold===-1?(it("LruGarbageCollector","Garbage collection skipped; disabled"),Y.resolve(v_)):this.getCacheSize(e).next((s=>s<this.params.cacheSizeCollectionThreshold?(it("LruGarbageCollector",`Garbage collection skipped; Cache size ${s} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),v_):this.yr(e,i)))}getCacheSize(e){return this.mr.getCacheSize(e)}yr(e,i){let s,o,f,d,g,v,_;const A=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((V=>(V>this.params.maximumSequenceNumbersToCollect?(it("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${V}`),o=this.params.maximumSequenceNumbersToCollect):o=V,d=Date.now(),this.nthSequenceNumber(e,o)))).next((V=>(s=V,g=Date.now(),this.removeTargets(e,s,i)))).next((V=>(f=V,v=Date.now(),this.removeOrphanedDocuments(e,s)))).next((V=>(_=Date.now(),_s()<=xt.DEBUG&&it("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${d-A}ms
	Determined least recently used ${o} in `+(g-d)+`ms
	Removed ${f} targets in `+(v-g)+`ms
	Removed ${V} documents in `+(_-v)+`ms
Total Duration: ${_-A}ms`),Y.resolve({didRun:!0,sequenceNumbersCollected:o,targetsRemoved:f,documentsRemoved:V}))))}}function pb(r,e){return new gb(r,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yb{constructor(){this.changes=new br((e=>e.toString()),((e,i)=>e.isEqual(i))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,i){this.assertNotApplied(),this.changes.set(e,Qe.newInvalidDocument(e).setReadTime(i))}getEntry(e,i){this.assertNotApplied();const s=this.changes.get(i);return s!==void 0?Y.resolve(s):this.getFromCache(e,i)}getEntries(e,i){return this.getAllFromCache(e,i)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _b{constructor(e,i){this.overlayedDocument=e,this.mutatedFields=i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vb{constructor(e,i,s,o){this.remoteDocumentCache=e,this.mutationQueue=i,this.documentOverlayCache=s,this.indexManager=o}getDocument(e,i){let s=null;return this.documentOverlayCache.getOverlay(e,i).next((o=>(s=o,this.remoteDocumentCache.getEntry(e,i)))).next((o=>(s!==null&&Jl(s.mutation,o,mn.empty(),Jt.now()),o)))}getDocuments(e,i){return this.remoteDocumentCache.getEntries(e,i).next((s=>this.getLocalViewOfDocuments(e,s,It()).next((()=>s))))}getLocalViewOfDocuments(e,i,s=It()){const o=pr();return this.populateOverlays(e,o,i).next((()=>this.computeViews(e,i,o,s).next((f=>{let d=Fl();return f.forEach(((g,v)=>{d=d.insert(g,v.overlayedDocument)})),d}))))}getOverlayedDocuments(e,i){const s=pr();return this.populateOverlays(e,s,i).next((()=>this.computeViews(e,i,s,It())))}populateOverlays(e,i,s){const o=[];return s.forEach((f=>{i.has(f)||o.push(f)})),this.documentOverlayCache.getOverlays(e,o).next((f=>{f.forEach(((d,g)=>{i.set(d,g)}))}))}computeViews(e,i,s,o){let f=ki();const d=$l(),g=(function(){return $l()})();return i.forEach(((v,_)=>{const A=s.get(_.key);o.has(_.key)&&(A===void 0||A.mutation instanceof Va)?f=f.insert(_.key,_):A!==void 0?(d.set(_.key,A.mutation.getFieldMask()),Jl(A.mutation,_,A.mutation.getFieldMask(),Jt.now())):d.set(_.key,mn.empty())})),this.recalculateAndSaveOverlays(e,f).next((v=>(v.forEach(((_,A)=>d.set(_,A))),i.forEach(((_,A)=>g.set(_,new _b(A,d.get(_)??null)))),g)))}recalculateAndSaveOverlays(e,i){const s=$l();let o=new ne(((d,g)=>d-g)),f=It();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,i).next((d=>{for(const g of d)g.keys().forEach((v=>{const _=i.get(v);if(_===null)return;let A=s.get(v)||mn.empty();A=g.applyToLocalView(_,A),s.set(v,A);const V=(o.get(g.batchId)||It()).add(v);o=o.insert(g.batchId,V)}))})).next((()=>{const d=[],g=o.getReverseIterator();for(;g.hasNext();){const v=g.getNext(),_=v.key,A=v.value,V=Bv();A.forEach((I=>{if(!f.has(I)){const G=Qv(i.get(I),s.get(I));G!==null&&V.set(I,G),f=f.add(I)}})),d.push(this.documentOverlayCache.saveOverlays(e,_,V))}return Y.waitFor(d)})).next((()=>s))}recalculateAndSaveOverlaysForDocumentKeys(e,i){return this.remoteDocumentCache.getEntries(e,i).next((s=>this.recalculateAndSaveOverlays(e,s)))}getDocumentsMatchingQuery(e,i,s,o){return(function(d){return ht.isDocumentKey(d.path)&&d.collectionGroup===null&&d.filters.length===0})(i)?this.getDocumentsMatchingDocumentQuery(e,i.path):TS(i)?this.getDocumentsMatchingCollectionGroupQuery(e,i,s,o):this.getDocumentsMatchingCollectionQuery(e,i,s,o)}getNextDocuments(e,i,s,o){return this.remoteDocumentCache.getAllFromCollectionGroup(e,i,s,o).next((f=>{const d=o-f.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,i,s.largestBatchId,o-f.size):Y.resolve(pr());let g=io,v=f;return d.next((_=>Y.forEach(_,((A,V)=>(g<V.largestBatchId&&(g=V.largestBatchId),f.get(A)?Y.resolve():this.remoteDocumentCache.getEntry(e,A).next((I=>{v=v.insert(A,I)}))))).next((()=>this.populateOverlays(e,_,f))).next((()=>this.computeViews(e,v,_,It()))).next((A=>({batchId:g,changes:kv(A)})))))}))}getDocumentsMatchingDocumentQuery(e,i){return this.getDocument(e,new ht(i)).next((s=>{let o=Fl();return s.isFoundDocument()&&(o=o.insert(s.key,s)),o}))}getDocumentsMatchingCollectionGroupQuery(e,i,s,o){const f=i.collectionGroup;let d=Fl();return this.indexManager.getCollectionParents(e,f).next((g=>Y.forEach(g,(v=>{const _=(function(V,I){return new yc(I,null,V.explicitOrderBy.slice(),V.filters.slice(),V.limit,V.limitType,V.startAt,V.endAt)})(i,v.child(f));return this.getDocumentsMatchingCollectionQuery(e,_,s,o).next((A=>{A.forEach(((V,I)=>{d=d.insert(V,I)}))}))})).next((()=>d))))}getDocumentsMatchingCollectionQuery(e,i,s,o){let f;return this.documentOverlayCache.getOverlaysForCollection(e,i.path,s.largestBatchId).next((d=>(f=d,this.remoteDocumentCache.getDocumentsMatchingQuery(e,i,s,f,o)))).next((d=>{f.forEach(((v,_)=>{const A=_.getKey();d.get(A)===null&&(d=d.insert(A,Qe.newInvalidDocument(A)))}));let g=Fl();return d.forEach(((v,_)=>{const A=f.get(v);A!==void 0&&Jl(A.mutation,_,mn.empty(),Jt.now()),Ec(i,_)&&(g=g.insert(v,_))})),g}))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Eb{constructor(e){this.serializer=e,this.Lr=new Map,this.kr=new Map}getBundleMetadata(e,i){return Y.resolve(this.Lr.get(i))}saveBundleMetadata(e,i){return this.Lr.set(i.id,(function(o){return{id:o.id,version:o.version,createTime:ri(o.createTime)}})(i)),Y.resolve()}getNamedQuery(e,i){return Y.resolve(this.kr.get(i))}saveNamedQuery(e,i){return this.kr.set(i.name,(function(o){return{name:o.name,query:ub(o.bundledQuery),readTime:ri(o.readTime)}})(i)),Y.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tb{constructor(){this.overlays=new ne(ht.comparator),this.qr=new Map}getOverlay(e,i){return Y.resolve(this.overlays.get(i))}getOverlays(e,i){const s=pr();return Y.forEach(i,(o=>this.getOverlay(e,o).next((f=>{f!==null&&s.set(o,f)})))).next((()=>s))}saveOverlays(e,i,s){return s.forEach(((o,f)=>{this.St(e,i,f)})),Y.resolve()}removeOverlaysForBatchId(e,i,s){const o=this.qr.get(s);return o!==void 0&&(o.forEach((f=>this.overlays=this.overlays.remove(f))),this.qr.delete(s)),Y.resolve()}getOverlaysForCollection(e,i,s){const o=pr(),f=i.length+1,d=new ht(i.child("")),g=this.overlays.getIteratorFrom(d);for(;g.hasNext();){const v=g.getNext().value,_=v.getKey();if(!i.isPrefixOf(_.path))break;_.path.length===f&&v.largestBatchId>s&&o.set(v.getKey(),v)}return Y.resolve(o)}getOverlaysForCollectionGroup(e,i,s,o){let f=new ne(((_,A)=>_-A));const d=this.overlays.getIterator();for(;d.hasNext();){const _=d.getNext().value;if(_.getKey().getCollectionGroup()===i&&_.largestBatchId>s){let A=f.get(_.largestBatchId);A===null&&(A=pr(),f=f.insert(_.largestBatchId,A)),A.set(_.getKey(),_)}}const g=pr(),v=f.getIterator();for(;v.hasNext()&&(v.getNext().value.forEach(((_,A)=>g.set(_,A))),!(g.size()>=o)););return Y.resolve(g)}St(e,i,s){const o=this.overlays.get(s.key);if(o!==null){const d=this.qr.get(o.largestBatchId).delete(s.key);this.qr.set(o.largestBatchId,d)}this.overlays=this.overlays.insert(s.key,new kS(i,s));let f=this.qr.get(i);f===void 0&&(f=It(),this.qr.set(i,f)),this.qr.set(i,f.add(s.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ab{constructor(){this.sessionToken=Be.EMPTY_BYTE_STRING}getSessionToken(e){return Y.resolve(this.sessionToken)}setSessionToken(e,i){return this.sessionToken=i,Y.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bd{constructor(){this.Qr=new be(Oe.$r),this.Ur=new be(Oe.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(e,i){const s=new Oe(e,i);this.Qr=this.Qr.add(s),this.Ur=this.Ur.add(s)}Wr(e,i){e.forEach((s=>this.addReference(s,i)))}removeReference(e,i){this.Gr(new Oe(e,i))}zr(e,i){e.forEach((s=>this.removeReference(s,i)))}jr(e){const i=new ht(new $t([])),s=new Oe(i,e),o=new Oe(i,e+1),f=[];return this.Ur.forEachInRange([s,o],(d=>{this.Gr(d),f.push(d.key)})),f}Jr(){this.Qr.forEach((e=>this.Gr(e)))}Gr(e){this.Qr=this.Qr.delete(e),this.Ur=this.Ur.delete(e)}Hr(e){const i=new ht(new $t([])),s=new Oe(i,e),o=new Oe(i,e+1);let f=It();return this.Ur.forEachInRange([s,o],(d=>{f=f.add(d.key)})),f}containsKey(e){const i=new Oe(e,0),s=this.Qr.firstAfterOrEqual(i);return s!==null&&e.isEqual(s.key)}}class Oe{constructor(e,i){this.key=e,this.Yr=i}static $r(e,i){return ht.comparator(e.key,i.key)||Dt(e.Yr,i.Yr)}static Kr(e,i){return Dt(e.Yr,i.Yr)||ht.comparator(e.key,i.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sb{constructor(e,i){this.indexManager=e,this.referenceDelegate=i,this.mutationQueue=[],this.tr=1,this.Zr=new be(Oe.$r)}checkEmpty(e){return Y.resolve(this.mutationQueue.length===0)}addMutationBatch(e,i,s,o){const f=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const d=new zS(f,i,s,o);this.mutationQueue.push(d);for(const g of o)this.Zr=this.Zr.add(new Oe(g.key,f)),this.indexManager.addToCollectionParentIndex(e,g.key.path.popLast());return Y.resolve(d)}lookupMutationBatch(e,i){return Y.resolve(this.Xr(i))}getNextMutationBatchAfterBatchId(e,i){const s=i+1,o=this.ei(s),f=o<0?0:o;return Y.resolve(this.mutationQueue.length>f?this.mutationQueue[f]:null)}getHighestUnacknowledgedBatchId(){return Y.resolve(this.mutationQueue.length===0?Od:this.tr-1)}getAllMutationBatches(e){return Y.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,i){const s=new Oe(i,0),o=new Oe(i,Number.POSITIVE_INFINITY),f=[];return this.Zr.forEachInRange([s,o],(d=>{const g=this.Xr(d.Yr);f.push(g)})),Y.resolve(f)}getAllMutationBatchesAffectingDocumentKeys(e,i){let s=new be(Dt);return i.forEach((o=>{const f=new Oe(o,0),d=new Oe(o,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([f,d],(g=>{s=s.add(g.Yr)}))})),Y.resolve(this.ti(s))}getAllMutationBatchesAffectingQuery(e,i){const s=i.path,o=s.length+1;let f=s;ht.isDocumentKey(f)||(f=f.child(""));const d=new Oe(new ht(f),0);let g=new be(Dt);return this.Zr.forEachWhile((v=>{const _=v.key.path;return!!s.isPrefixOf(_)&&(_.length===o&&(g=g.add(v.Yr)),!0)}),d),Y.resolve(this.ti(g))}ti(e){const i=[];return e.forEach((s=>{const o=this.Xr(s);o!==null&&i.push(o)})),i}removeMutationBatch(e,i){Bt(this.ni(i.batchId,"removed")===0,55003),this.mutationQueue.shift();let s=this.Zr;return Y.forEach(i.mutations,(o=>{const f=new Oe(o.key,i.batchId);return s=s.delete(f),this.referenceDelegate.markPotentiallyOrphaned(e,o.key)})).next((()=>{this.Zr=s}))}ir(e){}containsKey(e,i){const s=new Oe(i,0),o=this.Zr.firstAfterOrEqual(s);return Y.resolve(i.isEqual(o&&o.key))}performConsistencyCheck(e){return this.mutationQueue.length,Y.resolve()}ni(e,i){return this.ei(e)}ei(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Xr(e){const i=this.ei(e);return i<0||i>=this.mutationQueue.length?null:this.mutationQueue[i]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bb{constructor(e){this.ri=e,this.docs=(function(){return new ne(ht.comparator)})(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,i){const s=i.key,o=this.docs.get(s),f=o?o.size:0,d=this.ri(i);return this.docs=this.docs.insert(s,{document:i.mutableCopy(),size:d}),this.size+=d-f,this.indexManager.addToCollectionParentIndex(e,s.path.popLast())}removeEntry(e){const i=this.docs.get(e);i&&(this.docs=this.docs.remove(e),this.size-=i.size)}getEntry(e,i){const s=this.docs.get(i);return Y.resolve(s?s.document.mutableCopy():Qe.newInvalidDocument(i))}getEntries(e,i){let s=ki();return i.forEach((o=>{const f=this.docs.get(o);s=s.insert(o,f?f.document.mutableCopy():Qe.newInvalidDocument(o))})),Y.resolve(s)}getDocumentsMatchingQuery(e,i,s,o){let f=ki();const d=i.path,g=new ht(d.child("__id-9223372036854775808__")),v=this.docs.getIteratorFrom(g);for(;v.hasNext();){const{key:_,value:{document:A}}=v.getNext();if(!d.isPrefixOf(_.path))break;_.path.length>d.length+1||JA($A(A),s)<=0||(o.has(A.key)||Ec(i,A))&&(f=f.insert(A.key,A.mutableCopy()))}return Y.resolve(f)}getAllFromCollectionGroup(e,i,s,o){pt(9500)}ii(e,i){return Y.forEach(this.docs,(s=>i(s)))}newChangeBuffer(e){return new Rb(this)}getSize(e){return Y.resolve(this.size)}}class Rb extends yb{constructor(e){super(),this.Nr=e}applyChanges(e){const i=[];return this.changes.forEach(((s,o)=>{o.isValidDocument()?i.push(this.Nr.addEntry(e,o)):this.Nr.removeEntry(s)})),Y.waitFor(i)}getFromCache(e,i){return this.Nr.getEntry(e,i)}getAllFromCache(e,i){return this.Nr.getEntries(e,i)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wb{constructor(e){this.persistence=e,this.si=new br((i=>xd(i)),Ud),this.lastRemoteSnapshotVersion=vt.min(),this.highestTargetId=0,this.oi=0,this._i=new Bd,this.targetCount=0,this.ai=Ds.ur()}forEachTarget(e,i){return this.si.forEach(((s,o)=>i(o))),Y.resolve()}getLastRemoteSnapshotVersion(e){return Y.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return Y.resolve(this.oi)}allocateTargetId(e){return this.highestTargetId=this.ai.next(),Y.resolve(this.highestTargetId)}setTargetsMetadata(e,i,s){return s&&(this.lastRemoteSnapshotVersion=s),i>this.oi&&(this.oi=i),Y.resolve()}Pr(e){this.si.set(e.target,e);const i=e.targetId;i>this.highestTargetId&&(this.ai=new Ds(i),this.highestTargetId=i),e.sequenceNumber>this.oi&&(this.oi=e.sequenceNumber)}addTargetData(e,i){return this.Pr(i),this.targetCount+=1,Y.resolve()}updateTargetData(e,i){return this.Pr(i),Y.resolve()}removeTargetData(e,i){return this.si.delete(i.target),this._i.jr(i.targetId),this.targetCount-=1,Y.resolve()}removeTargets(e,i,s){let o=0;const f=[];return this.si.forEach(((d,g)=>{g.sequenceNumber<=i&&s.get(g.targetId)===null&&(this.si.delete(d),f.push(this.removeMatchingKeysForTargetId(e,g.targetId)),o++)})),Y.waitFor(f).next((()=>o))}getTargetCount(e){return Y.resolve(this.targetCount)}getTargetData(e,i){const s=this.si.get(i)||null;return Y.resolve(s)}addMatchingKeys(e,i,s){return this._i.Wr(i,s),Y.resolve()}removeMatchingKeys(e,i,s){this._i.zr(i,s);const o=this.persistence.referenceDelegate,f=[];return o&&i.forEach((d=>{f.push(o.markPotentiallyOrphaned(e,d))})),Y.waitFor(f)}removeMatchingKeysForTargetId(e,i){return this._i.jr(i),Y.resolve()}getMatchingKeysForTargetId(e,i){const s=this._i.Hr(i);return Y.resolve(s)}containsKey(e,i){return Y.resolve(this._i.containsKey(i))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sE{constructor(e,i){this.ui={},this.overlays={},this.ci=new mc(0),this.li=!1,this.li=!0,this.hi=new Ab,this.referenceDelegate=e(this),this.Pi=new wb(this),this.indexManager=new cb,this.remoteDocumentCache=(function(o){return new bb(o)})((s=>this.referenceDelegate.Ti(s))),this.serializer=new ob(i),this.Ii=new Eb(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let i=this.overlays[e.toKey()];return i||(i=new Tb,this.overlays[e.toKey()]=i),i}getMutationQueue(e,i){let s=this.ui[e.toKey()];return s||(s=new Sb(i,this.referenceDelegate),this.ui[e.toKey()]=s),s}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(e,i,s){it("MemoryPersistence","Starting transaction:",e);const o=new Cb(this.ci.next());return this.referenceDelegate.Ei(),s(o).next((f=>this.referenceDelegate.di(o).next((()=>f)))).toPromise().then((f=>(o.raiseOnCommittedEvent(),f)))}Ai(e,i){return Y.or(Object.values(this.ui).map((s=>()=>s.containsKey(e,i))))}}class Cb extends tS{constructor(e){super(),this.currentSequenceNumber=e}}class qd{constructor(e){this.persistence=e,this.Ri=new Bd,this.Vi=null}static mi(e){return new qd(e)}get fi(){if(this.Vi)return this.Vi;throw pt(60996)}addReference(e,i,s){return this.Ri.addReference(s,i),this.fi.delete(s.toString()),Y.resolve()}removeReference(e,i,s){return this.Ri.removeReference(s,i),this.fi.add(s.toString()),Y.resolve()}markPotentiallyOrphaned(e,i){return this.fi.add(i.toString()),Y.resolve()}removeTarget(e,i){this.Ri.jr(i.targetId).forEach((o=>this.fi.add(o.toString())));const s=this.persistence.getTargetCache();return s.getMatchingKeysForTargetId(e,i.targetId).next((o=>{o.forEach((f=>this.fi.add(f.toString())))})).next((()=>s.removeTargetData(e,i)))}Ei(){this.Vi=new Set}di(e){const i=this.persistence.getRemoteDocumentCache().newChangeBuffer();return Y.forEach(this.fi,(s=>{const o=ht.fromPath(s);return this.gi(e,o).next((f=>{f||i.removeEntry(o,vt.min())}))})).next((()=>(this.Vi=null,i.apply(e))))}updateLimboDocument(e,i){return this.gi(e,i).next((s=>{s?this.fi.delete(i.toString()):this.fi.add(i.toString())}))}Ti(e){return 0}gi(e,i){return Y.or([()=>Y.resolve(this.Ri.containsKey(i)),()=>this.persistence.getTargetCache().containsKey(e,i),()=>this.persistence.Ai(e,i)])}}class lc{constructor(e,i){this.persistence=e,this.pi=new br((s=>iS(s.path)),((s,o)=>s.isEqual(o))),this.garbageCollector=pb(this,i)}static mi(e,i){return new lc(e,i)}Ei(){}di(e){return Y.resolve()}forEachTarget(e,i){return this.persistence.getTargetCache().forEachTarget(e,i)}gr(e){const i=this.wr(e);return this.persistence.getTargetCache().getTargetCount(e).next((s=>i.next((o=>s+o))))}wr(e){let i=0;return this.pr(e,(s=>{i++})).next((()=>i))}pr(e,i){return Y.forEach(this.pi,((s,o)=>this.br(e,s,o).next((f=>f?Y.resolve():i(o)))))}removeTargets(e,i,s){return this.persistence.getTargetCache().removeTargets(e,i,s)}removeOrphanedDocuments(e,i){let s=0;const o=this.persistence.getRemoteDocumentCache(),f=o.newChangeBuffer();return o.ii(e,(d=>this.br(e,d,i).next((g=>{g||(s++,f.removeEntry(d,vt.min()))})))).next((()=>f.apply(e))).next((()=>s))}markPotentiallyOrphaned(e,i){return this.pi.set(i,e.currentSequenceNumber),Y.resolve()}removeTarget(e,i){const s=i.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,s)}addReference(e,i,s){return this.pi.set(s,e.currentSequenceNumber),Y.resolve()}removeReference(e,i,s){return this.pi.set(s,e.currentSequenceNumber),Y.resolve()}updateLimboDocument(e,i){return this.pi.set(i,e.currentSequenceNumber),Y.resolve()}Ti(e){let i=e.key.toString().length;return e.isFoundDocument()&&(i+=Qu(e.data.value)),i}br(e,i,s){return Y.or([()=>this.persistence.Ai(e,i),()=>this.persistence.getTargetCache().containsKey(e,i),()=>{const o=this.pi.get(i);return Y.resolve(o!==void 0&&o>s)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jd{constructor(e,i,s,o){this.targetId=e,this.fromCache=i,this.Es=s,this.ds=o}static As(e,i){let s=It(),o=It();for(const f of i.docChanges)switch(f.type){case 0:s=s.add(f.doc.key);break;case 1:o=o.add(f.doc.key)}return new jd(e,i.fromCache,s,o)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Db{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ib{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=(function(){return v1()?8:eS(p1())>0?6:4})()}initialize(e,i){this.ps=e,this.indexManager=i,this.Rs=!0}getDocumentsMatchingQuery(e,i,s,o){const f={result:null};return this.ys(e,i).next((d=>{f.result=d})).next((()=>{if(!f.result)return this.ws(e,i,o,s).next((d=>{f.result=d}))})).next((()=>{if(f.result)return;const d=new Db;return this.Ss(e,i,d).next((g=>{if(f.result=g,this.Vs)return this.bs(e,i,d,g.size)}))})).next((()=>f.result))}bs(e,i,s,o){return s.documentReadCount<this.fs?(_s()<=xt.DEBUG&&it("QueryEngine","SDK will not create cache indexes for query:",vs(i),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),Y.resolve()):(_s()<=xt.DEBUG&&it("QueryEngine","Query:",vs(i),"scans",s.documentReadCount,"local documents and returns",o,"documents as results."),s.documentReadCount>this.gs*o?(_s()<=xt.DEBUG&&it("QueryEngine","The SDK decides to create cache indexes for query:",vs(i),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,ai(i))):Y.resolve())}ys(e,i){if(u_(i))return Y.resolve(null);let s=ai(i);return this.indexManager.getIndexType(e,s).next((o=>o===0?null:(i.limit!==null&&o===1&&(i=cd(i,null,"F"),s=ai(i)),this.indexManager.getDocumentsMatchingTarget(e,s).next((f=>{const d=It(...f);return this.ps.getDocuments(e,d).next((g=>this.indexManager.getMinOffset(e,s).next((v=>{const _=this.Ds(i,g);return this.Cs(i,_,d,v.readTime)?this.ys(e,cd(i,null,"F")):this.vs(e,_,i,v)}))))})))))}ws(e,i,s,o){return u_(i)||o.isEqual(vt.min())?Y.resolve(null):this.ps.getDocuments(e,s).next((f=>{const d=this.Ds(i,f);return this.Cs(i,d,s,o)?Y.resolve(null):(_s()<=xt.DEBUG&&it("QueryEngine","Re-using previous result from %s to execute query: %s",o.toString(),vs(i)),this.vs(e,d,i,ZA(o,io)).next((g=>g)))}))}Ds(e,i){let s=new be(Pv(e));return i.forEach(((o,f)=>{Ec(e,f)&&(s=s.add(f))})),s}Cs(e,i,s,o){if(e.limit===null)return!1;if(s.size!==i.size)return!0;const f=e.limitType==="F"?i.last():i.first();return!!f&&(f.hasPendingWrites||f.version.compareTo(o)>0)}Ss(e,i,s){return _s()<=xt.DEBUG&&it("QueryEngine","Using full collection scan to execute query:",vs(i)),this.ps.getDocumentsMatchingQuery(e,i,Aa.min(),s)}vs(e,i,s,o){return this.ps.getDocumentsMatchingQuery(e,s,o).next((f=>(i.forEach((d=>{f=f.insert(d.key,d)})),f)))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Hd="LocalStore",Vb=3e8;class Ob{constructor(e,i,s,o){this.persistence=e,this.Fs=i,this.serializer=o,this.Ms=new ne(Dt),this.xs=new br((f=>xd(f)),Ud),this.Os=new Map,this.Ns=e.getRemoteDocumentCache(),this.Pi=e.getTargetCache(),this.Ii=e.getBundleCache(),this.Bs(s)}Bs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new vb(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(i=>e.collect(i,this.Ms)))}}function Mb(r,e,i,s){return new Ob(r,e,i,s)}async function lE(r,e){const i=Et(r);return await i.persistence.runTransaction("Handle user change","readonly",(s=>{let o;return i.mutationQueue.getAllMutationBatches(s).next((f=>(o=f,i.Bs(e),i.mutationQueue.getAllMutationBatches(s)))).next((f=>{const d=[],g=[];let v=It();for(const _ of o){d.push(_.batchId);for(const A of _.mutations)v=v.add(A.key)}for(const _ of f){g.push(_.batchId);for(const A of _.mutations)v=v.add(A.key)}return i.localDocuments.getDocuments(s,v).next((_=>({Ls:_,removedBatchIds:d,addedBatchIds:g})))}))}))}function Nb(r,e){const i=Et(r);return i.persistence.runTransaction("Acknowledge batch","readwrite-primary",(s=>{const o=e.batch.keys(),f=i.Ns.newChangeBuffer({trackRemovals:!0});return(function(g,v,_,A){const V=_.batch,I=V.keys();let G=Y.resolve();return I.forEach((J=>{G=G.next((()=>A.getEntry(v,J))).next(($=>{const Z=_.docVersions.get(J);Bt(Z!==null,48541),$.version.compareTo(Z)<0&&(V.applyToRemoteDocument($,_),$.isValidDocument()&&($.setReadTime(_.commitVersion),A.addEntry($)))}))})),G.next((()=>g.mutationQueue.removeMutationBatch(v,V)))})(i,s,e,f).next((()=>f.apply(s))).next((()=>i.mutationQueue.performConsistencyCheck(s))).next((()=>i.documentOverlayCache.removeOverlaysForBatchId(s,o,e.batch.batchId))).next((()=>i.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(s,(function(g){let v=It();for(let _=0;_<g.mutationResults.length;++_)g.mutationResults[_].transformResults.length>0&&(v=v.add(g.batch.mutations[_].key));return v})(e)))).next((()=>i.localDocuments.getDocuments(s,o)))}))}function oE(r){const e=Et(r);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(i=>e.Pi.getLastRemoteSnapshotVersion(i)))}function xb(r,e){const i=Et(r),s=e.snapshotVersion;let o=i.Ms;return i.persistence.runTransaction("Apply remote event","readwrite-primary",(f=>{const d=i.Ns.newChangeBuffer({trackRemovals:!0});o=i.Ms;const g=[];e.targetChanges.forEach(((A,V)=>{const I=o.get(V);if(!I)return;g.push(i.Pi.removeMatchingKeys(f,A.removedDocuments,V).next((()=>i.Pi.addMatchingKeys(f,A.addedDocuments,V))));let G=I.withSequenceNumber(f.currentSequenceNumber);e.targetMismatches.get(V)!==null?G=G.withResumeToken(Be.EMPTY_BYTE_STRING,vt.min()).withLastLimboFreeSnapshotVersion(vt.min()):A.resumeToken.approximateByteSize()>0&&(G=G.withResumeToken(A.resumeToken,s)),o=o.insert(V,G),(function($,Z,dt){return $.resumeToken.approximateByteSize()===0||Z.snapshotVersion.toMicroseconds()-$.snapshotVersion.toMicroseconds()>=Vb?!0:dt.addedDocuments.size+dt.modifiedDocuments.size+dt.removedDocuments.size>0})(I,G,A)&&g.push(i.Pi.updateTargetData(f,G))}));let v=ki(),_=It();if(e.documentUpdates.forEach((A=>{e.resolvedLimboDocuments.has(A)&&g.push(i.persistence.referenceDelegate.updateLimboDocument(f,A))})),g.push(Ub(f,d,e.documentUpdates).next((A=>{v=A.ks,_=A.qs}))),!s.isEqual(vt.min())){const A=i.Pi.getLastRemoteSnapshotVersion(f).next((V=>i.Pi.setTargetsMetadata(f,f.currentSequenceNumber,s)));g.push(A)}return Y.waitFor(g).next((()=>d.apply(f))).next((()=>i.localDocuments.getLocalViewOfDocuments(f,v,_))).next((()=>v))})).then((f=>(i.Ms=o,f)))}function Ub(r,e,i){let s=It(),o=It();return i.forEach((f=>s=s.add(f))),e.getEntries(r,s).next((f=>{let d=ki();return i.forEach(((g,v)=>{const _=f.get(g);v.isFoundDocument()!==_.isFoundDocument()&&(o=o.add(g)),v.isNoDocument()&&v.version.isEqual(vt.min())?(e.removeEntry(g,v.readTime),d=d.insert(g,v)):!_.isValidDocument()||v.version.compareTo(_.version)>0||v.version.compareTo(_.version)===0&&_.hasPendingWrites?(e.addEntry(v),d=d.insert(g,v)):it(Hd,"Ignoring outdated watch update for ",g,". Current version:",_.version," Watch version:",v.version)})),{ks:d,qs:o}}))}function Lb(r,e){const i=Et(r);return i.persistence.runTransaction("Get next mutation batch","readonly",(s=>(e===void 0&&(e=Od),i.mutationQueue.getNextMutationBatchAfterBatchId(s,e))))}function Pb(r,e){const i=Et(r);return i.persistence.runTransaction("Allocate target","readwrite",(s=>{let o;return i.Pi.getTargetData(s,e).next((f=>f?(o=f,Y.resolve(o)):i.Pi.allocateTargetId(s).next((d=>(o=new ga(e,d,"TargetPurposeListen",s.currentSequenceNumber),i.Pi.addTargetData(s,o).next((()=>o)))))))})).then((s=>{const o=i.Ms.get(s.targetId);return(o===null||s.snapshotVersion.compareTo(o.snapshotVersion)>0)&&(i.Ms=i.Ms.insert(s.targetId,s),i.xs.set(e,s.targetId)),s}))}async function gd(r,e,i){const s=Et(r),o=s.Ms.get(e),f=i?"readwrite":"readwrite-primary";try{i||await s.persistence.runTransaction("Release target",f,(d=>s.persistence.referenceDelegate.removeTarget(d,o)))}catch(d){if(!Ms(d))throw d;it(Hd,`Failed to update sequence numbers for target ${e}: ${d}`)}s.Ms=s.Ms.remove(e),s.xs.delete(o.target)}function A_(r,e,i){const s=Et(r);let o=vt.min(),f=It();return s.persistence.runTransaction("Execute query","readwrite",(d=>(function(v,_,A){const V=Et(v),I=V.xs.get(A);return I!==void 0?Y.resolve(V.Ms.get(I)):V.Pi.getTargetData(_,A)})(s,d,ai(e)).next((g=>{if(g)return o=g.lastLimboFreeSnapshotVersion,s.Pi.getMatchingKeysForTargetId(d,g.targetId).next((v=>{f=v}))})).next((()=>s.Fs.getDocumentsMatchingQuery(d,e,i?o:vt.min(),i?f:It()))).next((g=>(zb(s,SS(e),g),{documents:g,Qs:f})))))}function zb(r,e,i){let s=r.Os.get(e)||vt.min();i.forEach(((o,f)=>{f.readTime.compareTo(s)>0&&(s=f.readTime)})),r.Os.set(e,s)}class S_{constructor(){this.activeTargetIds=IS()}zs(e){this.activeTargetIds=this.activeTargetIds.add(e)}js(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class kb{constructor(){this.Mo=new S_,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,i,s){}addLocalQueryTarget(e,i=!0){return i&&this.Mo.zs(e),this.xo[e]||"not-current"}updateQueryState(e,i,s){this.xo[e]=i}removeLocalQueryTarget(e){this.Mo.js(e)}isLocalQueryTarget(e){return this.Mo.activeTargetIds.has(e)}clearQueryState(e){delete this.xo[e]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(e){return this.Mo.activeTargetIds.has(e)}start(){return this.Mo=new S_,Promise.resolve()}handleUserChange(e,i,s){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bb{Oo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const b_="ConnectivityMonitor";class R_{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(e){this.qo.push(e)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){it(b_,"Network connectivity changed: AVAILABLE");for(const e of this.qo)e(0)}ko(){it(b_,"Network connectivity changed: UNAVAILABLE");for(const e of this.qo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Gu=null;function pd(){return Gu===null?Gu=(function(){return 268435456+Math.round(2147483648*Math.random())})():Gu++,"0x"+Gu.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Yh="RestConnection",qb={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class jb{get $o(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const i=e.ssl?"https":"http",s=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.Uo=i+"://"+e.host,this.Ko=`projects/${s}/databases/${o}`,this.Wo=this.databaseId.database===tc?`project_id=${s}`:`project_id=${s}&database_id=${o}`}Go(e,i,s,o,f){const d=pd(),g=this.zo(e,i.toUriEncodedString());it(Yh,`Sending RPC '${e}' ${d}:`,g,s);const v={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(v,o,f);const{host:_}=new URL(g),A=Rd(_);return this.Jo(e,g,v,s,A).then((V=>(it(Yh,`Received RPC '${e}' ${d}: `,V),V)),(V=>{throw bs(Yh,`RPC '${e}' ${d} failed with error: `,V,"url: ",g,"request:",s),V}))}Ho(e,i,s,o,f,d){return this.Go(e,i,s,o,f)}jo(e,i,s){e["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+Vs})(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),i&&i.headers.forEach(((o,f)=>e[f]=o)),s&&s.headers.forEach(((o,f)=>e[f]=o))}zo(e,i){const s=qb[e];return`${this.Uo}/v1/${i}:${s}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hb{constructor(e){this.Yo=e.Yo,this.Zo=e.Zo}Xo(e){this.e_=e}t_(e){this.n_=e}r_(e){this.i_=e}onMessage(e){this.s_=e}close(){this.Zo()}send(e){this.Yo(e)}o_(){this.e_()}__(){this.n_()}a_(e){this.i_(e)}u_(e){this.s_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ge="WebChannelConnection";class Gb extends jb{constructor(e){super(e),this.c_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,i,s,o,f){const d=pd();return new Promise(((g,v)=>{const _=new fv;_.setWithCredentials(!0),_.listenOnce(hv.COMPLETE,(()=>{try{switch(_.getLastErrorCode()){case Fu.NO_ERROR:const V=_.getResponseJson();it(Ge,`XHR for RPC '${e}' ${d} received:`,JSON.stringify(V)),g(V);break;case Fu.TIMEOUT:it(Ge,`RPC '${e}' ${d} timed out`),v(new rt(K.DEADLINE_EXCEEDED,"Request time out"));break;case Fu.HTTP_ERROR:const I=_.getStatus();if(it(Ge,`RPC '${e}' ${d} failed with status:`,I,"response text:",_.getResponseText()),I>0){let G=_.getResponseJson();Array.isArray(G)&&(G=G[0]);const J=G?.error;if(J&&J.status&&J.message){const $=(function(dt){const ct=dt.toLowerCase().replace(/_/g,"-");return Object.values(K).indexOf(ct)>=0?ct:K.UNKNOWN})(J.status);v(new rt($,J.message))}else v(new rt(K.UNKNOWN,"Server responded with status "+_.getStatus()))}else v(new rt(K.UNAVAILABLE,"Connection failed."));break;default:pt(9055,{l_:e,streamId:d,h_:_.getLastErrorCode(),P_:_.getLastError()})}}finally{it(Ge,`RPC '${e}' ${d} completed.`)}}));const A=JSON.stringify(o);it(Ge,`RPC '${e}' ${d} sending request:`,o),_.send(i,"POST",A,s,15)}))}T_(e,i,s){const o=pd(),f=[this.Uo,"/","google.firestore.v1.Firestore","/",e,"/channel"],d=gv(),g=mv(),v={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},_=this.longPollingOptions.timeoutSeconds;_!==void 0&&(v.longPollingTimeout=Math.round(1e3*_)),this.useFetchStreams&&(v.useFetchStreams=!0),this.jo(v.initMessageHeaders,i,s),v.encodeInitMessageHeaders=!0;const A=f.join("");it(Ge,`Creating RPC '${e}' stream ${o}: ${A}`,v);const V=d.createWebChannel(A,v);this.I_(V);let I=!1,G=!1;const J=new Hb({Yo:Z=>{G?it(Ge,`Not sending because RPC '${e}' stream ${o} is closed:`,Z):(I||(it(Ge,`Opening RPC '${e}' stream ${o} transport.`),V.open(),I=!0),it(Ge,`RPC '${e}' stream ${o} sending:`,Z),V.send(Z))},Zo:()=>V.close()}),$=(Z,dt,ct)=>{Z.listen(dt,(lt=>{try{ct(lt)}catch(Rt){setTimeout((()=>{throw Rt}),0)}}))};return $(V,Gl.EventType.OPEN,(()=>{G||(it(Ge,`RPC '${e}' stream ${o} transport opened.`),J.o_())})),$(V,Gl.EventType.CLOSE,(()=>{G||(G=!0,it(Ge,`RPC '${e}' stream ${o} transport closed`),J.a_(),this.E_(V))})),$(V,Gl.EventType.ERROR,(Z=>{G||(G=!0,bs(Ge,`RPC '${e}' stream ${o} transport errored. Name:`,Z.name,"Message:",Z.message),J.a_(new rt(K.UNAVAILABLE,"The operation could not be completed")))})),$(V,Gl.EventType.MESSAGE,(Z=>{if(!G){const dt=Z.data[0];Bt(!!dt,16349);const ct=dt,lt=ct?.error||ct[0]?.error;if(lt){it(Ge,`RPC '${e}' stream ${o} received error:`,lt);const Rt=lt.status;let ot=(function(S){const w=pe[S];if(w!==void 0)return Xv(w)})(Rt),Ut=lt.message;ot===void 0&&(ot=K.INTERNAL,Ut="Unknown error status: "+Rt+" with message "+lt.message),G=!0,J.a_(new rt(ot,Ut)),V.close()}else it(Ge,`RPC '${e}' stream ${o} received:`,dt),J.u_(dt)}})),$(g,dv.STAT_EVENT,(Z=>{Z.stat===ad.PROXY?it(Ge,`RPC '${e}' stream ${o} detected buffering proxy`):Z.stat===ad.NOPROXY&&it(Ge,`RPC '${e}' stream ${o} detected no buffering proxy`)})),setTimeout((()=>{J.__()}),0),J}terminate(){this.c_.forEach((e=>e.close())),this.c_=[]}I_(e){this.c_.push(e)}E_(e){this.c_=this.c_.filter((i=>i===e))}}function Kh(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bc(r){return new KS(r,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uE{constructor(e,i,s=1e3,o=1.5,f=6e4){this.Mi=e,this.timerId=i,this.d_=s,this.A_=o,this.R_=f,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(e){this.cancel();const i=Math.floor(this.V_+this.y_()),s=Math.max(0,Date.now()-this.f_),o=Math.max(0,i-s);o>0&&it("ExponentialBackoff",`Backing off for ${o} ms (base delay: ${this.V_} ms, delay with jitter: ${i} ms, last attempt: ${s} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,o,(()=>(this.f_=Date.now(),e()))),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const w_="PersistentStream";class cE{constructor(e,i,s,o,f,d,g,v){this.Mi=e,this.S_=s,this.b_=o,this.connection=f,this.authCredentialsProvider=d,this.appCheckCredentialsProvider=g,this.listener=v,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new uE(e,i)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,(()=>this.k_())))}q_(e){this.Q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,i){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():i&&i.code===K.RESOURCE_EXHAUSTED?(zi(i.toString()),zi("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):i&&i.code===K.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.r_(i)}K_(){}auth(){this.state=1;const e=this.W_(this.D_),i=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([s,o])=>{this.D_===i&&this.G_(s,o)}),(s=>{e((()=>{const o=new rt(K.UNKNOWN,"Fetching auth token failed: "+s.message);return this.z_(o)}))}))}G_(e,i){const s=this.W_(this.D_);this.stream=this.j_(e,i),this.stream.Xo((()=>{s((()=>this.listener.Xo()))})),this.stream.t_((()=>{s((()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.t_())))})),this.stream.r_((o=>{s((()=>this.z_(o)))})),this.stream.onMessage((o=>{s((()=>++this.F_==1?this.J_(o):this.onNext(o)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(e){return it(w_,`close with error: ${e}`),this.stream=null,this.close(4,e)}W_(e){return i=>{this.Mi.enqueueAndForget((()=>this.D_===e?i():(it(w_,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class Fb extends cE{constructor(e,i,s,o,f,d){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",i,s,o,d),this.serializer=f}j_(e,i){return this.connection.T_("Listen",e,i)}J_(e){return this.onNext(e)}onNext(e){this.M_.reset();const i=$S(this.serializer,e),s=(function(f){if(!("targetChange"in f))return vt.min();const d=f.targetChange;return d.targetIds&&d.targetIds.length?vt.min():d.readTime?ri(d.readTime):vt.min()})(e);return this.listener.H_(i,s)}Y_(e){const i={};i.database=md(this.serializer),i.addTarget=(function(f,d){let g;const v=d.target;if(g=ud(v)?{documents:tb(f,v)}:{query:eb(f,v).ft},g.targetId=d.targetId,d.resumeToken.approximateByteSize()>0){g.resumeToken=Jv(f,d.resumeToken);const _=fd(f,d.expectedCount);_!==null&&(g.expectedCount=_)}else if(d.snapshotVersion.compareTo(vt.min())>0){g.readTime=sc(f,d.snapshotVersion.toTimestamp());const _=fd(f,d.expectedCount);_!==null&&(g.expectedCount=_)}return g})(this.serializer,e);const s=ib(this.serializer,e);s&&(i.labels=s),this.q_(i)}Z_(e){const i={};i.database=md(this.serializer),i.removeTarget=e,this.q_(i)}}class Qb extends cE{constructor(e,i,s,o,f,d){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",i,s,o,d),this.serializer=f}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(e,i){return this.connection.T_("Write",e,i)}J_(e){return Bt(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,Bt(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){Bt(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const i=WS(e.writeResults,e.commitTime),s=ri(e.commitTime);return this.listener.na(s,i)}ra(){const e={};e.database=md(this.serializer),this.q_(e)}ea(e){const i={streamToken:this.lastStreamToken,writes:e.map((s=>JS(this.serializer,s)))};this.q_(i)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yb{}class Kb extends Yb{constructor(e,i,s,o){super(),this.authCredentials=e,this.appCheckCredentials=i,this.connection=s,this.serializer=o,this.ia=!1}sa(){if(this.ia)throw new rt(K.FAILED_PRECONDITION,"The client has already been terminated.")}Go(e,i,s,o){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([f,d])=>this.connection.Go(e,hd(i,s),o,f,d))).catch((f=>{throw f.name==="FirebaseError"?(f.code===K.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),f):new rt(K.UNKNOWN,f.toString())}))}Ho(e,i,s,o,f){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([d,g])=>this.connection.Ho(e,hd(i,s),o,d,g,f))).catch((d=>{throw d.name==="FirebaseError"?(d.code===K.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),d):new rt(K.UNKNOWN,d.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}class Xb{constructor(e,i){this.asyncQueue=e,this.onlineStateHandler=i,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const i=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(zi(i),this.aa=!1):it("OnlineStateTracker",i)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Er="RemoteStore";class Zb{constructor(e,i,s,o,f){this.localStore=e,this.datastore=i,this.asyncQueue=s,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=f,this.Aa.Oo((d=>{s.enqueueAndForget((async()=>{Rr(this)&&(it(Er,"Restarting streams for network reachability change."),await(async function(v){const _=Et(v);_.Ea.add(4),await mo(_),_.Ra.set("Unknown"),_.Ea.delete(4),await Rc(_)})(this))}))})),this.Ra=new Xb(s,o)}}async function Rc(r){if(Rr(r))for(const e of r.da)await e(!0)}async function mo(r){for(const e of r.da)await e(!1)}function fE(r,e){const i=Et(r);i.Ia.has(e.targetId)||(i.Ia.set(e.targetId,e),Yd(i)?Qd(i):Ns(i).O_()&&Fd(i,e))}function Gd(r,e){const i=Et(r),s=Ns(i);i.Ia.delete(e),s.O_()&&hE(i,e),i.Ia.size===0&&(s.O_()?s.L_():Rr(i)&&i.Ra.set("Unknown"))}function Fd(r,e){if(r.Va.Ue(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(vt.min())>0){const i=r.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(i)}Ns(r).Y_(e)}function hE(r,e){r.Va.Ue(e),Ns(r).Z_(e)}function Qd(r){r.Va=new GS({getRemoteKeysForTarget:e=>r.remoteSyncer.getRemoteKeysForTarget(e),At:e=>r.Ia.get(e)||null,ht:()=>r.datastore.serializer.databaseId}),Ns(r).start(),r.Ra.ua()}function Yd(r){return Rr(r)&&!Ns(r).x_()&&r.Ia.size>0}function Rr(r){return Et(r).Ea.size===0}function dE(r){r.Va=void 0}async function $b(r){r.Ra.set("Online")}async function Jb(r){r.Ia.forEach(((e,i)=>{Fd(r,e)}))}async function Wb(r,e){dE(r),Yd(r)?(r.Ra.ha(e),Qd(r)):r.Ra.set("Unknown")}async function tR(r,e,i){if(r.Ra.set("Online"),e instanceof $v&&e.state===2&&e.cause)try{await(async function(o,f){const d=f.cause;for(const g of f.targetIds)o.Ia.has(g)&&(await o.remoteSyncer.rejectListen(g,d),o.Ia.delete(g),o.Va.removeTarget(g))})(r,e)}catch(s){it(Er,"Failed to remove targets %s: %s ",e.targetIds.join(","),s),await oc(r,s)}else if(e instanceof Xu?r.Va.Ze(e):e instanceof Zv?r.Va.st(e):r.Va.tt(e),!i.isEqual(vt.min()))try{const s=await oE(r.localStore);i.compareTo(s)>=0&&await(function(f,d){const g=f.Va.Tt(d);return g.targetChanges.forEach(((v,_)=>{if(v.resumeToken.approximateByteSize()>0){const A=f.Ia.get(_);A&&f.Ia.set(_,A.withResumeToken(v.resumeToken,d))}})),g.targetMismatches.forEach(((v,_)=>{const A=f.Ia.get(v);if(!A)return;f.Ia.set(v,A.withResumeToken(Be.EMPTY_BYTE_STRING,A.snapshotVersion)),hE(f,v);const V=new ga(A.target,v,_,A.sequenceNumber);Fd(f,V)})),f.remoteSyncer.applyRemoteEvent(g)})(r,i)}catch(s){it(Er,"Failed to raise snapshot:",s),await oc(r,s)}}async function oc(r,e,i){if(!Ms(e))throw e;r.Ea.add(1),await mo(r),r.Ra.set("Offline"),i||(i=()=>oE(r.localStore)),r.asyncQueue.enqueueRetryable((async()=>{it(Er,"Retrying IndexedDB access"),await i(),r.Ea.delete(1),await Rc(r)}))}function mE(r,e){return e().catch((i=>oc(r,i,e)))}async function wc(r){const e=Et(r),i=wa(e);let s=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:Od;for(;eR(e);)try{const o=await Lb(e.localStore,s);if(o===null){e.Ta.length===0&&i.L_();break}s=o.batchId,nR(e,o)}catch(o){await oc(e,o)}gE(e)&&pE(e)}function eR(r){return Rr(r)&&r.Ta.length<10}function nR(r,e){r.Ta.push(e);const i=wa(r);i.O_()&&i.X_&&i.ea(e.mutations)}function gE(r){return Rr(r)&&!wa(r).x_()&&r.Ta.length>0}function pE(r){wa(r).start()}async function iR(r){wa(r).ra()}async function aR(r){const e=wa(r);for(const i of r.Ta)e.ea(i.mutations)}async function rR(r,e,i){const s=r.Ta.shift(),o=Pd.from(s,e,i);await mE(r,(()=>r.remoteSyncer.applySuccessfulWrite(o))),await wc(r)}async function sR(r,e){e&&wa(r).X_&&await(async function(s,o){if((function(d){return qS(d)&&d!==K.ABORTED})(o.code)){const f=s.Ta.shift();wa(s).B_(),await mE(s,(()=>s.remoteSyncer.rejectFailedWrite(f.batchId,o))),await wc(s)}})(r,e),gE(r)&&pE(r)}async function C_(r,e){const i=Et(r);i.asyncQueue.verifyOperationInProgress(),it(Er,"RemoteStore received new credentials");const s=Rr(i);i.Ea.add(3),await mo(i),s&&i.Ra.set("Unknown"),await i.remoteSyncer.handleCredentialChange(e),i.Ea.delete(3),await Rc(i)}async function lR(r,e){const i=Et(r);e?(i.Ea.delete(2),await Rc(i)):e||(i.Ea.add(2),await mo(i),i.Ra.set("Unknown"))}function Ns(r){return r.ma||(r.ma=(function(i,s,o){const f=Et(i);return f.sa(),new Fb(s,f.connection,f.authCredentials,f.appCheckCredentials,f.serializer,o)})(r.datastore,r.asyncQueue,{Xo:$b.bind(null,r),t_:Jb.bind(null,r),r_:Wb.bind(null,r),H_:tR.bind(null,r)}),r.da.push((async e=>{e?(r.ma.B_(),Yd(r)?Qd(r):r.Ra.set("Unknown")):(await r.ma.stop(),dE(r))}))),r.ma}function wa(r){return r.fa||(r.fa=(function(i,s,o){const f=Et(i);return f.sa(),new Qb(s,f.connection,f.authCredentials,f.appCheckCredentials,f.serializer,o)})(r.datastore,r.asyncQueue,{Xo:()=>Promise.resolve(),t_:iR.bind(null,r),r_:sR.bind(null,r),ta:aR.bind(null,r),na:rR.bind(null,r)}),r.da.push((async e=>{e?(r.fa.B_(),await wc(r)):(await r.fa.stop(),r.Ta.length>0&&(it(Er,`Stopping write stream with ${r.Ta.length} pending writes`),r.Ta=[]))}))),r.fa}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kd{constructor(e,i,s,o,f){this.asyncQueue=e,this.timerId=i,this.targetTimeMs=s,this.op=o,this.removalCallback=f,this.deferred=new va,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((d=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,i,s,o,f){const d=Date.now()+s,g=new Kd(e,i,d,o,f);return g.start(s),g}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new rt(K.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Xd(r,e){if(zi("AsyncQueue",`${e}: ${r}`),Ms(r))return new rt(K.UNAVAILABLE,`${e}: ${r}`);throw r}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class As{static emptySet(e){return new As(e.comparator)}constructor(e){this.comparator=e?(i,s)=>e(i,s)||ht.comparator(i.key,s.key):(i,s)=>ht.comparator(i.key,s.key),this.keyedMap=Fl(),this.sortedSet=new ne(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const i=this.keyedMap.get(e);return i?this.sortedSet.indexOf(i):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((i,s)=>(e(i),!1)))}add(e){const i=this.delete(e.key);return i.copy(i.keyedMap.insert(e.key,e),i.sortedSet.insert(e,null))}delete(e){const i=this.get(e);return i?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(i)):this}isEqual(e){if(!(e instanceof As)||this.size!==e.size)return!1;const i=this.sortedSet.getIterator(),s=e.sortedSet.getIterator();for(;i.hasNext();){const o=i.getNext().key,f=s.getNext().key;if(!o.isEqual(f))return!1}return!0}toString(){const e=[];return this.forEach((i=>{e.push(i.toString())})),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,i){const s=new As;return s.comparator=this.comparator,s.keyedMap=e,s.sortedSet=i,s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class D_{constructor(){this.ga=new ne(ht.comparator)}track(e){const i=e.doc.key,s=this.ga.get(i);s?e.type!==0&&s.type===3?this.ga=this.ga.insert(i,e):e.type===3&&s.type!==1?this.ga=this.ga.insert(i,{type:s.type,doc:e.doc}):e.type===2&&s.type===2?this.ga=this.ga.insert(i,{type:2,doc:e.doc}):e.type===2&&s.type===0?this.ga=this.ga.insert(i,{type:0,doc:e.doc}):e.type===1&&s.type===0?this.ga=this.ga.remove(i):e.type===1&&s.type===2?this.ga=this.ga.insert(i,{type:1,doc:s.doc}):e.type===0&&s.type===1?this.ga=this.ga.insert(i,{type:2,doc:e.doc}):pt(63341,{Rt:e,pa:s}):this.ga=this.ga.insert(i,e)}ya(){const e=[];return this.ga.inorderTraversal(((i,s)=>{e.push(s)})),e}}class Is{constructor(e,i,s,o,f,d,g,v,_){this.query=e,this.docs=i,this.oldDocs=s,this.docChanges=o,this.mutatedKeys=f,this.fromCache=d,this.syncStateChanged=g,this.excludesMetadataChanges=v,this.hasCachedResults=_}static fromInitialDocuments(e,i,s,o,f){const d=[];return i.forEach((g=>{d.push({type:0,doc:g})})),new Is(e,i,As.emptySet(i),d,s,o,!0,!1,f)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&vc(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const i=this.docChanges,s=e.docChanges;if(i.length!==s.length)return!1;for(let o=0;o<i.length;o++)if(i[o].type!==s[o].type||!i[o].doc.isEqual(s[o].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oR{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some((e=>e.Da()))}}class uR{constructor(){this.queries=I_(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(i,s){const o=Et(i),f=o.queries;o.queries=I_(),f.forEach(((d,g)=>{for(const v of g.Sa)v.onError(s)}))})(this,new rt(K.ABORTED,"Firestore shutting down"))}}function I_(){return new br((r=>Lv(r)),vc)}async function yE(r,e){const i=Et(r);let s=3;const o=e.query;let f=i.queries.get(o);f?!f.ba()&&e.Da()&&(s=2):(f=new oR,s=e.Da()?0:1);try{switch(s){case 0:f.wa=await i.onListen(o,!0);break;case 1:f.wa=await i.onListen(o,!1);break;case 2:await i.onFirstRemoteStoreListen(o)}}catch(d){const g=Xd(d,`Initialization of query '${vs(e.query)}' failed`);return void e.onError(g)}i.queries.set(o,f),f.Sa.push(e),e.va(i.onlineState),f.wa&&e.Fa(f.wa)&&Zd(i)}async function _E(r,e){const i=Et(r),s=e.query;let o=3;const f=i.queries.get(s);if(f){const d=f.Sa.indexOf(e);d>=0&&(f.Sa.splice(d,1),f.Sa.length===0?o=e.Da()?0:1:!f.ba()&&e.Da()&&(o=2))}switch(o){case 0:return i.queries.delete(s),i.onUnlisten(s,!0);case 1:return i.queries.delete(s),i.onUnlisten(s,!1);case 2:return i.onLastRemoteStoreUnlisten(s);default:return}}function cR(r,e){const i=Et(r);let s=!1;for(const o of e){const f=o.query,d=i.queries.get(f);if(d){for(const g of d.Sa)g.Fa(o)&&(s=!0);d.wa=o}}s&&Zd(i)}function fR(r,e,i){const s=Et(r),o=s.queries.get(e);if(o)for(const f of o.Sa)f.onError(i);s.queries.delete(e)}function Zd(r){r.Ca.forEach((e=>{e.next()}))}var yd,V_;(V_=yd||(yd={})).Ma="default",V_.Cache="cache";class vE{constructor(e,i,s){this.query=e,this.xa=i,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=s||{}}Fa(e){if(!this.options.includeMetadataChanges){const s=[];for(const o of e.docChanges)o.type!==3&&s.push(o);e=new Is(e.query,e.docs,e.oldDocs,s,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let i=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),i=!0):this.La(e,this.onlineState)&&(this.ka(e),i=!0),this.Na=e,i}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let i=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),i=!0),i}La(e,i){if(!e.fromCache||!this.Da())return!0;const s=i!=="Offline";return(!this.options.qa||!s)&&(!e.docs.isEmpty()||e.hasCachedResults||i==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const i=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!i)&&this.options.includeMetadataChanges===!0}ka(e){e=Is.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==yd.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EE{constructor(e){this.key=e}}class TE{constructor(e){this.key=e}}class hR{constructor(e,i){this.query=e,this.Ya=i,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=It(),this.mutatedKeys=It(),this.eu=Pv(e),this.tu=new As(this.eu)}get nu(){return this.Ya}ru(e,i){const s=i?i.iu:new D_,o=i?i.tu:this.tu;let f=i?i.mutatedKeys:this.mutatedKeys,d=o,g=!1;const v=this.query.limitType==="F"&&o.size===this.query.limit?o.last():null,_=this.query.limitType==="L"&&o.size===this.query.limit?o.first():null;if(e.inorderTraversal(((A,V)=>{const I=o.get(A),G=Ec(this.query,V)?V:null,J=!!I&&this.mutatedKeys.has(I.key),$=!!G&&(G.hasLocalMutations||this.mutatedKeys.has(G.key)&&G.hasCommittedMutations);let Z=!1;I&&G?I.data.isEqual(G.data)?J!==$&&(s.track({type:3,doc:G}),Z=!0):this.su(I,G)||(s.track({type:2,doc:G}),Z=!0,(v&&this.eu(G,v)>0||_&&this.eu(G,_)<0)&&(g=!0)):!I&&G?(s.track({type:0,doc:G}),Z=!0):I&&!G&&(s.track({type:1,doc:I}),Z=!0,(v||_)&&(g=!0)),Z&&(G?(d=d.add(G),f=$?f.add(A):f.delete(A)):(d=d.delete(A),f=f.delete(A)))})),this.query.limit!==null)for(;d.size>this.query.limit;){const A=this.query.limitType==="F"?d.last():d.first();d=d.delete(A.key),f=f.delete(A.key),s.track({type:1,doc:A})}return{tu:d,iu:s,Cs:g,mutatedKeys:f}}su(e,i){return e.hasLocalMutations&&i.hasCommittedMutations&&!i.hasLocalMutations}applyChanges(e,i,s,o){const f=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const d=e.iu.ya();d.sort(((A,V)=>(function(G,J){const $=Z=>{switch(Z){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return pt(20277,{Rt:Z})}};return $(G)-$(J)})(A.type,V.type)||this.eu(A.doc,V.doc))),this.ou(s),o=o??!1;const g=i&&!o?this._u():[],v=this.Xa.size===0&&this.current&&!o?1:0,_=v!==this.Za;return this.Za=v,d.length!==0||_?{snapshot:new Is(this.query,e.tu,f,d,e.mutatedKeys,v===0,_,!1,!!s&&s.resumeToken.approximateByteSize()>0),au:g}:{au:g}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new D_,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(e){return!this.Ya.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach((i=>this.Ya=this.Ya.add(i))),e.modifiedDocuments.forEach((i=>{})),e.removedDocuments.forEach((i=>this.Ya=this.Ya.delete(i))),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Xa;this.Xa=It(),this.tu.forEach((s=>{this.uu(s.key)&&(this.Xa=this.Xa.add(s.key))}));const i=[];return e.forEach((s=>{this.Xa.has(s)||i.push(new TE(s))})),this.Xa.forEach((s=>{e.has(s)||i.push(new EE(s))})),i}cu(e){this.Ya=e.Qs,this.Xa=It();const i=this.ru(e.documents);return this.applyChanges(i,!0)}lu(){return Is.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const $d="SyncEngine";class dR{constructor(e,i,s){this.query=e,this.targetId=i,this.view=s}}class mR{constructor(e){this.key=e,this.hu=!1}}class gR{constructor(e,i,s,o,f,d){this.localStore=e,this.remoteStore=i,this.eventManager=s,this.sharedClientState=o,this.currentUser=f,this.maxConcurrentLimboResolutions=d,this.Pu={},this.Tu=new br((g=>Lv(g)),vc),this.Iu=new Map,this.Eu=new Set,this.du=new ne(ht.comparator),this.Au=new Map,this.Ru=new Bd,this.Vu={},this.mu=new Map,this.fu=Ds.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function pR(r,e,i=!0){const s=CE(r);let o;const f=s.Tu.get(e);return f?(s.sharedClientState.addLocalQueryTarget(f.targetId),o=f.view.lu()):o=await AE(s,e,i,!0),o}async function yR(r,e){const i=CE(r);await AE(i,e,!0,!1)}async function AE(r,e,i,s){const o=await Pb(r.localStore,ai(e)),f=o.targetId,d=r.sharedClientState.addLocalQueryTarget(f,i);let g;return s&&(g=await _R(r,e,f,d==="current",o.resumeToken)),r.isPrimaryClient&&i&&fE(r.remoteStore,o),g}async function _R(r,e,i,s,o){r.pu=(V,I,G)=>(async function($,Z,dt,ct){let lt=Z.view.ru(dt);lt.Cs&&(lt=await A_($.localStore,Z.query,!1).then((({documents:N})=>Z.view.ru(N,lt))));const Rt=ct&&ct.targetChanges.get(Z.targetId),ot=ct&&ct.targetMismatches.get(Z.targetId)!=null,Ut=Z.view.applyChanges(lt,$.isPrimaryClient,Rt,ot);return M_($,Z.targetId,Ut.au),Ut.snapshot})(r,V,I,G);const f=await A_(r.localStore,e,!0),d=new hR(e,f.Qs),g=d.ru(f.documents),v=ho.createSynthesizedTargetChangeForCurrentChange(i,s&&r.onlineState!=="Offline",o),_=d.applyChanges(g,r.isPrimaryClient,v);M_(r,i,_.au);const A=new dR(e,i,d);return r.Tu.set(e,A),r.Iu.has(i)?r.Iu.get(i).push(e):r.Iu.set(i,[e]),_.snapshot}async function vR(r,e,i){const s=Et(r),o=s.Tu.get(e),f=s.Iu.get(o.targetId);if(f.length>1)return s.Iu.set(o.targetId,f.filter((d=>!vc(d,e)))),void s.Tu.delete(e);s.isPrimaryClient?(s.sharedClientState.removeLocalQueryTarget(o.targetId),s.sharedClientState.isActiveQueryTarget(o.targetId)||await gd(s.localStore,o.targetId,!1).then((()=>{s.sharedClientState.clearQueryState(o.targetId),i&&Gd(s.remoteStore,o.targetId),_d(s,o.targetId)})).catch(Os)):(_d(s,o.targetId),await gd(s.localStore,o.targetId,!0))}async function ER(r,e){const i=Et(r),s=i.Tu.get(e),o=i.Iu.get(s.targetId);i.isPrimaryClient&&o.length===1&&(i.sharedClientState.removeLocalQueryTarget(s.targetId),Gd(i.remoteStore,s.targetId))}async function TR(r,e,i){const s=DR(r);try{const o=await(function(d,g){const v=Et(d),_=Jt.now(),A=g.reduce(((G,J)=>G.add(J.key)),It());let V,I;return v.persistence.runTransaction("Locally write mutations","readwrite",(G=>{let J=ki(),$=It();return v.Ns.getEntries(G,A).next((Z=>{J=Z,J.forEach(((dt,ct)=>{ct.isValidDocument()||($=$.add(dt))}))})).next((()=>v.localDocuments.getOverlayedDocuments(G,J))).next((Z=>{V=Z;const dt=[];for(const ct of g){const lt=LS(ct,V.get(ct.key).overlayedDocument);lt!=null&&dt.push(new Va(ct.key,lt,Iv(lt.value.mapValue),Pn.exists(!0)))}return v.mutationQueue.addMutationBatch(G,_,dt,g)})).next((Z=>{I=Z;const dt=Z.applyToLocalDocumentSet(V,$);return v.documentOverlayCache.saveOverlays(G,Z.batchId,dt)}))})).then((()=>({batchId:I.batchId,changes:kv(V)})))})(s.localStore,e);s.sharedClientState.addPendingMutation(o.batchId),(function(d,g,v){let _=d.Vu[d.currentUser.toKey()];_||(_=new ne(Dt)),_=_.insert(g,v),d.Vu[d.currentUser.toKey()]=_})(s,o.batchId,i),await go(s,o.changes),await wc(s.remoteStore)}catch(o){const f=Xd(o,"Failed to persist write");i.reject(f)}}async function SE(r,e){const i=Et(r);try{const s=await xb(i.localStore,e);e.targetChanges.forEach(((o,f)=>{const d=i.Au.get(f);d&&(Bt(o.addedDocuments.size+o.modifiedDocuments.size+o.removedDocuments.size<=1,22616),o.addedDocuments.size>0?d.hu=!0:o.modifiedDocuments.size>0?Bt(d.hu,14607):o.removedDocuments.size>0&&(Bt(d.hu,42227),d.hu=!1))})),await go(i,s,e)}catch(s){await Os(s)}}function O_(r,e,i){const s=Et(r);if(s.isPrimaryClient&&i===0||!s.isPrimaryClient&&i===1){const o=[];s.Tu.forEach(((f,d)=>{const g=d.view.va(e);g.snapshot&&o.push(g.snapshot)})),(function(d,g){const v=Et(d);v.onlineState=g;let _=!1;v.queries.forEach(((A,V)=>{for(const I of V.Sa)I.va(g)&&(_=!0)})),_&&Zd(v)})(s.eventManager,e),o.length&&s.Pu.H_(o),s.onlineState=e,s.isPrimaryClient&&s.sharedClientState.setOnlineState(e)}}async function AR(r,e,i){const s=Et(r);s.sharedClientState.updateQueryState(e,"rejected",i);const o=s.Au.get(e),f=o&&o.key;if(f){let d=new ne(ht.comparator);d=d.insert(f,Qe.newNoDocument(f,vt.min()));const g=It().add(f),v=new Sc(vt.min(),new Map,new ne(Dt),d,g);await SE(s,v),s.du=s.du.remove(f),s.Au.delete(e),Jd(s)}else await gd(s.localStore,e,!1).then((()=>_d(s,e,i))).catch(Os)}async function SR(r,e){const i=Et(r),s=e.batch.batchId;try{const o=await Nb(i.localStore,e);RE(i,s,null),bE(i,s),i.sharedClientState.updateMutationState(s,"acknowledged"),await go(i,o)}catch(o){await Os(o)}}async function bR(r,e,i){const s=Et(r);try{const o=await(function(d,g){const v=Et(d);return v.persistence.runTransaction("Reject batch","readwrite-primary",(_=>{let A;return v.mutationQueue.lookupMutationBatch(_,g).next((V=>(Bt(V!==null,37113),A=V.keys(),v.mutationQueue.removeMutationBatch(_,V)))).next((()=>v.mutationQueue.performConsistencyCheck(_))).next((()=>v.documentOverlayCache.removeOverlaysForBatchId(_,A,g))).next((()=>v.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(_,A))).next((()=>v.localDocuments.getDocuments(_,A)))}))})(s.localStore,e);RE(s,e,i),bE(s,e),s.sharedClientState.updateMutationState(e,"rejected",i),await go(s,o)}catch(o){await Os(o)}}function bE(r,e){(r.mu.get(e)||[]).forEach((i=>{i.resolve()})),r.mu.delete(e)}function RE(r,e,i){const s=Et(r);let o=s.Vu[s.currentUser.toKey()];if(o){const f=o.get(e);f&&(i?f.reject(i):f.resolve(),o=o.remove(e)),s.Vu[s.currentUser.toKey()]=o}}function _d(r,e,i=null){r.sharedClientState.removeLocalQueryTarget(e);for(const s of r.Iu.get(e))r.Tu.delete(s),i&&r.Pu.yu(s,i);r.Iu.delete(e),r.isPrimaryClient&&r.Ru.jr(e).forEach((s=>{r.Ru.containsKey(s)||wE(r,s)}))}function wE(r,e){r.Eu.delete(e.path.canonicalString());const i=r.du.get(e);i!==null&&(Gd(r.remoteStore,i),r.du=r.du.remove(e),r.Au.delete(i),Jd(r))}function M_(r,e,i){for(const s of i)s instanceof EE?(r.Ru.addReference(s.key,e),RR(r,s)):s instanceof TE?(it($d,"Document no longer in limbo: "+s.key),r.Ru.removeReference(s.key,e),r.Ru.containsKey(s.key)||wE(r,s.key)):pt(19791,{wu:s})}function RR(r,e){const i=e.key,s=i.path.canonicalString();r.du.get(i)||r.Eu.has(s)||(it($d,"New document in limbo: "+i),r.Eu.add(s),Jd(r))}function Jd(r){for(;r.Eu.size>0&&r.du.size<r.maxConcurrentLimboResolutions;){const e=r.Eu.values().next().value;r.Eu.delete(e);const i=new ht($t.fromString(e)),s=r.fu.next();r.Au.set(s,new mR(i)),r.du=r.du.insert(i,s),fE(r.remoteStore,new ga(ai(_c(i.path)),s,"TargetPurposeLimboResolution",mc.ce))}}async function go(r,e,i){const s=Et(r),o=[],f=[],d=[];s.Tu.isEmpty()||(s.Tu.forEach(((g,v)=>{d.push(s.pu(v,e,i).then((_=>{if((_||i)&&s.isPrimaryClient){const A=_?!_.fromCache:i?.targetChanges.get(v.targetId)?.current;s.sharedClientState.updateQueryState(v.targetId,A?"current":"not-current")}if(_){o.push(_);const A=jd.As(v.targetId,_);f.push(A)}})))})),await Promise.all(d),s.Pu.H_(o),await(async function(v,_){const A=Et(v);try{await A.persistence.runTransaction("notifyLocalViewChanges","readwrite",(V=>Y.forEach(_,(I=>Y.forEach(I.Es,(G=>A.persistence.referenceDelegate.addReference(V,I.targetId,G))).next((()=>Y.forEach(I.ds,(G=>A.persistence.referenceDelegate.removeReference(V,I.targetId,G)))))))))}catch(V){if(!Ms(V))throw V;it(Hd,"Failed to update sequence numbers: "+V)}for(const V of _){const I=V.targetId;if(!V.fromCache){const G=A.Ms.get(I),J=G.snapshotVersion,$=G.withLastLimboFreeSnapshotVersion(J);A.Ms=A.Ms.insert(I,$)}}})(s.localStore,f))}async function wR(r,e){const i=Et(r);if(!i.currentUser.isEqual(e)){it($d,"User change. New user:",e.toKey());const s=await lE(i.localStore,e);i.currentUser=e,(function(f,d){f.mu.forEach((g=>{g.forEach((v=>{v.reject(new rt(K.CANCELLED,d))}))})),f.mu.clear()})(i,"'waitForPendingWrites' promise is rejected due to a user change."),i.sharedClientState.handleUserChange(e,s.removedBatchIds,s.addedBatchIds),await go(i,s.Ls)}}function CR(r,e){const i=Et(r),s=i.Au.get(e);if(s&&s.hu)return It().add(s.key);{let o=It();const f=i.Iu.get(e);if(!f)return o;for(const d of f){const g=i.Tu.get(d);o=o.unionWith(g.view.nu)}return o}}function CE(r){const e=Et(r);return e.remoteStore.remoteSyncer.applyRemoteEvent=SE.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=CR.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=AR.bind(null,e),e.Pu.H_=cR.bind(null,e.eventManager),e.Pu.yu=fR.bind(null,e.eventManager),e}function DR(r){const e=Et(r);return e.remoteStore.remoteSyncer.applySuccessfulWrite=SR.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=bR.bind(null,e),e}class uc{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=bc(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,i){return null}Mu(e,i){return null}vu(e){return Mb(this.persistence,new Ib,e.initialUser,this.serializer)}Cu(e){return new sE(qd.mi,this.serializer)}Du(e){return new kb}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}uc.provider={build:()=>new uc};class IR extends uc{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,i){Bt(this.persistence.referenceDelegate instanceof lc,46915);const s=this.persistence.referenceDelegate.garbageCollector;return new mb(s,e.asyncQueue,i)}Cu(e){const i=this.cacheSizeBytes!==void 0?en.withCacheSize(this.cacheSizeBytes):en.DEFAULT;return new sE((s=>lc.mi(s,i)),this.serializer)}}class vd{async initialize(e,i){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(i),this.remoteStore=this.createRemoteStore(i),this.eventManager=this.createEventManager(i),this.syncEngine=this.createSyncEngine(i,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=s=>O_(this.syncEngine,s,1),this.remoteStore.remoteSyncer.handleCredentialChange=wR.bind(null,this.syncEngine),await lR(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return(function(){return new uR})()}createDatastore(e){const i=bc(e.databaseInfo.databaseId),s=(function(f){return new Gb(f)})(e.databaseInfo);return(function(f,d,g,v){return new Kb(f,d,g,v)})(e.authCredentials,e.appCheckCredentials,s,i)}createRemoteStore(e){return(function(s,o,f,d,g){return new Zb(s,o,f,d,g)})(this.localStore,this.datastore,e.asyncQueue,(i=>O_(this.syncEngine,i,0)),(function(){return R_.v()?new R_:new Bb})())}createSyncEngine(e,i){return(function(o,f,d,g,v,_,A){const V=new gR(o,f,d,g,v,_);return A&&(V.gu=!0),V})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,i)}async terminate(){await(async function(i){const s=Et(i);it(Er,"RemoteStore shutting down."),s.Ea.add(5),await mo(s),s.Aa.shutdown(),s.Ra.set("Unknown")})(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}vd.provider={build:()=>new vd};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DE{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):zi("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,i){setTimeout((()=>{this.muted||e(i)}),0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ca="FirestoreClient";class VR{constructor(e,i,s,o,f){this.authCredentials=e,this.appCheckCredentials=i,this.asyncQueue=s,this.databaseInfo=o,this.user=Fe.UNAUTHENTICATED,this.clientId=Id.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=f,this.authCredentials.start(s,(async d=>{it(Ca,"Received user=",d.uid),await this.authCredentialListener(d),this.user=d})),this.appCheckCredentials.start(s,(d=>(it(Ca,"Received new app check token=",d),this.appCheckCredentialListener(d,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new va;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(i){const s=Xd(i,"Failed to shutdown persistence");e.reject(s)}})),e.promise}}async function Xh(r,e){r.asyncQueue.verifyOperationInProgress(),it(Ca,"Initializing OfflineComponentProvider");const i=r.configuration;await e.initialize(i);let s=i.initialUser;r.setCredentialChangeListener((async o=>{s.isEqual(o)||(await lE(e.localStore,o),s=o)})),e.persistence.setDatabaseDeletedListener((()=>r.terminate())),r._offlineComponents=e}async function N_(r,e){r.asyncQueue.verifyOperationInProgress();const i=await OR(r);it(Ca,"Initializing OnlineComponentProvider"),await e.initialize(i,r.configuration),r.setCredentialChangeListener((s=>C_(e.remoteStore,s))),r.setAppCheckTokenChangeListener(((s,o)=>C_(e.remoteStore,o))),r._onlineComponents=e}async function OR(r){if(!r._offlineComponents)if(r._uninitializedComponentsProvider){it(Ca,"Using user provided OfflineComponentProvider");try{await Xh(r,r._uninitializedComponentsProvider._offline)}catch(e){const i=e;if(!(function(o){return o.name==="FirebaseError"?o.code===K.FAILED_PRECONDITION||o.code===K.UNIMPLEMENTED:!(typeof DOMException<"u"&&o instanceof DOMException)||o.code===22||o.code===20||o.code===11})(i))throw i;bs("Error using user provided cache. Falling back to memory cache: "+i),await Xh(r,new uc)}}else it(Ca,"Using default OfflineComponentProvider"),await Xh(r,new IR(void 0));return r._offlineComponents}async function IE(r){return r._onlineComponents||(r._uninitializedComponentsProvider?(it(Ca,"Using user provided OnlineComponentProvider"),await N_(r,r._uninitializedComponentsProvider._online)):(it(Ca,"Using default OnlineComponentProvider"),await N_(r,new vd))),r._onlineComponents}function MR(r){return IE(r).then((e=>e.syncEngine))}async function Ed(r){const e=await IE(r),i=e.eventManager;return i.onListen=pR.bind(null,e.syncEngine),i.onUnlisten=vR.bind(null,e.syncEngine),i.onFirstRemoteStoreListen=yR.bind(null,e.syncEngine),i.onLastRemoteStoreUnlisten=ER.bind(null,e.syncEngine),i}function NR(r,e,i={}){const s=new va;return r.asyncQueue.enqueueAndForget((async()=>(function(f,d,g,v,_){const A=new DE({next:I=>{A.Nu(),d.enqueueAndForget((()=>_E(f,V)));const G=I.docs.has(g);!G&&I.fromCache?_.reject(new rt(K.UNAVAILABLE,"Failed to get document because the client is offline.")):G&&I.fromCache&&v&&v.source==="server"?_.reject(new rt(K.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):_.resolve(I)},error:I=>_.reject(I)}),V=new vE(_c(g.path),A,{includeMetadataChanges:!0,qa:!0});return yE(f,V)})(await Ed(r),r.asyncQueue,e,i,s))),s.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function VE(r){const e={};return r.timeoutSeconds!==void 0&&(e.timeoutSeconds=r.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const x_=new Map;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const OE="firestore.googleapis.com",U_=!0;class L_{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new rt(K.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=OE,this.ssl=U_}else this.host=e.host,this.ssl=e.ssl??U_;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=rE;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<hb)throw new rt(K.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}XA("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=VE(e.experimentalLongPollingOptions??{}),(function(s){if(s.timeoutSeconds!==void 0){if(isNaN(s.timeoutSeconds))throw new rt(K.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (must not be NaN)`);if(s.timeoutSeconds<5)throw new rt(K.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (minimum allowed value is 5)`);if(s.timeoutSeconds>30)throw new rt(K.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(s,o){return s.timeoutSeconds===o.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Cc{constructor(e,i,s,o){this._authCredentials=e,this._appCheckCredentials=i,this._databaseId=s,this._app=o,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new L_({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new rt(K.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new rt(K.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new L_(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=(function(s){if(!s)return new kA;switch(s.type){case"firstParty":return new HA(s.sessionIndex||"0",s.iamToken||null,s.authTokenFactory||null);case"provider":return s.client;default:throw new rt(K.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(i){const s=x_.get(i);s&&(it("ComponentProvider","Removing Datastore"),x_.delete(i),s.terminate())})(this),Promise.resolve()}}function xR(r,e,i,s={}){r=Ln(r,Cc);const o=Rd(e),f=r._getSettings(),d={...f,emulatorOptions:r._getEmulatorOptions()},g=`${e}:${i}`;o&&(f1(`https://${g}`),g1("Firestore",!0)),f.host!==OE&&f.host!==g&&bs("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const v={...f,host:g,ssl:o,emulatorOptions:s};if(!eo(v,d)&&(r._setSettings(v),s.mockUserToken)){let _,A;if(typeof s.mockUserToken=="string")_=s.mockUserToken,A=Fe.MOCK_USER;else{_=h1(s.mockUserToken,r._app?.options.projectId);const V=s.mockUserToken.sub||s.mockUserToken.user_id;if(!V)throw new rt(K.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");A=new Fe(V)}r._authCredentials=new BA(new yv(_,A))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dc{constructor(e,i,s){this.converter=i,this._query=s,this.type="query",this.firestore=e}withConverter(e){return new Dc(this.firestore,e,this._query)}}class fe{constructor(e,i,s){this.converter=i,this._key=s,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Ea(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new fe(this.firestore,e,this._key)}toJSON(){return{type:fe._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,i,s){if(co(i,fe._jsonSchema))return new fe(e,s||null,new ht($t.fromString(i.referencePath)))}}fe._jsonSchemaVersion="firestore/documentReference/1.0",fe._jsonSchema={type:ye("string",fe._jsonSchemaVersion),referencePath:ye("string")};class Ea extends Dc{constructor(e,i,s){super(e,i,_c(s)),this._path=s,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new fe(this.firestore,null,new ht(e))}withConverter(e){return new Ea(this.firestore,e,this._path)}}function Wl(r,e,...i){if(r=zn(r),_v("collection","path",e),r instanceof Cc){const s=$t.fromString(e,...i);return Zy(s),new Ea(r,null,s)}{if(!(r instanceof fe||r instanceof Ea))throw new rt(K.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=r._path.child($t.fromString(e,...i));return Zy(s),new Ea(r.firestore,null,s)}}function Wd(r,e,...i){if(r=zn(r),arguments.length===1&&(e=Id.newId()),_v("doc","path",e),r instanceof Cc){const s=$t.fromString(e,...i);return Xy(s),new fe(r,null,new ht(s))}{if(!(r instanceof fe||r instanceof Ea))throw new rt(K.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=r._path.child($t.fromString(e,...i));return Xy(s),new fe(r.firestore,r instanceof Ea?r.converter:null,new ht(s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const P_="AsyncQueue";class z_{constructor(e=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new uE(this,"async_queue_retry"),this._c=()=>{const s=Kh();s&&it(P_,"Visibility state changed to "+s.visibilityState),this.M_.w_()},this.ac=e;const i=Kh();i&&typeof i.addEventListener=="function"&&i.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const i=Kh();i&&typeof i.removeEventListener=="function"&&i.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise((()=>{}));const i=new va;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(e().then(i.resolve,i.reject),i.promise))).then((()=>i.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Xu.push(e),this.lc())))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(e){if(!Ms(e))throw e;it(P_,"Operation failed with retryable error: "+e)}this.Xu.length>0&&this.M_.p_((()=>this.lc()))}}cc(e){const i=this.ac.then((()=>(this.rc=!0,e().catch((s=>{throw this.nc=s,this.rc=!1,zi("INTERNAL UNHANDLED ERROR: ",k_(s)),s})).then((s=>(this.rc=!1,s))))));return this.ac=i,i}enqueueAfterDelay(e,i,s){this.uc(),this.oc.indexOf(e)>-1&&(i=0);const o=Kd.createAndSchedule(this,e,i,s,(f=>this.hc(f)));return this.tc.push(o),o}uc(){this.nc&&pt(47125,{Pc:k_(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const i of this.tc)if(i.timerId===e)return!0;return!1}Ec(e){return this.Tc().then((()=>{this.tc.sort(((i,s)=>i.targetTimeMs-s.targetTimeMs));for(const i of this.tc)if(i.skipDelay(),e!=="all"&&i.timerId===e)break;return this.Tc()}))}dc(e){this.oc.push(e)}hc(e){const i=this.tc.indexOf(e);this.tc.splice(i,1)}}function k_(r){let e=r.message||"";return r.stack&&(e=r.stack.includes(r.message)?r.stack:r.message+`
`+r.stack),e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function B_(r){return(function(i,s){if(typeof i!="object"||i===null)return!1;const o=i;for(const f of s)if(f in o&&typeof o[f]=="function")return!0;return!1})(r,["next","error","complete"])}class Tr extends Cc{constructor(e,i,s,o){super(e,i,s,o),this.type="firestore",this._queue=new z_,this._persistenceKey=o?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new z_(e),this._firestoreClient=void 0,await e}}}function UR(r,e){const i=typeof r=="object"?r:lv(),s=typeof r=="string"?r:tc,o=uo(i,"firestore").getImmediate({identifier:s});if(!o._initialized){const f=u1("firestore");f&&xR(o,...f)}return o}function tm(r){if(r._terminated)throw new rt(K.FAILED_PRECONDITION,"The client has already been terminated.");return r._firestoreClient||LR(r),r._firestoreClient}function LR(r){const e=r._freezeSettings(),i=(function(o,f,d,g){return new sS(o,f,d,g.host,g.ssl,g.experimentalForceLongPolling,g.experimentalAutoDetectLongPolling,VE(g.experimentalLongPollingOptions),g.useFetchStreams,g.isUsingEmulator)})(r._databaseId,r._app?.options.appId||"",r._persistenceKey,e);r._componentsProvider||e.localCache?._offlineComponentProvider&&e.localCache?._onlineComponentProvider&&(r._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),r._firestoreClient=new VR(r._authCredentials,r._appCheckCredentials,r._queue,i,r._componentsProvider&&(function(o){const f=o?._online.build();return{_offline:o?._offline.build(f),_online:f}})(r._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class In{constructor(e){this._byteString=e}static fromBase64String(e){try{return new In(Be.fromBase64String(e))}catch(i){throw new rt(K.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+i)}}static fromUint8Array(e){return new In(Be.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:In._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(co(e,In._jsonSchema))return In.fromBase64String(e.bytes)}}In._jsonSchemaVersion="firestore/bytes/1.0",In._jsonSchema={type:ye("string",In._jsonSchemaVersion),bytes:ye("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ic{constructor(...e){for(let i=0;i<e.length;++i)if(e[i].length===0)throw new rt(K.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new ke(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class em{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class si{constructor(e,i){if(!isFinite(e)||e<-90||e>90)throw new rt(K.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(i)||i<-180||i>180)throw new rt(K.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+i);this._lat=e,this._long=i}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return Dt(this._lat,e._lat)||Dt(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:si._jsonSchemaVersion}}static fromJSON(e){if(co(e,si._jsonSchema))return new si(e.latitude,e.longitude)}}si._jsonSchemaVersion="firestore/geoPoint/1.0",si._jsonSchema={type:ye("string",si._jsonSchemaVersion),latitude:ye("number"),longitude:ye("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class li{constructor(e){this._values=(e||[]).map((i=>i))}toArray(){return this._values.map((e=>e))}isEqual(e){return(function(s,o){if(s.length!==o.length)return!1;for(let f=0;f<s.length;++f)if(s[f]!==o[f])return!1;return!0})(this._values,e._values)}toJSON(){return{type:li._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(co(e,li._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every((i=>typeof i=="number")))return new li(e.vectorValues);throw new rt(K.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}li._jsonSchemaVersion="firestore/vectorValue/1.0",li._jsonSchema={type:ye("string",li._jsonSchemaVersion),vectorValues:ye("object")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const PR=/^__.*__$/;class zR{constructor(e,i,s){this.data=e,this.fieldMask=i,this.fieldTransforms=s}toMutation(e,i){return this.fieldMask!==null?new Va(e,this.data,this.fieldMask,i,this.fieldTransforms):new fo(e,this.data,i,this.fieldTransforms)}}class ME{constructor(e,i,s){this.data=e,this.fieldMask=i,this.fieldTransforms=s}toMutation(e,i){return new Va(e,this.data,this.fieldMask,i,this.fieldTransforms)}}function NE(r){switch(r){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw pt(40011,{Ac:r})}}class nm{constructor(e,i,s,o,f,d){this.settings=e,this.databaseId=i,this.serializer=s,this.ignoreUndefinedProperties=o,f===void 0&&this.Rc(),this.fieldTransforms=f||[],this.fieldMask=d||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(e){return new nm({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(e){const i=this.path?.child(e),s=this.Vc({path:i,fc:!1});return s.gc(e),s}yc(e){const i=this.path?.child(e),s=this.Vc({path:i,fc:!1});return s.Rc(),s}wc(e){return this.Vc({path:void 0,fc:!0})}Sc(e){return cc(e,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(e){return this.fieldMask.find((i=>e.isPrefixOf(i)))!==void 0||this.fieldTransforms.find((i=>e.isPrefixOf(i.field)))!==void 0}Rc(){if(this.path)for(let e=0;e<this.path.length;e++)this.gc(this.path.get(e))}gc(e){if(e.length===0)throw this.Sc("Document fields must not be empty");if(NE(this.Ac)&&PR.test(e))throw this.Sc('Document fields cannot begin and end with "__"')}}class kR{constructor(e,i,s){this.databaseId=e,this.ignoreUndefinedProperties=i,this.serializer=s||bc(e)}Cc(e,i,s,o=!1){return new nm({Ac:e,methodName:i,Dc:s,path:ke.emptyPath(),fc:!1,bc:o},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function im(r){const e=r._freezeSettings(),i=bc(r._databaseId);return new kR(r._databaseId,!!e.ignoreUndefinedProperties,i)}function xE(r,e,i,s,o,f={}){const d=r.Cc(f.merge||f.mergeFields?2:0,e,i,o);am("Data must be an object, but it was:",d,s);const g=UE(s,d);let v,_;if(f.merge)v=new mn(d.fieldMask),_=d.fieldTransforms;else if(f.mergeFields){const A=[];for(const V of f.mergeFields){const I=Td(e,V,i);if(!d.contains(I))throw new rt(K.INVALID_ARGUMENT,`Field '${I}' is specified in your field mask but missing from your input data.`);PE(A,I)||A.push(I)}v=new mn(A),_=d.fieldTransforms.filter((V=>v.covers(V.field)))}else v=null,_=d.fieldTransforms;return new zR(new nn(g),v,_)}class Vc extends em{_toFieldTransform(e){if(e.Ac!==2)throw e.Ac===1?e.Sc(`${this._methodName}() can only appear at the top level of your update data`):e.Sc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Vc}}function BR(r,e,i,s){const o=r.Cc(1,e,i);am("Data must be an object, but it was:",o,s);const f=[],d=nn.empty();Ia(s,((v,_)=>{const A=rm(e,v,i);_=zn(_);const V=o.yc(A);if(_ instanceof Vc)f.push(A);else{const I=Oc(_,V);I!=null&&(f.push(A),d.set(A,I))}}));const g=new mn(f);return new ME(d,g,o.fieldTransforms)}function qR(r,e,i,s,o,f){const d=r.Cc(1,e,i),g=[Td(e,s,i)],v=[o];if(f.length%2!=0)throw new rt(K.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let I=0;I<f.length;I+=2)g.push(Td(e,f[I])),v.push(f[I+1]);const _=[],A=nn.empty();for(let I=g.length-1;I>=0;--I)if(!PE(_,g[I])){const G=g[I];let J=v[I];J=zn(J);const $=d.yc(G);if(J instanceof Vc)_.push(G);else{const Z=Oc(J,$);Z!=null&&(_.push(G),A.set(G,Z))}}const V=new mn(_);return new ME(A,V,d.fieldTransforms)}function Oc(r,e){if(LE(r=zn(r)))return am("Unsupported field value:",e,r),UE(r,e);if(r instanceof em)return(function(s,o){if(!NE(o.Ac))throw o.Sc(`${s._methodName}() can only be used with update() and set()`);if(!o.path)throw o.Sc(`${s._methodName}() is not currently supported inside arrays`);const f=s._toFieldTransform(o);f&&o.fieldTransforms.push(f)})(r,e),null;if(r===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),r instanceof Array){if(e.settings.fc&&e.Ac!==4)throw e.Sc("Nested arrays are not supported");return(function(s,o){const f=[];let d=0;for(const g of s){let v=Oc(g,o.wc(d));v==null&&(v={nullValue:"NULL_VALUE"}),f.push(v),d++}return{arrayValue:{values:f}}})(r,e)}return(function(s,o){if((s=zn(s))===null)return{nullValue:"NULL_VALUE"};if(typeof s=="number")return VS(o.serializer,s);if(typeof s=="boolean")return{booleanValue:s};if(typeof s=="string")return{stringValue:s};if(s instanceof Date){const f=Jt.fromDate(s);return{timestampValue:sc(o.serializer,f)}}if(s instanceof Jt){const f=new Jt(s.seconds,1e3*Math.floor(s.nanoseconds/1e3));return{timestampValue:sc(o.serializer,f)}}if(s instanceof si)return{geoPointValue:{latitude:s.latitude,longitude:s.longitude}};if(s instanceof In)return{bytesValue:Jv(o.serializer,s._byteString)};if(s instanceof fe){const f=o.databaseId,d=s.firestore._databaseId;if(!d.isEqual(f))throw o.Sc(`Document reference is for database ${d.projectId}/${d.database} but should be for database ${f.projectId}/${f.database}`);return{referenceValue:kd(s.firestore._databaseId||o.databaseId,s._key.path)}}if(s instanceof li)return(function(d,g){return{mapValue:{fields:{[Cv]:{stringValue:Dv},[ec]:{arrayValue:{values:d.toArray().map((_=>{if(typeof _!="number")throw g.Sc("VectorValues must only contain numeric values.");return Ld(g.serializer,_)}))}}}}}})(s,o);throw o.Sc(`Unsupported field value: ${Vd(s)}`)})(r,e)}function UE(r,e){const i={};return Tv(r)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Ia(r,((s,o)=>{const f=Oc(o,e.mc(s));f!=null&&(i[s]=f)})),{mapValue:{fields:i}}}function LE(r){return!(typeof r!="object"||r===null||r instanceof Array||r instanceof Date||r instanceof Jt||r instanceof si||r instanceof In||r instanceof fe||r instanceof em||r instanceof li)}function am(r,e,i){if(!LE(i)||!vv(i)){const s=Vd(i);throw s==="an object"?e.Sc(r+" a custom object"):e.Sc(r+" "+s)}}function Td(r,e,i){if((e=zn(e))instanceof Ic)return e._internalPath;if(typeof e=="string")return rm(r,e);throw cc("Field path arguments must be of type string or ",r,!1,void 0,i)}const jR=new RegExp("[~\\*/\\[\\]]");function rm(r,e,i){if(e.search(jR)>=0)throw cc(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,r,!1,void 0,i);try{return new Ic(...e.split("."))._internalPath}catch{throw cc(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,r,!1,void 0,i)}}function cc(r,e,i,s,o){const f=s&&!s.isEmpty(),d=o!==void 0;let g=`Function ${e}() called with invalid data`;i&&(g+=" (via `toFirestore()`)"),g+=". ";let v="";return(f||d)&&(v+=" (found",f&&(v+=` in field ${s}`),d&&(v+=` in document ${o}`),v+=")"),new rt(K.INVALID_ARGUMENT,g+r+v)}function PE(r,e){return r.some((i=>i.isEqual(e)))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zE{constructor(e,i,s,o,f){this._firestore=e,this._userDataWriter=i,this._key=s,this._document=o,this._converter=f}get id(){return this._key.path.lastSegment()}get ref(){return new fe(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new HR(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const i=this._document.data.field(kE("DocumentSnapshot.get",e));if(i!==null)return this._userDataWriter.convertValue(i)}}}class HR extends zE{data(){return super.data()}}function kE(r,e){return typeof e=="string"?rm(r,e):e instanceof Ic?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function GR(r){if(r.limitType==="L"&&r.explicitOrderBy.length===0)throw new rt(K.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class FR{convertValue(e,i="none"){switch(Ra(e)){case 0:return null;case 1:return e.booleanValue;case 2:return ce(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,i);case 5:return e.stringValue;case 6:return this.convertBytes(ba(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,i);case 11:return this.convertObject(e.mapValue,i);case 10:return this.convertVectorValue(e.mapValue);default:throw pt(62114,{value:e})}}convertObject(e,i){return this.convertObjectMap(e.fields,i)}convertObjectMap(e,i="none"){const s={};return Ia(e,((o,f)=>{s[o]=this.convertValue(f,i)})),s}convertVectorValue(e){const i=e.fields?.[ec].arrayValue?.values?.map((s=>ce(s.doubleValue)));return new li(i)}convertGeoPoint(e){return new si(ce(e.latitude),ce(e.longitude))}convertArray(e,i){return(e.values||[]).map((s=>this.convertValue(s,i)))}convertServerTimestamp(e,i){switch(i){case"previous":const s=pc(e);return s==null?null:this.convertValue(s,i);case"estimate":return this.convertTimestamp(ao(e));default:return null}}convertTimestamp(e){const i=Sa(e);return new Jt(i.seconds,i.nanos)}convertDocumentKey(e,i){const s=$t.fromString(e);Bt(aE(s),9688,{name:e});const o=new ro(s.get(1),s.get(3)),f=new ht(s.popFirst(5));return o.isEqual(i)||zi(`Document ${f} contains a document reference within a different database (${o.projectId}/${o.database}) which is not supported. It will be treated as a reference in the current database (${i.projectId}/${i.database}) instead.`),f}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function BE(r,e,i){let s;return s=r?r.toFirestore(e):e,s}class Yl{constructor(e,i){this.hasPendingWrites=e,this.fromCache=i}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class _r extends zE{constructor(e,i,s,o,f,d){super(e,i,s,o,d),this._firestore=e,this._firestoreImpl=e,this.metadata=f}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const i=new Zu(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(i,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,i={}){if(this._document){const s=this._document.data.field(kE("DocumentSnapshot.get",e));if(s!==null)return this._userDataWriter.convertValue(s,i.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new rt(K.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,i={};return i.type=_r._jsonSchemaVersion,i.bundle="",i.bundleSource="DocumentSnapshot",i.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?i:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),i.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),i)}}_r._jsonSchemaVersion="firestore/documentSnapshot/1.0",_r._jsonSchema={type:ye("string",_r._jsonSchemaVersion),bundleSource:ye("string","DocumentSnapshot"),bundleName:ye("string"),bundle:ye("string")};class Zu extends _r{data(e={}){return super.data(e)}}class Ss{constructor(e,i,s,o){this._firestore=e,this._userDataWriter=i,this._snapshot=o,this.metadata=new Yl(o.hasPendingWrites,o.fromCache),this.query=s}get docs(){const e=[];return this.forEach((i=>e.push(i))),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,i){this._snapshot.docs.forEach((s=>{e.call(i,new Zu(this._firestore,this._userDataWriter,s.key,s,new Yl(this._snapshot.mutatedKeys.has(s.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(e={}){const i=!!e.includeMetadataChanges;if(i&&this._snapshot.excludesMetadataChanges)throw new rt(K.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===i||(this._cachedChanges=(function(o,f){if(o._snapshot.oldDocs.isEmpty()){let d=0;return o._snapshot.docChanges.map((g=>{const v=new Zu(o._firestore,o._userDataWriter,g.doc.key,g.doc,new Yl(o._snapshot.mutatedKeys.has(g.doc.key),o._snapshot.fromCache),o.query.converter);return g.doc,{type:"added",doc:v,oldIndex:-1,newIndex:d++}}))}{let d=o._snapshot.oldDocs;return o._snapshot.docChanges.filter((g=>f||g.type!==3)).map((g=>{const v=new Zu(o._firestore,o._userDataWriter,g.doc.key,g.doc,new Yl(o._snapshot.mutatedKeys.has(g.doc.key),o._snapshot.fromCache),o.query.converter);let _=-1,A=-1;return g.type!==0&&(_=d.indexOf(g.doc.key),d=d.delete(g.doc.key)),g.type!==1&&(d=d.add(g.doc),A=d.indexOf(g.doc.key)),{type:QR(g.type),doc:v,oldIndex:_,newIndex:A}}))}})(this,i),this._cachedChangesIncludeMetadataChanges=i),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new rt(K.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=Ss._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=Id.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const i=[],s=[],o=[];return this.docs.forEach((f=>{f._document!==null&&(i.push(f._document),s.push(this._userDataWriter.convertObjectMap(f._document.data.value.mapValue.fields,"previous")),o.push(f.ref.path))})),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function QR(r){switch(r){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return pt(61501,{type:r})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function YR(r){r=Ln(r,fe);const e=Ln(r.firestore,Tr);return NR(tm(e),r._key).then((i=>HE(e,r,i)))}Ss._jsonSchemaVersion="firestore/querySnapshot/1.0",Ss._jsonSchema={type:ye("string",Ss._jsonSchemaVersion),bundleSource:ye("string","QuerySnapshot"),bundleName:ye("string"),bundle:ye("string")};class qE extends FR{constructor(e){super(),this.firestore=e}convertBytes(e){return new In(e)}convertReference(e){const i=this.convertDocumentKey(e,this.firestore._databaseId);return new fe(this.firestore,null,i)}}function KR(r,e,i){r=Ln(r,fe);const s=Ln(r.firestore,Tr),o=BE(r.converter,e);return sm(s,[xE(im(s),"setDoc",r._key,o,r.converter!==null,i).toMutation(r._key,Pn.none())])}function q_(r,e,i,...s){r=Ln(r,fe);const o=Ln(r.firestore,Tr),f=im(o);let d;return d=typeof(e=zn(e))=="string"||e instanceof Ic?qR(f,"updateDoc",r._key,e,i,s):BR(f,"updateDoc",r._key,e),sm(o,[d.toMutation(r._key,Pn.exists(!0))])}function XR(r,e){const i=Ln(r.firestore,Tr),s=Wd(r),o=BE(r.converter,e);return sm(i,[xE(im(r.firestore),"addDoc",s._key,o,r.converter!==null,{}).toMutation(s._key,Pn.exists(!1))]).then((()=>s))}function jE(r,...e){r=zn(r);let i={includeMetadataChanges:!1,source:"default"},s=0;typeof e[s]!="object"||B_(e[s])||(i=e[s++]);const o={includeMetadataChanges:i.includeMetadataChanges,source:i.source};if(B_(e[s])){const v=e[s];e[s]=v.next?.bind(v),e[s+1]=v.error?.bind(v),e[s+2]=v.complete?.bind(v)}let f,d,g;if(r instanceof fe)d=Ln(r.firestore,Tr),g=_c(r._key.path),f={next:v=>{e[s]&&e[s](HE(d,r,v))},error:e[s+1],complete:e[s+2]};else{const v=Ln(r,Dc);d=Ln(v.firestore,Tr),g=v._query;const _=new qE(d);f={next:A=>{e[s]&&e[s](new Ss(d,_,v,A))},error:e[s+1],complete:e[s+2]},GR(r._query)}return(function(_,A,V,I){const G=new DE(I),J=new vE(A,G,V);return _.asyncQueue.enqueueAndForget((async()=>yE(await Ed(_),J))),()=>{G.Nu(),_.asyncQueue.enqueueAndForget((async()=>_E(await Ed(_),J)))}})(tm(d),g,o,f)}function sm(r,e){return(function(s,o){const f=new va;return s.asyncQueue.enqueueAndForget((async()=>TR(await MR(s),o,f))),f.promise})(tm(r),e)}function HE(r,e,i){const s=i.docs.get(e._key),o=new qE(r);return new _r(r,o,e._key,s,new Yl(i.hasPendingWrites,i.fromCache),e.converter)}(function(e,i=!0){(function(o){Vs=o})(wA),Ta(new Li("firestore",((s,{instanceIdentifier:o,options:f})=>{const d=s.getProvider("app").getImmediate(),g=new Tr(new qA(s.getProvider("auth-internal")),new GA(d,s.getProvider("app-check-internal")),(function(_,A){if(!Object.prototype.hasOwnProperty.apply(_.options,["projectId"]))throw new rt(K.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new ro(_.options.projectId,A)})(d,o),d);return f={useFetchStreams:i,...f},g._setSettings(f),g}),"PUBLIC").setMultipleInstances(!0)),ii(Fy,Qy,e),ii(Fy,Qy,"esm2020")})();const GE="@firebase/installations",lm="0.6.19";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const FE=1e4,QE=`w:${lm}`,YE="FIS_v2",ZR="https://firebaseinstallations.googleapis.com/v1",$R=3600*1e3,JR="installations",WR="Installations";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const t2={"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."},Ar=new dc(JR,WR,t2);function KE(r){return r instanceof Da&&r.code.includes("request-failed")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function XE({projectId:r}){return`${ZR}/projects/${r}/installations`}function ZE(r){return{token:r.token,requestStatus:2,expiresIn:n2(r.expiresIn),creationTime:Date.now()}}async function $E(r,e){const s=(await e.json()).error;return Ar.create("request-failed",{requestName:r,serverCode:s.code,serverMessage:s.message,serverStatus:s.status})}function JE({apiKey:r}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":r})}function e2(r,{refreshToken:e}){const i=JE(r);return i.append("Authorization",i2(e)),i}async function WE(r){const e=await r();return e.status>=500&&e.status<600?r():e}function n2(r){return Number(r.replace("s","000"))}function i2(r){return`${YE} ${r}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function a2({appConfig:r,heartbeatServiceProvider:e},{fid:i}){const s=XE(r),o=JE(r),f=e.getImmediate({optional:!0});if(f){const _=await f.getHeartbeatsHeader();_&&o.append("x-firebase-client",_)}const d={fid:i,authVersion:YE,appId:r.appId,sdkVersion:QE},g={method:"POST",headers:o,body:JSON.stringify(d)},v=await WE(()=>fetch(s,g));if(v.ok){const _=await v.json();return{fid:_.fid||i,registrationStatus:2,refreshToken:_.refreshToken,authToken:ZE(_.authToken)}}else throw await $E("Create Installation",v)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tT(r){return new Promise(e=>{setTimeout(e,r)})}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function r2(r){return btoa(String.fromCharCode(...r)).replace(/\+/g,"-").replace(/\//g,"_")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const s2=/^[cdef][\w-]{21}$/,Ad="";function l2(){try{const r=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(r),r[0]=112+r[0]%16;const i=o2(r);return s2.test(i)?i:Ad}catch{return Ad}}function o2(r){return r2(r).substr(0,22)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Mc(r){return`${r.appName}!${r.appId}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eT=new Map;function nT(r,e){const i=Mc(r);iT(i,e),u2(i,e)}function iT(r,e){const i=eT.get(r);if(i)for(const s of i)s(e)}function u2(r,e){const i=c2();i&&i.postMessage({key:r,fid:e}),f2()}let yr=null;function c2(){return!yr&&"BroadcastChannel"in self&&(yr=new BroadcastChannel("[Firebase] FID Change"),yr.onmessage=r=>{iT(r.data.key,r.data.fid)}),yr}function f2(){eT.size===0&&yr&&(yr.close(),yr=null)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const h2="firebase-installations-database",d2=1,Sr="firebase-installations-store";let Zh=null;function om(){return Zh||(Zh=rv(h2,d2,{upgrade:(r,e)=>{switch(e){case 0:r.createObjectStore(Sr)}}})),Zh}async function fc(r,e){const i=Mc(r),o=(await om()).transaction(Sr,"readwrite"),f=o.objectStore(Sr),d=await f.get(i);return await f.put(e,i),await o.done,(!d||d.fid!==e.fid)&&nT(r,e.fid),e}async function aT(r){const e=Mc(r),s=(await om()).transaction(Sr,"readwrite");await s.objectStore(Sr).delete(e),await s.done}async function Nc(r,e){const i=Mc(r),o=(await om()).transaction(Sr,"readwrite"),f=o.objectStore(Sr),d=await f.get(i),g=e(d);return g===void 0?await f.delete(i):await f.put(g,i),await o.done,g&&(!d||d.fid!==g.fid)&&nT(r,g.fid),g}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function um(r){let e;const i=await Nc(r.appConfig,s=>{const o=m2(s),f=g2(r,o);return e=f.registrationPromise,f.installationEntry});return i.fid===Ad?{installationEntry:await e}:{installationEntry:i,registrationPromise:e}}function m2(r){const e=r||{fid:l2(),registrationStatus:0};return rT(e)}function g2(r,e){if(e.registrationStatus===0){if(!navigator.onLine){const o=Promise.reject(Ar.create("app-offline"));return{installationEntry:e,registrationPromise:o}}const i={fid:e.fid,registrationStatus:1,registrationTime:Date.now()},s=p2(r,i);return{installationEntry:i,registrationPromise:s}}else return e.registrationStatus===1?{installationEntry:e,registrationPromise:y2(r)}:{installationEntry:e}}async function p2(r,e){try{const i=await a2(r,e);return fc(r.appConfig,i)}catch(i){throw KE(i)&&i.customData.serverCode===409?await aT(r.appConfig):await fc(r.appConfig,{fid:e.fid,registrationStatus:0}),i}}async function y2(r){let e=await j_(r.appConfig);for(;e.registrationStatus===1;)await tT(100),e=await j_(r.appConfig);if(e.registrationStatus===0){const{installationEntry:i,registrationPromise:s}=await um(r);return s||i}return e}function j_(r){return Nc(r,e=>{if(!e)throw Ar.create("installation-not-found");return rT(e)})}function rT(r){return _2(r)?{fid:r.fid,registrationStatus:0}:r}function _2(r){return r.registrationStatus===1&&r.registrationTime+FE<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function v2({appConfig:r,heartbeatServiceProvider:e},i){const s=E2(r,i),o=e2(r,i),f=e.getImmediate({optional:!0});if(f){const _=await f.getHeartbeatsHeader();_&&o.append("x-firebase-client",_)}const d={installation:{sdkVersion:QE,appId:r.appId}},g={method:"POST",headers:o,body:JSON.stringify(d)},v=await WE(()=>fetch(s,g));if(v.ok){const _=await v.json();return ZE(_)}else throw await $E("Generate Auth Token",v)}function E2(r,{fid:e}){return`${XE(r)}/${e}/authTokens:generate`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function cm(r,e=!1){let i;const s=await Nc(r.appConfig,f=>{if(!sT(f))throw Ar.create("not-registered");const d=f.authToken;if(!e&&S2(d))return f;if(d.requestStatus===1)return i=T2(r,e),f;{if(!navigator.onLine)throw Ar.create("app-offline");const g=R2(f);return i=A2(r,g),g}});return i?await i:s.authToken}async function T2(r,e){let i=await H_(r.appConfig);for(;i.authToken.requestStatus===1;)await tT(100),i=await H_(r.appConfig);const s=i.authToken;return s.requestStatus===0?cm(r,e):s}function H_(r){return Nc(r,e=>{if(!sT(e))throw Ar.create("not-registered");const i=e.authToken;return w2(i)?{...e,authToken:{requestStatus:0}}:e})}async function A2(r,e){try{const i=await v2(r,e),s={...e,authToken:i};return await fc(r.appConfig,s),i}catch(i){if(KE(i)&&(i.customData.serverCode===401||i.customData.serverCode===404))await aT(r.appConfig);else{const s={...e,authToken:{requestStatus:0}};await fc(r.appConfig,s)}throw i}}function sT(r){return r!==void 0&&r.registrationStatus===2}function S2(r){return r.requestStatus===2&&!b2(r)}function b2(r){const e=Date.now();return e<r.creationTime||r.creationTime+r.expiresIn<e+$R}function R2(r){const e={requestStatus:1,requestTime:Date.now()};return{...r,authToken:e}}function w2(r){return r.requestStatus===1&&r.requestTime+FE<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function C2(r){const e=r,{installationEntry:i,registrationPromise:s}=await um(e);return s?s.catch(console.error):cm(e).catch(console.error),i.fid}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function D2(r,e=!1){const i=r;return await I2(i),(await cm(i,e)).token}async function I2(r){const{registrationPromise:e}=await um(r);e&&await e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function V2(r){if(!r||!r.options)throw $h("App Configuration");if(!r.name)throw $h("App Name");const e=["projectId","apiKey","appId"];for(const i of e)if(!r.options[i])throw $h(i);return{appName:r.name,projectId:r.options.projectId,apiKey:r.options.apiKey,appId:r.options.appId}}function $h(r){return Ar.create("missing-app-config-values",{valueName:r})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lT="installations",O2="installations-internal",M2=r=>{const e=r.getProvider("app").getImmediate(),i=V2(e),s=uo(e,"heartbeat");return{app:e,appConfig:i,heartbeatServiceProvider:s,_delete:()=>Promise.resolve()}},N2=r=>{const e=r.getProvider("app").getImmediate(),i=uo(e,lT).getImmediate();return{getId:()=>C2(i),getToken:o=>D2(i,o)}};function x2(){Ta(new Li(lT,M2,"PUBLIC")),Ta(new Li(O2,N2,"PRIVATE"))}x2();ii(GE,lm);ii(GE,lm,"esm2020");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hc="analytics",U2="firebase_id",L2="origin",P2=60*1e3,z2="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",fm="https://www.googletagmanager.com/gtag/js";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const an=new wd("@firebase/analytics");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const k2={"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-initialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',"no-client-id":'The "client_id" field is empty.',"invalid-gtag-resource":"Trusted Types detected an invalid gtag resource: {$gtagURL}."},gn=new dc("analytics","Analytics",k2);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function B2(r){if(!r.startsWith(fm)){const e=gn.create("invalid-gtag-resource",{gtagURL:r});return an.warn(e.message),""}return r}function oT(r){return Promise.all(r.map(e=>e.catch(i=>i)))}function q2(r,e){let i;return window.trustedTypes&&(i=window.trustedTypes.createPolicy(r,e)),i}function j2(r,e){const i=q2("firebase-js-sdk-policy",{createScriptURL:B2}),s=document.createElement("script"),o=`${fm}?l=${r}&id=${e}`;s.src=i?i?.createScriptURL(o):o,s.async=!0,document.head.appendChild(s)}function H2(r){let e=[];return Array.isArray(window[r])?e=window[r]:window[r]=e,e}async function G2(r,e,i,s,o,f){const d=s[o];try{if(d)await e[d];else{const v=(await oT(i)).find(_=>_.measurementId===o);v&&await e[v.appId]}}catch(g){an.error(g)}r("config",o,f)}async function F2(r,e,i,s,o){try{let f=[];if(o&&o.send_to){let d=o.send_to;Array.isArray(d)||(d=[d]);const g=await oT(i);for(const v of d){const _=g.find(V=>V.measurementId===v),A=_&&e[_.appId];if(A)f.push(A);else{f=[];break}}}f.length===0&&(f=Object.values(e)),await Promise.all(f),r("event",s,o||{})}catch(f){an.error(f)}}function Q2(r,e,i,s){async function o(f,...d){try{if(f==="event"){const[g,v]=d;await F2(r,e,i,g,v)}else if(f==="config"){const[g,v]=d;await G2(r,e,i,s,g,v)}else if(f==="consent"){const[g,v]=d;r("consent",g,v)}else if(f==="get"){const[g,v,_]=d;r("get",g,v,_)}else if(f==="set"){const[g]=d;r("set",g)}else r(f,...d)}catch(g){an.error(g)}}return o}function Y2(r,e,i,s,o){let f=function(...d){window[s].push(arguments)};return window[o]&&typeof window[o]=="function"&&(f=window[o]),window[o]=Q2(f,r,e,i),{gtagCore:f,wrappedGtag:window[o]}}function K2(r){const e=window.document.getElementsByTagName("script");for(const i of Object.values(e))if(i.src&&i.src.includes(fm)&&i.src.includes(r))return i;return null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const X2=30,Z2=1e3;class $2{constructor(e={},i=Z2){this.throttleMetadata=e,this.intervalMillis=i}getThrottleMetadata(e){return this.throttleMetadata[e]}setThrottleMetadata(e,i){this.throttleMetadata[e]=i}deleteThrottleMetadata(e){delete this.throttleMetadata[e]}}const uT=new $2;function J2(r){return new Headers({Accept:"application/json","x-goog-api-key":r})}async function W2(r){const{appId:e,apiKey:i}=r,s={method:"GET",headers:J2(i)},o=z2.replace("{app-id}",e),f=await fetch(o,s);if(f.status!==200&&f.status!==304){let d="";try{const g=await f.json();g.error?.message&&(d=g.error.message)}catch{}throw gn.create("config-fetch-failed",{httpStatus:f.status,responseMessage:d})}return f.json()}async function tw(r,e=uT,i){const{appId:s,apiKey:o,measurementId:f}=r.options;if(!s)throw gn.create("no-app-id");if(!o){if(f)return{measurementId:f,appId:s};throw gn.create("no-api-key")}const d=e.getThrottleMetadata(s)||{backoffCount:0,throttleEndTimeMillis:Date.now()},g=new iw;return setTimeout(async()=>{g.abort()},P2),cT({appId:s,apiKey:o,measurementId:f},d,g,e)}async function cT(r,{throttleEndTimeMillis:e,backoffCount:i},s,o=uT){const{appId:f,measurementId:d}=r;try{await ew(s,e)}catch(g){if(d)return an.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${d} provided in the "measurementId" field in the local Firebase config. [${g?.message}]`),{appId:f,measurementId:d};throw g}try{const g=await W2(r);return o.deleteThrottleMetadata(f),g}catch(g){const v=g;if(!nw(v)){if(o.deleteThrottleMetadata(f),d)return an.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${d} provided in the "measurementId" field in the local Firebase config. [${v?.message}]`),{appId:f,measurementId:d};throw g}const _=Number(v?.customData?.httpStatus)===503?Uy(i,o.intervalMillis,X2):Uy(i,o.intervalMillis),A={throttleEndTimeMillis:Date.now()+_,backoffCount:i+1};return o.setThrottleMetadata(f,A),an.debug(`Calling attemptFetch again in ${_} millis`),cT(r,A,s,o)}}function ew(r,e){return new Promise((i,s)=>{const o=Math.max(e-Date.now(),0),f=setTimeout(i,o);r.addEventListener(()=>{clearTimeout(f),s(gn.create("fetch-throttle",{throttleEndTimeMillis:e}))})})}function nw(r){if(!(r instanceof Da)||!r.customData)return!1;const e=Number(r.customData.httpStatus);return e===429||e===500||e===503||e===504}class iw{constructor(){this.listeners=[]}addEventListener(e){this.listeners.push(e)}abort(){this.listeners.forEach(e=>e())}}async function aw(r,e,i,s,o){if(o&&o.global){r("event",i,s);return}else{const f=await e,d={...s,send_to:f};r("event",i,d)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function rw(){if(ev())try{await nv()}catch(r){return an.warn(gn.create("indexeddb-unavailable",{errorInfo:r?.toString()}).message),!1}else return an.warn(gn.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;return!0}async function sw(r,e,i,s,o,f,d){const g=tw(r);g.then(I=>{i[I.measurementId]=I.appId,r.options.measurementId&&I.measurementId!==r.options.measurementId&&an.warn(`The measurement ID in the local Firebase config (${r.options.measurementId}) does not match the measurement ID fetched from the server (${I.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(I=>an.error(I)),e.push(g);const v=rw().then(I=>{if(I)return s.getId()}),[_,A]=await Promise.all([g,v]);K2(f)||j2(f,_.measurementId),o("js",new Date);const V=d?.config??{};return V[L2]="firebase",V.update=!0,A!=null&&(V[U2]=A),o("config",_.measurementId,V),_.measurementId}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lw{constructor(e){this.app=e}_delete(){return delete to[this.app.options.appId],Promise.resolve()}}let to={},G_=[];const F_={};let Jh="dataLayer",ow="gtag",Q_,fT,Y_=!1;function uw(){const r=[];if(_1()&&r.push("This is a browser extension environment."),E1()||r.push("Cookies are not available."),r.length>0){const e=r.map((s,o)=>`(${o+1}) ${s}`).join(" "),i=gn.create("invalid-analytics-context",{errorInfo:e});an.warn(i.message)}}function cw(r,e,i){uw();const s=r.options.appId;if(!s)throw gn.create("no-app-id");if(!r.options.apiKey)if(r.options.measurementId)an.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${r.options.measurementId} provided in the "measurementId" field in the local Firebase config.`);else throw gn.create("no-api-key");if(to[s]!=null)throw gn.create("already-exists",{id:s});if(!Y_){H2(Jh);const{wrappedGtag:f,gtagCore:d}=Y2(to,G_,F_,Jh,ow);fT=f,Q_=d,Y_=!0}return to[s]=sw(r,G_,F_,e,Q_,Jh,i),new lw(r)}function fw(r=lv()){r=zn(r);const e=uo(r,hc);return e.isInitialized()?e.getImmediate():hw(r)}function hw(r,e={}){const i=uo(r,hc);if(i.isInitialized()){const o=i.getImmediate();if(eo(e,i.getOptions()))return o;throw gn.create("already-initialized")}return i.initialize({options:e})}function dw(r,e,i,s){r=zn(r),aw(fT,to[r.app.options.appId],e,i,s).catch(o=>an.error(o))}const K_="@firebase/analytics",X_="0.10.18";function mw(){Ta(new Li(hc,(e,{options:i})=>{const s=e.getProvider("app").getImmediate(),o=e.getProvider("installations-internal").getImmediate();return cw(s,o,i)},"PUBLIC")),Ta(new Li("analytics-internal",r,"PRIVATE")),ii(K_,X_),ii(K_,X_,"esm2020");function r(e){try{const i=e.getProvider(hc).getImmediate();return{logEvent:(s,o,f)=>dw(i,s,o,f)}}catch(i){throw gn.create("interop-component-reg-failed",{reason:i})}}}mw();const gw={apiKey:"AIzaSyC58Z_dIaAPNPcayXzk-baSiAjL-TFRS8k",authDomain:"privycall-1b49e.firebaseapp.com",projectId:"privycall-1b49e",storageBucket:"privycall-1b49e.firebasestorage.app",messagingSenderId:"1004178783705",appId:"1:1004178783705:web:982becce83d3e191e66dc8",measurementId:"G-M0K69HSZW3"},hT=sv(gw);fw(hT);const dT=UR(hT);async function pw(){const r=Wd(Wl(dT,"calls")),e=Wl(r,"offerCandidates"),i=Wl(r,"answerCandidates");return await KR(r,{createdAt:Date.now()}),console.log("Created call with id:",r.id),{callDoc:r,offerCandidates:e,answerCandidates:i,callId:r.id}}async function yw(r){const e=Wd(dT,"calls",r),i=await YR(e);if(!i.exists())throw new Error("Call not found");const s=i.data(),o=Wl(e,"offerCandidates"),f=Wl(e,"answerCandidates");return{callDoc:e,callData:s,offerCandidates:o,answerCandidates:f}}async function Z_(r,e){await XR(r,e.toJSON())}function $_(r,e){return jE(r,i=>{i.docChanges().forEach(s=>{s.type==="added"&&e(s.doc.data())})})}function _w(){const r=mr.useRef(null),e=mr.useRef(null),i=mr.useRef(null),[s,o]=mr.useState(null),[f,d]=mr.useState(null),[g,v]=mr.useState(""),_=async()=>{const $=await Z0();r.current&&(r.current.srcObject=$);const Z=X0();$0(Z,$);const dt=J0(Z);return e.current&&(e.current.srcObject=dt),i.current=Z,o($),d(dt),{pc:Z,localStream:$,remoteStream:dt}},A=async()=>{await _();const $=i.current,{callDoc:Z,offerCandidates:dt,answerCandidates:ct,callId:lt}=await pw();v(lt),$.onicecandidate=ot=>{ot.candidate&&Z_(dt,ot.candidate)};const Rt=await $.createOffer();await $.setLocalDescription(Rt),await q_(Z,{offer:{type:Rt.type,sdp:Rt.sdp}}),$_(ct,async ot=>{await $.addIceCandidate(ot)}),jE(Z,async ot=>{const Ut=ot.data();Ut?.answer&&!$.currentRemoteDescription&&await $.setRemoteDescription(Ut.answer)})},V=async()=>{const{pc:$}=await _(),{callDoc:Z,callData:dt,offerCandidates:ct,answerCandidates:lt}=await yw(g);$.onicecandidate=ot=>{ot.candidate&&Z_(lt,ot.candidate)},await $.setRemoteDescription(dt.offer);const Rt=await $.createAnswer();await $.setLocalDescription(Rt),await q_(Z,{answer:{type:Rt.type,sdp:Rt.sdp}}),$_(ct,async ot=>{await $.addIceCandidate(ot)})},I=()=>{s&&s.getAudioTracks().forEach($=>$.enabled=!$.enabled)},G=()=>{s&&s.getVideoTracks().forEach($=>$.enabled=!$.enabled)},J=async()=>{if(!i.current||!s)return;const Z=(await navigator.mediaDevices.getDisplayMedia({video:!0})).getVideoTracks()[0],dt=i.current.getSenders().find(ct=>ct.track?.kind==="video");dt&&dt.replaceTrack(Z),Z.onended=()=>{const ct=s.getVideoTracks()[0];dt.replaceTrack(ct)}};return tn.jsxs(tn.Fragment,{children:[tn.jsx("video",{ref:r,autoPlay:!0,playsInline:!0,muted:!0}),tn.jsx("video",{ref:e,autoPlay:!0,playsInline:!0}),tn.jsxs("nav",{className:"menu",children:[tn.jsx("button",{type:"button",onClick:I,children:"Microphone"}),tn.jsx("button",{type:"button",onClick:A,children:"Call"}),tn.jsx("button",{type:"button",onClick:G,children:"Camera"}),tn.jsx("button",{type:"button",onClick:J,children:"Screen"})]}),tn.jsxs("p",{children:["Your Call ID: ",g]}),tn.jsx("input",{type:"text",placeholder:"Enter Call ID",value:g,onChange:$=>v($.target.value)}),tn.jsx("button",{type:"button",onClick:V,children:"Join Call"})]})}Y0.createRoot(document.getElementById("root")).render(tn.jsx(mr.StrictMode,{children:tn.jsx(_w,{})}));
